function fN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function gE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ym={exports:{}},xc={},vm={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function pN(){if(M_)return $e;M_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,A={};function k(U,te,ye){this.props=U,this.context=te,this.refs=A,this.updater=ye||T}k.prototype.isReactComponent={},k.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function M(){}M.prototype=k.prototype;function W(U,te,ye){this.props=U,this.context=te,this.refs=A,this.updater=ye||T}var $=W.prototype=new M;$.constructor=W,C($,k.prototype),$.isPureReactComponent=!0;var B=Array.isArray,K=Object.prototype.hasOwnProperty,ee={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function b(U,te,ye){var _e,Pe={},je=null,me=null;if(te!=null)for(_e in te.ref!==void 0&&(me=te.ref),te.key!==void 0&&(je=""+te.key),te)K.call(te,_e)&&!D.hasOwnProperty(_e)&&(Pe[_e]=te[_e]);var Fe=arguments.length-2;if(Fe===1)Pe.children=ye;else if(1<Fe){for(var Qe=Array(Fe),gt=0;gt<Fe;gt++)Qe[gt]=arguments[gt+2];Pe.children=Qe}if(U&&U.defaultProps)for(_e in Fe=U.defaultProps,Fe)Pe[_e]===void 0&&(Pe[_e]=Fe[_e]);return{$$typeof:n,type:U,key:je,ref:me,props:Pe,_owner:ee.current}}function j(U,te){return{$$typeof:n,type:U.type,key:te,ref:U.ref,props:U.props,_owner:U._owner}}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return te[ye]})}var R=/\/+/g;function N(U,te){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):te.toString(36)}function Y(U,te,ye,_e,Pe){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var me=!1;if(U===null)me=!0;else switch(je){case"string":case"number":me=!0;break;case"object":switch(U.$$typeof){case n:case e:me=!0}}if(me)return me=U,Pe=Pe(me),U=_e===""?"."+N(me,0):_e,B(Pe)?(ye="",U!=null&&(ye=U.replace(R,"$&/")+"/"),Y(Pe,te,ye,"",function(gt){return gt})):Pe!=null&&(L(Pe)&&(Pe=j(Pe,ye+(!Pe.key||me&&me.key===Pe.key?"":(""+Pe.key).replace(R,"$&/")+"/")+U)),te.push(Pe)),1;if(me=0,_e=_e===""?".":_e+":",B(U))for(var Fe=0;Fe<U.length;Fe++){je=U[Fe];var Qe=_e+N(je,Fe);me+=Y(je,te,ye,Qe,Pe)}else if(Qe=x(U),typeof Qe=="function")for(U=Qe.call(U),Fe=0;!(je=U.next()).done;)je=je.value,Qe=_e+N(je,Fe++),me+=Y(je,te,ye,Qe,Pe);else if(je==="object")throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return me}function he(U,te,ye){if(U==null)return U;var _e=[],Pe=0;return Y(U,_e,"","",function(je){return te.call(ye,je,Pe++)}),_e}function de(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var ge={current:null},G={transition:null},X={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:G,ReactCurrentOwner:ee};function se(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:he,forEach:function(U,te,ye){he(U,function(){te.apply(this,arguments)},ye)},count:function(U){var te=0;return he(U,function(){te++}),te},toArray:function(U){return he(U,function(te){return te})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},$e.Component=k,$e.Fragment=t,$e.Profiler=i,$e.PureComponent=W,$e.StrictMode=r,$e.Suspense=p,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,$e.act=se,$e.cloneElement=function(U,te,ye){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var _e=C({},U.props),Pe=U.key,je=U.ref,me=U._owner;if(te!=null){if(te.ref!==void 0&&(je=te.ref,me=ee.current),te.key!==void 0&&(Pe=""+te.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(Qe in te)K.call(te,Qe)&&!D.hasOwnProperty(Qe)&&(_e[Qe]=te[Qe]===void 0&&Fe!==void 0?Fe[Qe]:te[Qe])}var Qe=arguments.length-2;if(Qe===1)_e.children=ye;else if(1<Qe){Fe=Array(Qe);for(var gt=0;gt<Qe;gt++)Fe[gt]=arguments[gt+2];_e.children=Fe}return{$$typeof:n,type:U.type,key:Pe,ref:je,props:_e,_owner:me}},$e.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},$e.createElement=b,$e.createFactory=function(U){var te=b.bind(null,U);return te.type=U,te},$e.createRef=function(){return{current:null}},$e.forwardRef=function(U){return{$$typeof:h,render:U}},$e.isValidElement=L,$e.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},$e.memo=function(U,te){return{$$typeof:m,type:U,compare:te===void 0?null:te}},$e.startTransition=function(U){var te=G.transition;G.transition={};try{U()}finally{G.transition=te}},$e.unstable_act=se,$e.useCallback=function(U,te){return ge.current.useCallback(U,te)},$e.useContext=function(U){return ge.current.useContext(U)},$e.useDebugValue=function(){},$e.useDeferredValue=function(U){return ge.current.useDeferredValue(U)},$e.useEffect=function(U,te){return ge.current.useEffect(U,te)},$e.useId=function(){return ge.current.useId()},$e.useImperativeHandle=function(U,te,ye){return ge.current.useImperativeHandle(U,te,ye)},$e.useInsertionEffect=function(U,te){return ge.current.useInsertionEffect(U,te)},$e.useLayoutEffect=function(U,te){return ge.current.useLayoutEffect(U,te)},$e.useMemo=function(U,te){return ge.current.useMemo(U,te)},$e.useReducer=function(U,te,ye){return ge.current.useReducer(U,te,ye)},$e.useRef=function(U){return ge.current.useRef(U)},$e.useState=function(U){return ge.current.useState(U)},$e.useSyncExternalStore=function(U,te,ye){return ge.current.useSyncExternalStore(U,te,ye)},$e.useTransition=function(){return ge.current.useTransition()},$e.version="18.3.1",$e}var O_;function of(){return O_||(O_=1,vm.exports=pN()),vm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function mN(){if(L_)return xc;L_=1;var n=of(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var y,v={},x=null,T=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(T=p.ref);for(y in p)r.call(p,y)&&!a.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:e,type:h,key:x,ref:T,props:v,_owner:i.current}}return xc.Fragment=t,xc.jsx=u,xc.jsxs=u,xc}var V_;function gN(){return V_||(V_=1,ym.exports=mN()),ym.exports}var c=gN(),Vd={},wm={exports:{}},_n={},_m={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function yN(){return F_||(F_=1,(function(n){function e(G,X){var se=G.length;G.push(X);e:for(;0<se;){var U=se-1>>>1,te=G[U];if(0<i(te,X))G[U]=X,G[se]=te,se=U;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var X=G[0],se=G.pop();if(se!==X){G[0]=se;e:for(var U=0,te=G.length,ye=te>>>1;U<ye;){var _e=2*(U+1)-1,Pe=G[_e],je=_e+1,me=G[je];if(0>i(Pe,se))je<te&&0>i(me,Pe)?(G[U]=me,G[je]=se,U=je):(G[U]=Pe,G[_e]=se,U=_e);else if(je<te&&0>i(me,se))G[U]=me,G[je]=se,U=je;else break e}}return X}function i(G,X){var se=G.sortIndex-X.sortIndex;return se!==0?se:G.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],m=[],y=1,v=null,x=3,T=!1,C=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(G){for(var X=t(m);X!==null;){if(X.callback===null)r(m);else if(X.startTime<=G)r(m),X.sortIndex=X.expirationTime,e(p,X);else break;X=t(m)}}function B(G){if(A=!1,$(G),!C)if(t(p)!==null)C=!0,de(K);else{var X=t(m);X!==null&&ge(B,X.startTime-G)}}function K(G,X){C=!1,A&&(A=!1,M(b),b=-1),T=!0;var se=x;try{for($(X),v=t(p);v!==null&&(!(v.expirationTime>X)||G&&!V());){var U=v.callback;if(typeof U=="function"){v.callback=null,x=v.priorityLevel;var te=U(v.expirationTime<=X);X=n.unstable_now(),typeof te=="function"?v.callback=te:v===t(p)&&r(p),$(X)}else r(p);v=t(p)}if(v!==null)var ye=!0;else{var _e=t(m);_e!==null&&ge(B,_e.startTime-X),ye=!1}return ye}finally{v=null,x=se,T=!1}}var ee=!1,D=null,b=-1,j=5,L=-1;function V(){return!(n.unstable_now()-L<j)}function R(){if(D!==null){var G=n.unstable_now();L=G;var X=!0;try{X=D(!0,G)}finally{X?N():(ee=!1,D=null)}}else ee=!1}var N;if(typeof W=="function")N=function(){W(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,he=Y.port2;Y.port1.onmessage=R,N=function(){he.postMessage(null)}}else N=function(){k(R,0)};function de(G){D=G,ee||(ee=!0,N())}function ge(G,X){b=k(function(){G(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,de(K))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var se=x;x=X;try{return G()}finally{x=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,X){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var se=x;x=G;try{return X()}finally{x=se}},n.unstable_scheduleCallback=function(G,X,se){var U=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=se+te,G={id:y++,callback:X,priorityLevel:G,startTime:se,expirationTime:te,sortIndex:-1},se>U?(G.sortIndex=se,e(m,G),t(p)===null&&G===t(m)&&(A?(M(b),b=-1):A=!0,ge(B,se-U))):(G.sortIndex=te,e(p,G),C||T||(C=!0,de(K))),G},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(G){var X=x;return function(){var se=x;x=X;try{return G.apply(this,arguments)}finally{x=se}}}})(xm)),xm}var U_;function vN(){return U_||(U_=1,_m.exports=yN()),_m.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function wN(){if(z_)return _n;z_=1;var n=of(),e=vN();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(s){return p.call(v,s)?!0:p.call(y,s)?!1:m.test(s)?v[s]=!0:(y[s]=!0,!1)}function T(s,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,l,f){if(o===null||typeof o>"u"||T(s,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(s,o,l,f,g,w,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=I}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];k[o]=new A(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function W(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(M,W);k[o]=new A(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(M,W);k[o]=new A(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(M,W);k[o]=new A(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,o,l,f){var g=k.hasOwnProperty(o)?k[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,l,g,f)&&(l=null),f||g===null?x(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):g.mustUseProperty?s[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,f=g.attributeNamespace,l===null?s.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?s.setAttributeNS(f,o,l):s.setAttribute(o,l))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),ee=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),G=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,U;function te(s){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var ye=!1;function _e(s,o){if(!s||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var f=J}Reflect.construct(s,[],o)}else{try{o.call()}catch(J){f=J}s.call(o.prototype)}else{try{throw Error()}catch(J){f=J}s()}}catch(J){if(J&&f&&typeof J.stack=="string"){for(var g=J.stack.split(`
`),w=f.stack.split(`
`),I=g.length-1,O=w.length-1;1<=I&&0<=O&&g[I]!==w[O];)O--;for(;1<=I&&0<=O;I--,O--)if(g[I]!==w[O]){if(I!==1||O!==1)do if(I--,O--,0>O||g[I]!==w[O]){var F=`
`+g[I].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=I&&0<=O);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?te(s):""}function Pe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=_e(s.type,!1),s;case 11:return s=_e(s.type.render,!1),s;case 1:return s=_e(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case ee:return"Portal";case j:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case Y:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case R:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case he:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case de:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function me(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function gt(s){var o=Qe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,w=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(I){f=""+I,w.call(this,I)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Un(s){s._valueTracker||(s._valueTracker=gt(s))}function zn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==l?(o.setValue(s),!0):!1}function Sn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qo(s,o){var l=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Tu(s,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=Fe(o.value!=null?o.value:l),s._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Yo(s,o){o=o.checked,o!=null&&$(s,"checked",o,!1)}function Yi(s,o){Yo(s,o);var l=Fe(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?At(s,o.type,l):o.hasOwnProperty("defaultValue")&&At(s,o.type,Fe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Nl(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function At(s,o,l){(o!=="number"||Sn(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Et=Array.isArray;function rr(s,o,l,f){if(s=s.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=o.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+Fe(l),o=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Al(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function kl(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Et(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Fe(l)}}function bu(s,o){var l=Fe(o.value),f=Fe(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),f!=null&&(s.defaultValue=""+f)}function Gs(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rl(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xo(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rl(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ws,Su=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,l,f,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ws.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Xi(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iu=["Webkit","ms","Moz","O"];Object.keys(Hs).forEach(function(s){Iu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Hs[o]=Hs[s]})});function qs(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Hs.hasOwnProperty(s)&&Hs[s]?(""+o).trim():o+"px"}function Jo(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=qs(l,o[l],f);l==="float"&&(l="cssFloat"),f?s.setProperty(l,g):s[l]=g}}var Pl=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(s,o){if(o){if(Pl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Zo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=null;function ea(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var cs=null,us=null,yt=null;function jl(s){if(s=oc(s)){if(typeof cs!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Zu(o),cs(s.stateNode,s.type,o))}}function Qs(s){us?yt?yt.push(s):yt=[s]:us=s}function Ys(){if(us){var s=us,o=yt;if(yt=us=null,jl(s),o)for(s=0;s<o.length;s++)jl(o[s])}}function Cu(s,o){return s(o)}function Nu(){}var Ir=!1;function Au(s,o,l){if(Ir)return s(o,l);Ir=!0;try{return Cu(s,o,l)}finally{Ir=!1,(us!==null||yt!==null)&&(Nu(),Ys())}}function Ji(s,o){var l=s.stateNode;if(l===null)return null;var f=Zu(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Xs=!1;if(h)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{Xs=!1}function ku(s,o,l,f,g,w,I,O,F){var J=Array.prototype.slice.call(arguments,3);try{o.apply(l,J)}catch(ae){this.onError(ae)}}var ds=!1,Cr=null,ta=!1,$n=null,Ru={onError:function(s){ds=!0,Cr=s}};function Pu(s,o,l,f,g,w,I,O,F){ds=!1,Cr=null,ku.apply(Ru,arguments)}function Dl(s,o,l,f,g,w,I,O,F){if(Pu.apply(this,arguments),ds){if(ds){var J=Cr;ds=!1,Cr=null}else throw Error(t(198));ta||(ta=!0,$n=J)}}function ir(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function Ml(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ju(s){if(ir(s)!==s)throw Error(t(188))}function Du(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,f=o;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return ju(g),s;if(w===f)return ju(g),o;w=w.sibling}throw Error(t(188))}if(l.return!==f.return)l=g,f=w;else{for(var I=!1,O=g.child;O;){if(O===l){I=!0,l=g,f=w;break}if(O===f){I=!0,f=g,l=w;break}O=O.sibling}if(!I){for(O=w.child;O;){if(O===l){I=!0,l=w,f=g;break}if(O===f){I=!0,f=w,l=g;break}O=O.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Mu(s){return s=Du(s),s!==null?Zi(s):null}function Zi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Zi(s);if(o!==null)return o;s=s.sibling}return null}var Ol=e.unstable_scheduleCallback,na=e.unstable_cancelCallback,eo=e.unstable_shouldYield,hs=e.unstable_requestPaint,ot=e.unstable_now,Kf=e.unstable_getCurrentPriorityLevel,ra=e.unstable_ImmediatePriority,Ll=e.unstable_UserBlockingPriority,to=e.unstable_NormalPriority,Vl=e.unstable_LowPriority,sa=e.unstable_IdlePriority,no=null,In=null;function Ou(s){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(no,s,void 0,(s.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:ro,Nr=Math.log,Bn=Math.LN2;function ro(s){return s>>>=0,s===0?32:31-(Nr(s)/Bn|0)|0}var Ar=64,Zs=4194304;function Ze(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fs(s,o){var l=s.pendingLanes;if(l===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,I=l&268435455;if(I!==0){var O=I&~g;O!==0?f=Ze(O):(w&=I,w!==0&&(f=Ze(w)))}else I=l&~g,I!==0?f=Ze(I):w!==0&&(f=Ze(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)l=31-Cn(o),g=1<<l,f|=s[l],o&=~g;return f}function so(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function io(s,o){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var I=31-Cn(w),O=1<<I,F=g[I];F===-1?((O&l)===0||(O&f)!==0)&&(g[I]=so(O,o)):F<=o&&(s.expiredLanes|=O),w&=~O}}function Fl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ul(){var s=Ar;return Ar<<=1,(Ar&4194240)===0&&(Ar=64),s}function zl(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function oo(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Cn(o),s[o]=l}function Qf(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<l;){var g=31-Cn(l),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,l&=~w}}function $l(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var f=31-Cn(l),g=1<<f;g&o|s[f]&o&&(s[f]|=o),l&=~g}}var Ke=0;function kr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Bl,ia,Gl,Wl,Hl,Rr=!1,oa=[],Pr=null,jr=null,Gt=null,ao=new Map,ps=new Map,Nn=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ei(s,o){switch(s){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":ao.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ps.delete(o.pointerId)}}function or(s,o,l,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=oc(o),o!==null&&ia(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Vu(s,o,l,f,g){switch(o){case"focusin":return Pr=or(Pr,s,o,l,f,g),!0;case"dragenter":return jr=or(jr,s,o,l,f,g),!0;case"mouseover":return Gt=or(Gt,s,o,l,f,g),!0;case"pointerover":var w=g.pointerId;return ao.set(w,or(ao.get(w)||null,s,o,l,f,g)),!0;case"gotpointercapture":return w=g.pointerId,ps.set(w,or(ps.get(w)||null,s,o,l,f,g)),!0}return!1}function aa(s){var o=ho(s.target);if(o!==null){var l=ir(o);if(l!==null){if(o=l.tag,o===13){if(o=Ml(l),o!==null){s.blockedOn=o,Hl(s.priority,function(){Gl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rt(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=la(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);Ks=f,l.target.dispatchEvent(f),Ks=null}else return o=oc(l),o!==null&&ia(o),s.blockedOn=l,!1;o.shift()}return!0}function Fu(s,o,l){rt(s)&&l.delete(o)}function Yf(){Rr=!1,Pr!==null&&rt(Pr)&&(Pr=null),jr!==null&&rt(jr)&&(jr=null),Gt!==null&&rt(Gt)&&(Gt=null),ao.forEach(Fu),ps.forEach(Fu)}function ti(s,o){s.blockedOn===o&&(s.blockedOn=null,Rr||(Rr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yf)))}function ni(s){function o(g){return ti(g,s)}if(0<oa.length){ti(oa[0],s);for(var l=1;l<oa.length;l++){var f=oa[l];f.blockedOn===s&&(f.blockedOn=null)}}for(Pr!==null&&ti(Pr,s),jr!==null&&ti(jr,s),Gt!==null&&ti(Gt,s),ao.forEach(o),ps.forEach(o),l=0;l<Nn.length;l++)f=Nn[l],f.blockedOn===s&&(f.blockedOn=null);for(;0<Nn.length&&(l=Nn[0],l.blockedOn===null);)aa(l),l.blockedOn===null&&Nn.shift()}var ms=B.ReactCurrentBatchConfig,gs=!0;function Dr(s,o,l,f){var g=Ke,w=ms.transition;ms.transition=null;try{Ke=1,ql(s,o,l,f)}finally{Ke=g,ms.transition=w}}function Uu(s,o,l,f){var g=Ke,w=ms.transition;ms.transition=null;try{Ke=4,ql(s,o,l,f)}finally{Ke=g,ms.transition=w}}function ql(s,o,l,f){if(gs){var g=la(s,o,l,f);if(g===null)ap(s,o,f,Mr,l),ei(s,f);else if(Vu(g,s,o,l,f))f.stopPropagation();else if(ei(s,f),o&4&&-1<Lu.indexOf(s)){for(;g!==null;){var w=oc(g);if(w!==null&&Bl(w),w=la(s,o,l,f),w===null&&ap(s,o,f,Mr,l),w===g)break;g=w}g!==null&&f.stopPropagation()}else ap(s,o,f,null,l)}}var Mr=null;function la(s,o,l,f){if(Mr=null,s=ea(f),s=ho(s),s!==null)if(o=ir(s),o===null)s=null;else if(l=o.tag,l===13){if(s=Ml(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Mr=s,null}function ca(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case ra:return 1;case Ll:return 4;case to:case Vl:return 16;case sa:return 536870912;default:return 16}default:return 16}}var An=null,ua=null,ys=null;function zu(){if(ys)return ys;var s,o=ua,l=o.length,f,g="value"in An?An.value:An.textContent,w=g.length;for(s=0;s<l&&o[s]===g[s];s++);var I=l-s;for(f=1;f<=I&&o[l-f]===g[w-f];f++);return ys=g.slice(s,1<f?1-f:void 0)}function lo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Or(){return!0}function Kl(){return!1}function en(s){function o(l,f,g,w,I){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Or:Kl,this.isPropagationStopped=Kl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),o}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=en(Lr),ri=se({},Lr,{view:0,detail:0}),da=en(ri),ha,fa,kn,uo=se({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==kn&&(kn&&s.type==="mousemove"?(ha=s.screenX-kn.screenX,fa=s.screenY-kn.screenY):fa=ha=0,kn=s),ha)},movementY:function(s){return"movementY"in s?s.movementY:fa}}),Ql=en(uo),$u=se({},uo,{dataTransfer:0}),Bu=en($u),pa=se({},ri,{relatedTarget:0}),Wt=en(pa),Gu=se({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=en(Gu),si=se({},Lr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=en(si),_=se({},Lr,{data:0}),E=en(_),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Z[s])?!!o[s]:!1}function Oe(){return ue}var Tt=se({},ri,{key:function(s){if(s.key){var o=P[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=lo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oe,charCode:function(s){return s.type==="keypress"?lo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?lo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nt=en(Tt),kt=se({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rn=en(kt),vs=se({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oe}),Vr=en(vs),Fr=se({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ma=en(Fr),Yl=se({},uo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),aC=en(Yl),lC=[9,13,27,32],Xf=h&&"CompositionEvent"in window,Xl=null;h&&"documentMode"in document&&(Xl=document.documentMode);var cC=h&&"TextEvent"in window&&!Xl,Cv=h&&(!Xf||Xl&&8<Xl&&11>=Xl),Nv=" ",Av=!1;function kv(s,o){switch(s){case"keyup":return lC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ga=!1;function uC(s,o){switch(s){case"compositionend":return Rv(o);case"keypress":return o.which!==32?null:(Av=!0,Nv);case"textInput":return s=o.data,s===Nv&&Av?null:s;default:return null}}function dC(s,o){if(ga)return s==="compositionend"||!Xf&&kv(s,o)?(s=zu(),ys=ua=An=null,ga=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Cv&&o.locale!=="ko"?null:o.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!hC[s.type]:o==="textarea"}function jv(s,o,l,f){Qs(f),o=Yu(o,"onChange"),0<o.length&&(l=new co("onChange","change",null,l,f),s.push({event:l,listeners:o}))}var Jl=null,Zl=null;function fC(s){Xv(s,0)}function Hu(s){var o=xa(s);if(zn(o))return s}function pC(s,o){if(s==="change")return o}var Dv=!1;if(h){var Jf;if(h){var Zf="oninput"in document;if(!Zf){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Zf=typeof Mv.oninput=="function"}Jf=Zf}else Jf=!1;Dv=Jf&&(!document.documentMode||9<document.documentMode)}function Ov(){Jl&&(Jl.detachEvent("onpropertychange",Lv),Zl=Jl=null)}function Lv(s){if(s.propertyName==="value"&&Hu(Zl)){var o=[];jv(o,Zl,s,ea(s)),Au(fC,o)}}function mC(s,o,l){s==="focusin"?(Ov(),Jl=o,Zl=l,Jl.attachEvent("onpropertychange",Lv)):s==="focusout"&&Ov()}function gC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu(Zl)}function yC(s,o){if(s==="click")return Hu(o)}function vC(s,o){if(s==="input"||s==="change")return Hu(o)}function wC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ar=typeof Object.is=="function"?Object.is:wC;function ec(s,o){if(ar(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!p.call(o,g)||!ar(s[g],o[g]))return!1}return!0}function Vv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Fv(s,o){var l=Vv(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=o&&f>=o)return{node:l,offset:o-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vv(l)}}function Uv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Uv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function zv(){for(var s=window,o=Sn();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Sn(s.document)}return o}function ep(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function _C(s){var o=zv(),l=s.focusedElem,f=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Uv(l.ownerDocument.documentElement,l)){if(f!==null&&ep(l)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=l.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=Fv(l,w);var I=Fv(l,f);g&&I&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xC=h&&"documentMode"in document&&11>=document.documentMode,ya=null,tp=null,tc=null,np=!1;function $v(s,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;np||ya==null||ya!==Sn(f)||(f=ya,"selectionStart"in f&&ep(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),tc&&ec(tc,f)||(tc=f,f=Yu(tp,"onSelect"),0<f.length&&(o=new co("onSelect","select",null,o,l),s.push({event:o,listeners:f}),o.target=ya)))}function qu(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var va={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},rp={},Bv={};h&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ku(s){if(rp[s])return rp[s];if(!va[s])return s;var o=va[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Bv)return rp[s]=o[l];return s}var Gv=Ku("animationend"),Wv=Ku("animationiteration"),Hv=Ku("animationstart"),qv=Ku("transitionend"),Kv=new Map,Qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(s,o){Kv.set(s,o),a(o,[s])}for(var sp=0;sp<Qv.length;sp++){var ip=Qv[sp],EC=ip.toLowerCase(),TC=ip[0].toUpperCase()+ip.slice(1);ii(EC,"on"+TC)}ii(Gv,"onAnimationEnd"),ii(Wv,"onAnimationIteration"),ii(Hv,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(qv,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(nc));function Yv(s,o,l){var f=s.type||"unknown-event";s.currentTarget=l,Dl(f,o,void 0,s),s.currentTarget=null}function Xv(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var I=f.length-1;0<=I;I--){var O=f[I],F=O.instance,J=O.currentTarget;if(O=O.listener,F!==w&&g.isPropagationStopped())break e;Yv(g,O,J),w=F}else for(I=0;I<f.length;I++){if(O=f[I],F=O.instance,J=O.currentTarget,O=O.listener,F!==w&&g.isPropagationStopped())break e;Yv(g,O,J),w=F}}}if(ta)throw s=$n,ta=!1,$n=null,s}function at(s,o){var l=o[fp];l===void 0&&(l=o[fp]=new Set);var f=s+"__bubble";l.has(f)||(Jv(o,s,2,!1),l.add(f))}function op(s,o,l){var f=0;o&&(f|=4),Jv(l,s,f,o)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function rc(s){if(!s[Qu]){s[Qu]=!0,r.forEach(function(l){l!=="selectionchange"&&(bC.has(l)||op(l,!1,s),op(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Qu]||(o[Qu]=!0,op("selectionchange",!1,o))}}function Jv(s,o,l,f){switch(ca(o)){case 1:var g=Dr;break;case 4:g=Uu;break;default:g=ql}l=g.bind(null,o,l,s),g=void 0,!Xs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,l,{capture:!0,passive:g}):s.addEventListener(o,l,!0):g!==void 0?s.addEventListener(o,l,{passive:g}):s.addEventListener(o,l,!1)}function ap(s,o,l,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var O=f.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(I===4)for(I=f.return;I!==null;){var F=I.tag;if((F===3||F===4)&&(F=I.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;I=I.return}for(;O!==null;){if(I=ho(O),I===null)return;if(F=I.tag,F===5||F===6){f=w=I;continue e}O=O.parentNode}}f=f.return}Au(function(){var J=w,ae=ea(l),le=[];e:{var oe=Kv.get(s);if(oe!==void 0){var pe=co,xe=s;switch(s){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":pe=nt;break;case"focusin":xe="focus",pe=Wt;break;case"focusout":xe="blur",pe=Wt;break;case"beforeblur":case"afterblur":pe=Wt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Vr;break;case Gv:case Wv:case Hv:pe=Wu;break;case qv:pe=ma;break;case"scroll":pe=da;break;case"wheel":pe=aC;break;case"copy":case"cut":case"paste":pe=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=Rn}var be=(o&4)!==0,bt=!be&&s==="scroll",H=be?oe!==null?oe+"Capture":null:oe;be=[];for(var z=J,Q;z!==null;){Q=z;var ce=Q.stateNode;if(Q.tag===5&&ce!==null&&(Q=ce,H!==null&&(ce=Ji(z,H),ce!=null&&be.push(sc(z,ce,Q)))),bt)break;z=z.return}0<be.length&&(oe=new pe(oe,xe,null,l,ae),le.push({event:oe,listeners:be}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",oe&&l!==Ks&&(xe=l.relatedTarget||l.fromElement)&&(ho(xe)||xe[ws]))break e;if((pe||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,pe?(xe=l.relatedTarget||l.toElement,pe=J,xe=xe?ho(xe):null,xe!==null&&(bt=ir(xe),xe!==bt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=J),pe!==xe)){if(be=Ql,ce="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(be=Rn,ce="onPointerLeave",H="onPointerEnter",z="pointer"),bt=pe==null?oe:xa(pe),Q=xe==null?oe:xa(xe),oe=new be(ce,z+"leave",pe,l,ae),oe.target=bt,oe.relatedTarget=Q,ce=null,ho(ae)===J&&(be=new be(H,z+"enter",xe,l,ae),be.target=Q,be.relatedTarget=bt,ce=be),bt=ce,pe&&xe)t:{for(be=pe,H=xe,z=0,Q=be;Q;Q=wa(Q))z++;for(Q=0,ce=H;ce;ce=wa(ce))Q++;for(;0<z-Q;)be=wa(be),z--;for(;0<Q-z;)H=wa(H),Q--;for(;z--;){if(be===H||H!==null&&be===H.alternate)break t;be=wa(be),H=wa(H)}be=null}else be=null;pe!==null&&Zv(le,oe,pe,be,!1),xe!==null&&bt!==null&&Zv(le,bt,xe,be,!0)}}e:{if(oe=J?xa(J):window,pe=oe.nodeName&&oe.nodeName.toLowerCase(),pe==="select"||pe==="input"&&oe.type==="file")var Se=pC;else if(Pv(oe))if(Dv)Se=vC;else{Se=gC;var Ne=mC}else(pe=oe.nodeName)&&pe.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Se=yC);if(Se&&(Se=Se(s,J))){jv(le,Se,l,ae);break e}Ne&&Ne(s,oe,J),s==="focusout"&&(Ne=oe._wrapperState)&&Ne.controlled&&oe.type==="number"&&At(oe,"number",oe.value)}switch(Ne=J?xa(J):window,s){case"focusin":(Pv(Ne)||Ne.contentEditable==="true")&&(ya=Ne,tp=J,tc=null);break;case"focusout":tc=tp=ya=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,$v(le,l,ae);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":$v(le,l,ae)}var Ae;if(Xf)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ga?kv(s,l)&&(De="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Cv&&l.locale!=="ko"&&(ga||De!=="onCompositionStart"?De==="onCompositionEnd"&&ga&&(Ae=zu()):(An=ae,ua="value"in An?An.value:An.textContent,ga=!0)),Ne=Yu(J,De),0<Ne.length&&(De=new E(De,s,null,l,ae),le.push({event:De,listeners:Ne}),Ae?De.data=Ae:(Ae=Rv(l),Ae!==null&&(De.data=Ae)))),(Ae=cC?uC(s,l):dC(s,l))&&(J=Yu(J,"onBeforeInput"),0<J.length&&(ae=new E("onBeforeInput","beforeinput",null,l,ae),le.push({event:ae,listeners:J}),ae.data=Ae))}Xv(le,o)})}function sc(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Yu(s,o){for(var l=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Ji(s,l),w!=null&&f.unshift(sc(s,w,g)),w=Ji(s,o),w!=null&&f.push(sc(s,w,g))),s=s.return}return f}function wa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Zv(s,o,l,f,g){for(var w=o._reactName,I=[];l!==null&&l!==f;){var O=l,F=O.alternate,J=O.stateNode;if(F!==null&&F===f)break;O.tag===5&&J!==null&&(O=J,g?(F=Ji(l,w),F!=null&&I.unshift(sc(l,F,O))):g||(F=Ji(l,w),F!=null&&I.push(sc(l,F,O)))),l=l.return}I.length!==0&&s.push({event:o,listeners:I})}var SC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function ew(s){return(typeof s=="string"?s:""+s).replace(SC,`
`).replace(IC,"")}function Xu(s,o,l){if(o=ew(o),ew(s)!==o&&l)throw Error(t(425))}function Ju(){}var lp=null,cp=null;function up(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var dp=typeof setTimeout=="function"?setTimeout:void 0,CC=typeof clearTimeout=="function"?clearTimeout:void 0,tw=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof tw<"u"?function(s){return tw.resolve(null).then(s).catch(AC)}:dp;function AC(s){setTimeout(function(){throw s})}function hp(s,o){var l=o,f=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){s.removeChild(g),ni(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);ni(o)}function oi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function nw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Ur="__reactFiber$"+_a,ic="__reactProps$"+_a,ws="__reactContainer$"+_a,fp="__reactEvents$"+_a,kC="__reactListeners$"+_a,RC="__reactHandles$"+_a;function ho(s){var o=s[Ur];if(o)return o;for(var l=s.parentNode;l;){if(o=l[ws]||l[Ur]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=nw(s);s!==null;){if(l=s[Ur])return l;s=nw(s)}return o}s=l,l=s.parentNode}return null}function oc(s){return s=s[Ur]||s[ws],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Zu(s){return s[ic]||null}var pp=[],Ea=-1;function ai(s){return{current:s}}function lt(s){0>Ea||(s.current=pp[Ea],pp[Ea]=null,Ea--)}function st(s,o){Ea++,pp[Ea]=s.current,s.current=o}var li={},tn=ai(li),mn=ai(!1),fo=li;function Ta(s,o){var l=s.type.contextTypes;if(!l)return li;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in l)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function gn(s){return s=s.childContextTypes,s!=null}function ed(){lt(mn),lt(tn)}function rw(s,o,l){if(tn.current!==li)throw Error(t(168));st(tn,o),st(mn,l)}function sw(s,o,l){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,me(s)||"Unknown",g));return se({},l,f)}function td(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||li,fo=tn.current,st(tn,s),st(mn,mn.current),!0}function iw(s,o,l){var f=s.stateNode;if(!f)throw Error(t(169));l?(s=sw(s,o,fo),f.__reactInternalMemoizedMergedChildContext=s,lt(mn),lt(tn),st(tn,s)):lt(mn),st(mn,l)}var _s=null,nd=!1,mp=!1;function ow(s){_s===null?_s=[s]:_s.push(s)}function PC(s){nd=!0,ow(s)}function ci(){if(!mp&&_s!==null){mp=!0;var s=0,o=Ke;try{var l=_s;for(Ke=1;s<l.length;s++){var f=l[s];do f=f(!0);while(f!==null)}_s=null,nd=!1}catch(g){throw _s!==null&&(_s=_s.slice(s+1)),Ol(ra,ci),g}finally{Ke=o,mp=!1}}return null}var ba=[],Sa=0,rd=null,sd=0,Gn=[],Wn=0,po=null,xs=1,Es="";function mo(s,o){ba[Sa++]=sd,ba[Sa++]=rd,rd=s,sd=o}function aw(s,o,l){Gn[Wn++]=xs,Gn[Wn++]=Es,Gn[Wn++]=po,po=s;var f=xs;s=Es;var g=32-Cn(f)-1;f&=~(1<<g),l+=1;var w=32-Cn(o)+g;if(30<w){var I=g-g%5;w=(f&(1<<I)-1).toString(32),f>>=I,g-=I,xs=1<<32-Cn(o)+g|l<<g|f,Es=w+s}else xs=1<<w|l<<g|f,Es=s}function gp(s){s.return!==null&&(mo(s,1),aw(s,1,0))}function yp(s){for(;s===rd;)rd=ba[--Sa],ba[Sa]=null,sd=ba[--Sa],ba[Sa]=null;for(;s===po;)po=Gn[--Wn],Gn[Wn]=null,Es=Gn[--Wn],Gn[Wn]=null,xs=Gn[--Wn],Gn[Wn]=null}var Pn=null,jn=null,ct=!1,lr=null;function lw(s,o){var l=Qn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function cw(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Pn=s,jn=oi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Pn=s,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=po!==null?{id:xs,overflow:Es}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Qn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Pn=s,jn=null,!0):!1;default:return!1}}function vp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function wp(s){if(ct){var o=jn;if(o){var l=o;if(!cw(s,o)){if(vp(s))throw Error(t(418));o=oi(l.nextSibling);var f=Pn;o&&cw(s,o)?lw(f,l):(s.flags=s.flags&-4097|2,ct=!1,Pn=s)}}else{if(vp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ct=!1,Pn=s}}}function uw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pn=s}function id(s){if(s!==Pn)return!1;if(!ct)return uw(s),ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!up(s.type,s.memoizedProps)),o&&(o=jn)){if(vp(s))throw dw(),Error(t(418));for(;o;)lw(s,o),o=oi(o.nextSibling)}if(uw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){jn=oi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}jn=null}}else jn=Pn?oi(s.stateNode.nextSibling):null;return!0}function dw(){for(var s=jn;s;)s=oi(s.nextSibling)}function Ia(){jn=Pn=null,ct=!1}function _p(s){lr===null?lr=[s]:lr.push(s)}var jC=B.ReactCurrentBatchConfig;function ac(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(I){var O=g.refs;I===null?delete O[w]:O[w]=I},o._stringRef=w,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function od(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function hw(s){var o=s._init;return o(s._payload)}function fw(s){function o(H,z){if(s){var Q=H.deletions;Q===null?(H.deletions=[z],H.flags|=16):Q.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)o(H,z),z=z.sibling;return null}function f(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function g(H,z){return H=yi(H,z),H.index=0,H.sibling=null,H}function w(H,z,Q){return H.index=Q,s?(Q=H.alternate,Q!==null?(Q=Q.index,Q<z?(H.flags|=2,z):Q):(H.flags|=2,z)):(H.flags|=1048576,z)}function I(H){return s&&H.alternate===null&&(H.flags|=2),H}function O(H,z,Q,ce){return z===null||z.tag!==6?(z=dm(Q,H.mode,ce),z.return=H,z):(z=g(z,Q),z.return=H,z)}function F(H,z,Q,ce){var Se=Q.type;return Se===D?ae(H,z,Q.props.children,ce,Q.key):z!==null&&(z.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===de&&hw(Se)===z.type)?(ce=g(z,Q.props),ce.ref=ac(H,z,Q),ce.return=H,ce):(ce=kd(Q.type,Q.key,Q.props,null,H.mode,ce),ce.ref=ac(H,z,Q),ce.return=H,ce)}function J(H,z,Q,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=hm(Q,H.mode,ce),z.return=H,z):(z=g(z,Q.children||[]),z.return=H,z)}function ae(H,z,Q,ce,Se){return z===null||z.tag!==7?(z=To(Q,H.mode,ce,Se),z.return=H,z):(z=g(z,Q),z.return=H,z)}function le(H,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=dm(""+z,H.mode,Q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return Q=kd(z.type,z.key,z.props,null,H.mode,Q),Q.ref=ac(H,null,z),Q.return=H,Q;case ee:return z=hm(z,H.mode,Q),z.return=H,z;case de:var ce=z._init;return le(H,ce(z._payload),Q)}if(Et(z)||X(z))return z=To(z,H.mode,Q,null),z.return=H,z;od(H,z)}return null}function oe(H,z,Q,ce){var Se=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Se!==null?null:O(H,z,""+Q,ce);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return Q.key===Se?F(H,z,Q,ce):null;case ee:return Q.key===Se?J(H,z,Q,ce):null;case de:return Se=Q._init,oe(H,z,Se(Q._payload),ce)}if(Et(Q)||X(Q))return Se!==null?null:ae(H,z,Q,ce,null);od(H,Q)}return null}function pe(H,z,Q,ce,Se){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return H=H.get(Q)||null,O(z,H,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case K:return H=H.get(ce.key===null?Q:ce.key)||null,F(z,H,ce,Se);case ee:return H=H.get(ce.key===null?Q:ce.key)||null,J(z,H,ce,Se);case de:var Ne=ce._init;return pe(H,z,Q,Ne(ce._payload),Se)}if(Et(ce)||X(ce))return H=H.get(Q)||null,ae(z,H,ce,Se,null);od(z,ce)}return null}function xe(H,z,Q,ce){for(var Se=null,Ne=null,Ae=z,De=z=0,zt=null;Ae!==null&&De<Q.length;De++){Ae.index>De?(zt=Ae,Ae=null):zt=Ae.sibling;var Je=oe(H,Ae,Q[De],ce);if(Je===null){Ae===null&&(Ae=zt);break}s&&Ae&&Je.alternate===null&&o(H,Ae),z=w(Je,z,De),Ne===null?Se=Je:Ne.sibling=Je,Ne=Je,Ae=zt}if(De===Q.length)return l(H,Ae),ct&&mo(H,De),Se;if(Ae===null){for(;De<Q.length;De++)Ae=le(H,Q[De],ce),Ae!==null&&(z=w(Ae,z,De),Ne===null?Se=Ae:Ne.sibling=Ae,Ne=Ae);return ct&&mo(H,De),Se}for(Ae=f(H,Ae);De<Q.length;De++)zt=pe(Ae,H,De,Q[De],ce),zt!==null&&(s&&zt.alternate!==null&&Ae.delete(zt.key===null?De:zt.key),z=w(zt,z,De),Ne===null?Se=zt:Ne.sibling=zt,Ne=zt);return s&&Ae.forEach(function(vi){return o(H,vi)}),ct&&mo(H,De),Se}function be(H,z,Q,ce){var Se=X(Q);if(typeof Se!="function")throw Error(t(150));if(Q=Se.call(Q),Q==null)throw Error(t(151));for(var Ne=Se=null,Ae=z,De=z=0,zt=null,Je=Q.next();Ae!==null&&!Je.done;De++,Je=Q.next()){Ae.index>De?(zt=Ae,Ae=null):zt=Ae.sibling;var vi=oe(H,Ae,Je.value,ce);if(vi===null){Ae===null&&(Ae=zt);break}s&&Ae&&vi.alternate===null&&o(H,Ae),z=w(vi,z,De),Ne===null?Se=vi:Ne.sibling=vi,Ne=vi,Ae=zt}if(Je.done)return l(H,Ae),ct&&mo(H,De),Se;if(Ae===null){for(;!Je.done;De++,Je=Q.next())Je=le(H,Je.value,ce),Je!==null&&(z=w(Je,z,De),Ne===null?Se=Je:Ne.sibling=Je,Ne=Je);return ct&&mo(H,De),Se}for(Ae=f(H,Ae);!Je.done;De++,Je=Q.next())Je=pe(Ae,H,De,Je.value,ce),Je!==null&&(s&&Je.alternate!==null&&Ae.delete(Je.key===null?De:Je.key),z=w(Je,z,De),Ne===null?Se=Je:Ne.sibling=Je,Ne=Je);return s&&Ae.forEach(function(hN){return o(H,hN)}),ct&&mo(H,De),Se}function bt(H,z,Q,ce){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:e:{for(var Se=Q.key,Ne=z;Ne!==null;){if(Ne.key===Se){if(Se=Q.type,Se===D){if(Ne.tag===7){l(H,Ne.sibling),z=g(Ne,Q.props.children),z.return=H,H=z;break e}}else if(Ne.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===de&&hw(Se)===Ne.type){l(H,Ne.sibling),z=g(Ne,Q.props),z.ref=ac(H,Ne,Q),z.return=H,H=z;break e}l(H,Ne);break}else o(H,Ne);Ne=Ne.sibling}Q.type===D?(z=To(Q.props.children,H.mode,ce,Q.key),z.return=H,H=z):(ce=kd(Q.type,Q.key,Q.props,null,H.mode,ce),ce.ref=ac(H,z,Q),ce.return=H,H=ce)}return I(H);case ee:e:{for(Ne=Q.key;z!==null;){if(z.key===Ne)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(H,z.sibling),z=g(z,Q.children||[]),z.return=H,H=z;break e}else{l(H,z);break}else o(H,z);z=z.sibling}z=hm(Q,H.mode,ce),z.return=H,H=z}return I(H);case de:return Ne=Q._init,bt(H,z,Ne(Q._payload),ce)}if(Et(Q))return xe(H,z,Q,ce);if(X(Q))return be(H,z,Q,ce);od(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(l(H,z.sibling),z=g(z,Q),z.return=H,H=z):(l(H,z),z=dm(Q,H.mode,ce),z.return=H,H=z),I(H)):l(H,z)}return bt}var Ca=fw(!0),pw=fw(!1),ad=ai(null),ld=null,Na=null,xp=null;function Ep(){xp=Na=ld=null}function Tp(s){var o=ad.current;lt(ad),s._currentValue=o}function bp(s,o,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===l)break;s=s.return}}function Aa(s,o){ld=s,xp=Na=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(yn=!0),s.firstContext=null)}function Hn(s){var o=s._currentValue;if(xp!==s)if(s={context:s,memoizedValue:o,next:null},Na===null){if(ld===null)throw Error(t(308));Na=s,ld.dependencies={lanes:0,firstContext:s}}else Na=Na.next=s;return o}var go=null;function Sp(s){go===null?go=[s]:go.push(s)}function mw(s,o,l,f){var g=o.interleaved;return g===null?(l.next=l,Sp(o)):(l.next=g.next,g.next=l),o.interleaved=l,Ts(s,f)}function Ts(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ui=!1;function Ip(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function bs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function di(s,o,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Ts(s,l)}return g=f.interleaved,g===null?(o.next=o,Sp(f)):(o.next=g.next,g.next=o),f.interleaved=o,Ts(s,l)}function cd(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,l|=f,o.lanes=l,$l(s,l)}}function yw(s,o){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?g=w=I:w=w.next=I,l=l.next}while(l!==null);w===null?g=w=o:w=w.next=o}else g=w=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function ud(s,o,l,f){var g=s.updateQueue;ui=!1;var w=g.firstBaseUpdate,I=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var F=O,J=F.next;F.next=null,I===null?w=J:I.next=J,I=F;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==I&&(O===null?ae.firstBaseUpdate=J:O.next=J,ae.lastBaseUpdate=F))}if(w!==null){var le=g.baseState;I=0,ae=J=F=null,O=w;do{var oe=O.lane,pe=O.eventTime;if((f&oe)===oe){ae!==null&&(ae=ae.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var xe=s,be=O;switch(oe=o,pe=l,be.tag){case 1:if(xe=be.payload,typeof xe=="function"){le=xe.call(pe,le,oe);break e}le=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=be.payload,oe=typeof xe=="function"?xe.call(pe,le,oe):xe,oe==null)break e;le=se({},le,oe);break e;case 2:ui=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[O]:oe.push(O))}else pe={eventTime:pe,lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(J=ae=pe,F=le):ae=ae.next=pe,I|=oe;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(ae===null&&(F=le),g.baseState=F,g.firstBaseUpdate=J,g.lastBaseUpdate=ae,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);wo|=I,s.lanes=I,s.memoizedState=le}}function vw(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var lc={},zr=ai(lc),cc=ai(lc),uc=ai(lc);function yo(s){if(s===lc)throw Error(t(174));return s}function Cp(s,o){switch(st(uc,o),st(cc,s),st(zr,lc),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xo(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Xo(o,s)}lt(zr),st(zr,o)}function ka(){lt(zr),lt(cc),lt(uc)}function ww(s){yo(uc.current);var o=yo(zr.current),l=Xo(o,s.type);o!==l&&(st(cc,s),st(zr,l))}function Np(s){cc.current===s&&(lt(zr),lt(cc))}var dt=ai(0);function dd(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ap=[];function kp(){for(var s=0;s<Ap.length;s++)Ap[s]._workInProgressVersionPrimary=null;Ap.length=0}var hd=B.ReactCurrentDispatcher,Rp=B.ReactCurrentBatchConfig,vo=0,ht=null,Mt=null,Ft=null,fd=!1,dc=!1,hc=0,DC=0;function nn(){throw Error(t(321))}function Pp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!ar(s[l],o[l]))return!1;return!0}function jp(s,o,l,f,g,w){if(vo=w,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hd.current=s===null||s.memoizedState===null?VC:FC,s=l(f,g),dc){w=0;do{if(dc=!1,hc=0,25<=w)throw Error(t(301));w+=1,Ft=Mt=null,o.updateQueue=null,hd.current=UC,s=l(f,g)}while(dc)}if(hd.current=gd,o=Mt!==null&&Mt.next!==null,vo=0,Ft=Mt=ht=null,fd=!1,o)throw Error(t(300));return s}function Dp(){var s=hc!==0;return hc=0,s}function $r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function qn(){if(Mt===null){var s=ht.alternate;s=s!==null?s.memoizedState:null}else s=Mt.next;var o=Ft===null?ht.memoizedState:Ft.next;if(o!==null)Ft=o,Mt=s;else{if(s===null)throw Error(t(310));Mt=s,s={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ft===null?ht.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function fc(s,o){return typeof o=="function"?o(s):o}function Mp(s){var o=qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var f=Mt,g=f.baseQueue,w=l.pending;if(w!==null){if(g!==null){var I=g.next;g.next=w.next,w.next=I}f.baseQueue=g=w,l.pending=null}if(g!==null){w=g.next,f=f.baseState;var O=I=null,F=null,J=w;do{var ae=J.lane;if((vo&ae)===ae)F!==null&&(F=F.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),f=J.hasEagerState?J.eagerState:s(f,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};F===null?(O=F=le,I=f):F=F.next=le,ht.lanes|=ae,wo|=ae}J=J.next}while(J!==null&&J!==w);F===null?I=f:F.next=O,ar(f,o.memoizedState)||(yn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=F,l.lastRenderedState=f}if(s=l.interleaved,s!==null){g=s;do w=g.lane,ht.lanes|=w,wo|=w,g=g.next;while(g!==s)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Op(s){var o=qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,w=o.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do w=s(w,I.action),I=I.next;while(I!==g);ar(w,o.memoizedState)||(yn=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,f]}function _w(){}function xw(s,o){var l=ht,f=qn(),g=o(),w=!ar(f.memoizedState,g);if(w&&(f.memoizedState=g,yn=!0),f=f.queue,Lp(bw.bind(null,l,f,s),[s]),f.getSnapshot!==o||w||Ft!==null&&Ft.memoizedState.tag&1){if(l.flags|=2048,pc(9,Tw.bind(null,l,f,g,o),void 0,null),Ut===null)throw Error(t(349));(vo&30)!==0||Ew(l,o,g)}return g}function Ew(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Tw(s,o,l,f){o.value=l,o.getSnapshot=f,Sw(o)&&Iw(s)}function bw(s,o,l){return l(function(){Sw(o)&&Iw(s)})}function Sw(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!ar(s,l)}catch{return!0}}function Iw(s){var o=Ts(s,1);o!==null&&hr(o,s,1,-1)}function Cw(s){var o=$r();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:s},o.queue=s,s=s.dispatch=LC.bind(null,ht,s),[o.memoizedState,s]}function pc(s,o,l,f){return s={tag:s,create:o,destroy:l,deps:f,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,o.lastEffect=s)),s}function Nw(){return qn().memoizedState}function pd(s,o,l,f){var g=$r();ht.flags|=s,g.memoizedState=pc(1|o,l,void 0,f===void 0?null:f)}function md(s,o,l,f){var g=qn();f=f===void 0?null:f;var w=void 0;if(Mt!==null){var I=Mt.memoizedState;if(w=I.destroy,f!==null&&Pp(f,I.deps)){g.memoizedState=pc(o,l,w,f);return}}ht.flags|=s,g.memoizedState=pc(1|o,l,w,f)}function Aw(s,o){return pd(8390656,8,s,o)}function Lp(s,o){return md(2048,8,s,o)}function kw(s,o){return md(4,2,s,o)}function Rw(s,o){return md(4,4,s,o)}function Pw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function jw(s,o,l){return l=l!=null?l.concat([s]):null,md(4,4,Pw.bind(null,o,s),l)}function Vp(){}function Dw(s,o){var l=qn();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Pp(o,f[1])?f[0]:(l.memoizedState=[s,o],s)}function Mw(s,o){var l=qn();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Pp(o,f[1])?f[0]:(s=s(),l.memoizedState=[s,o],s)}function Ow(s,o,l){return(vo&21)===0?(s.baseState&&(s.baseState=!1,yn=!0),s.memoizedState=l):(ar(l,o)||(l=Ul(),ht.lanes|=l,wo|=l,s.baseState=!0),o)}function MC(s,o){var l=Ke;Ke=l!==0&&4>l?l:4,s(!0);var f=Rp.transition;Rp.transition={};try{s(!1),o()}finally{Ke=l,Rp.transition=f}}function Lw(){return qn().memoizedState}function OC(s,o,l){var f=mi(s);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Vw(s))Fw(o,l);else if(l=mw(s,o,l,f),l!==null){var g=hn();hr(l,s,f,g),Uw(l,o,f)}}function LC(s,o,l){var f=mi(s),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vw(s))Fw(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,O=w(I,l);if(g.hasEagerState=!0,g.eagerState=O,ar(O,I)){var F=o.interleaved;F===null?(g.next=g,Sp(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}l=mw(s,o,g,f),l!==null&&(g=hn(),hr(l,s,f,g),Uw(l,o,f))}}function Vw(s){var o=s.alternate;return s===ht||o!==null&&o===ht}function Fw(s,o){dc=fd=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Uw(s,o,l){if((l&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,l|=f,o.lanes=l,$l(s,l)}}var gd={readContext:Hn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},VC={readContext:Hn,useCallback:function(s,o){return $r().memoizedState=[s,o===void 0?null:o],s},useContext:Hn,useEffect:Aw,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,pd(4194308,4,Pw.bind(null,o,s),l)},useLayoutEffect:function(s,o){return pd(4194308,4,s,o)},useInsertionEffect:function(s,o){return pd(4,2,s,o)},useMemo:function(s,o){var l=$r();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var f=$r();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=OC.bind(null,ht,s),[f.memoizedState,s]},useRef:function(s){var o=$r();return s={current:s},o.memoizedState=s},useState:Cw,useDebugValue:Vp,useDeferredValue:function(s){return $r().memoizedState=s},useTransition:function(){var s=Cw(!1),o=s[0];return s=MC.bind(null,s[1]),$r().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var f=ht,g=$r();if(ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ut===null)throw Error(t(349));(vo&30)!==0||Ew(f,o,l)}g.memoizedState=l;var w={value:l,getSnapshot:o};return g.queue=w,Aw(bw.bind(null,f,w,s),[s]),f.flags|=2048,pc(9,Tw.bind(null,f,w,l,o),void 0,null),l},useId:function(){var s=$r(),o=Ut.identifierPrefix;if(ct){var l=Es,f=xs;l=(f&~(1<<32-Cn(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=hc++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=DC++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},FC={readContext:Hn,useCallback:Dw,useContext:Hn,useEffect:Lp,useImperativeHandle:jw,useInsertionEffect:kw,useLayoutEffect:Rw,useMemo:Mw,useReducer:Mp,useRef:Nw,useState:function(){return Mp(fc)},useDebugValue:Vp,useDeferredValue:function(s){var o=qn();return Ow(o,Mt.memoizedState,s)},useTransition:function(){var s=Mp(fc)[0],o=qn().memoizedState;return[s,o]},useMutableSource:_w,useSyncExternalStore:xw,useId:Lw,unstable_isNewReconciler:!1},UC={readContext:Hn,useCallback:Dw,useContext:Hn,useEffect:Lp,useImperativeHandle:jw,useInsertionEffect:kw,useLayoutEffect:Rw,useMemo:Mw,useReducer:Op,useRef:Nw,useState:function(){return Op(fc)},useDebugValue:Vp,useDeferredValue:function(s){var o=qn();return Mt===null?o.memoizedState=s:Ow(o,Mt.memoizedState,s)},useTransition:function(){var s=Op(fc)[0],o=qn().memoizedState;return[s,o]},useMutableSource:_w,useSyncExternalStore:xw,useId:Lw,unstable_isNewReconciler:!1};function cr(s,o){if(s&&s.defaultProps){o=se({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Fp(s,o,l,f){o=s.memoizedState,l=l(f,o),l=l==null?o:se({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var yd={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var f=hn(),g=mi(s),w=bs(f,g);w.payload=o,l!=null&&(w.callback=l),o=di(s,w,g),o!==null&&(hr(o,s,g,f),cd(o,s,g))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var f=hn(),g=mi(s),w=bs(f,g);w.tag=1,w.payload=o,l!=null&&(w.callback=l),o=di(s,w,g),o!==null&&(hr(o,s,g,f),cd(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=hn(),f=mi(s),g=bs(l,f);g.tag=2,o!=null&&(g.callback=o),o=di(s,g,f),o!==null&&(hr(o,s,f,l),cd(o,s,f))}};function zw(s,o,l,f,g,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,I):o.prototype&&o.prototype.isPureReactComponent?!ec(l,f)||!ec(g,w):!0}function $w(s,o,l){var f=!1,g=li,w=o.contextType;return typeof w=="object"&&w!==null?w=Hn(w):(g=gn(o)?fo:tn.current,f=o.contextTypes,w=(f=f!=null)?Ta(s,g):li),o=new o(l,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function Bw(s,o,l,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==s&&yd.enqueueReplaceState(o,o.state,null)}function Up(s,o,l,f){var g=s.stateNode;g.props=l,g.state=s.memoizedState,g.refs={},Ip(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=Hn(w):(w=gn(o)?fo:tn.current,g.context=Ta(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Fp(s,o,w,l),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&yd.enqueueReplaceState(g,g.state,null),ud(s,l,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Ra(s,o){try{var l="",f=o;do l+=Pe(f),f=f.return;while(f);var g=l}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function zp(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function $p(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var zC=typeof WeakMap=="function"?WeakMap:Map;function Gw(s,o,l){l=bs(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){bd||(bd=!0,rm=f),$p(s,o)},l}function Ww(s,o,l){l=bs(-1,l),l.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;l.payload=function(){return f(g)},l.callback=function(){$p(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){$p(s,o),typeof f!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),l}function Hw(s,o,l){var f=s.pingCache;if(f===null){f=s.pingCache=new zC;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(g.add(l),s=tN.bind(null,s,o,l),o.then(s,s))}function qw(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Kw(s,o,l,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=bs(-1,1),o.tag=2,di(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var $C=B.ReactCurrentOwner,yn=!1;function dn(s,o,l,f){o.child=s===null?pw(o,null,l,f):Ca(o,s.child,l,f)}function Qw(s,o,l,f,g){l=l.render;var w=o.ref;return Aa(o,g),f=jp(s,o,l,f,w,g),l=Dp(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ss(s,o,g)):(ct&&l&&gp(o),o.flags|=1,dn(s,o,f,g),o.child)}function Yw(s,o,l,f,g){if(s===null){var w=l.type;return typeof w=="function"&&!um(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=w,Xw(s,o,w,f,g)):(s=kd(l.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var I=w.memoizedProps;if(l=l.compare,l=l!==null?l:ec,l(I,f)&&s.ref===o.ref)return Ss(s,o,g)}return o.flags|=1,s=yi(w,f),s.ref=o.ref,s.return=o,o.child=s}function Xw(s,o,l,f,g){if(s!==null){var w=s.memoizedProps;if(ec(w,f)&&s.ref===o.ref)if(yn=!1,o.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(yn=!0);else return o.lanes=s.lanes,Ss(s,o,g)}return Bp(s,o,l,f,g)}function Jw(s,o,l){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ja,Dn),Dn|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,st(ja,Dn),Dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:l,st(ja,Dn),Dn|=f}else w!==null?(f=w.baseLanes|l,o.memoizedState=null):f=l,st(ja,Dn),Dn|=f;return dn(s,o,g,l),o.child}function Zw(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Bp(s,o,l,f,g){var w=gn(l)?fo:tn.current;return w=Ta(o,w),Aa(o,g),l=jp(s,o,l,f,w,g),f=Dp(),s!==null&&!yn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ss(s,o,g)):(ct&&f&&gp(o),o.flags|=1,dn(s,o,l,g),o.child)}function e_(s,o,l,f,g){if(gn(l)){var w=!0;td(o)}else w=!1;if(Aa(o,g),o.stateNode===null)wd(s,o),$w(o,l,f),Up(o,l,f,g),f=!0;else if(s===null){var I=o.stateNode,O=o.memoizedProps;I.props=O;var F=I.context,J=l.contextType;typeof J=="object"&&J!==null?J=Hn(J):(J=gn(l)?fo:tn.current,J=Ta(o,J));var ae=l.getDerivedStateFromProps,le=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";le||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==f||F!==J)&&Bw(o,I,f,J),ui=!1;var oe=o.memoizedState;I.state=oe,ud(o,f,I,g),F=o.memoizedState,O!==f||oe!==F||mn.current||ui?(typeof ae=="function"&&(Fp(o,l,ae,f),F=o.memoizedState),(O=ui||zw(o,l,O,f,oe,F,J))?(le||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=F),I.props=f,I.state=F,I.context=J,f=O):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,gw(s,o),O=o.memoizedProps,J=o.type===o.elementType?O:cr(o.type,O),I.props=J,le=o.pendingProps,oe=I.context,F=l.contextType,typeof F=="object"&&F!==null?F=Hn(F):(F=gn(l)?fo:tn.current,F=Ta(o,F));var pe=l.getDerivedStateFromProps;(ae=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==le||oe!==F)&&Bw(o,I,f,F),ui=!1,oe=o.memoizedState,I.state=oe,ud(o,f,I,g);var xe=o.memoizedState;O!==le||oe!==xe||mn.current||ui?(typeof pe=="function"&&(Fp(o,l,pe,f),xe=o.memoizedState),(J=ui||zw(o,l,J,f,oe,xe,F)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,xe,F),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,xe,F)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=xe),I.props=f,I.state=xe,I.context=F,f=J):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),f=!1)}return Gp(s,o,l,f,w,g)}function Gp(s,o,l,f,g,w){Zw(s,o);var I=(o.flags&128)!==0;if(!f&&!I)return g&&iw(o,l,!1),Ss(s,o,w);f=o.stateNode,$C.current=o;var O=I&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&I?(o.child=Ca(o,s.child,null,w),o.child=Ca(o,null,O,w)):dn(s,o,O,w),o.memoizedState=f.state,g&&iw(o,l,!0),o.child}function t_(s){var o=s.stateNode;o.pendingContext?rw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&rw(s,o.context,!1),Cp(s,o.containerInfo)}function n_(s,o,l,f,g){return Ia(),_p(g),o.flags|=256,dn(s,o,l,f),o.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function r_(s,o,l){var f=o.pendingProps,g=dt.current,w=!1,I=(o.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),st(dt,g&1),s===null)return wp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,s=f.fallback,w?(f=o.mode,w=o.child,I={mode:"hidden",children:I},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=Rd(I,f,0,null),s=To(s,f,l,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Hp(l),o.memoizedState=Wp,s):qp(o,I));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return BC(s,o,I,f,O,g,l);if(w){w=f.fallback,I=o.mode,g=s.child,O=g.sibling;var F={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=F,o.deletions=null):(f=yi(g,F),f.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=yi(O,w):(w=To(w,I,l,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,I=s.child.memoizedState,I=I===null?Hp(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=s.childLanes&~l,o.memoizedState=Wp,f}return w=s.child,s=w.sibling,f=yi(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=l),f.return=o,f.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=f,o.memoizedState=null,f}function qp(s,o){return o=Rd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function vd(s,o,l,f){return f!==null&&_p(f),Ca(o,s.child,null,l),s=qp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function BC(s,o,l,f,g,w,I){if(l)return o.flags&256?(o.flags&=-257,f=zp(Error(t(422))),vd(s,o,I,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=Rd({mode:"visible",children:f.children},g,0,null),w=To(w,g,I,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&Ca(o,s.child,null,I),o.child.memoizedState=Hp(I),o.memoizedState=Wp,w);if((o.mode&1)===0)return vd(s,o,I,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var O=f.dgst;return f=O,w=Error(t(419)),f=zp(w,f,void 0),vd(s,o,I,f)}if(O=(I&s.childLanes)!==0,yn||O){if(f=Ut,f!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|I))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Ts(s,g),hr(f,s,g,-1))}return cm(),f=zp(Error(t(421))),vd(s,o,I,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=nN.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,jn=oi(g.nextSibling),Pn=o,ct=!0,lr=null,s!==null&&(Gn[Wn++]=xs,Gn[Wn++]=Es,Gn[Wn++]=po,xs=s.id,Es=s.overflow,po=o),o=qp(o,f.children),o.flags|=4096,o)}function s_(s,o,l){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),bp(s.return,o,l)}function Kp(s,o,l,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=l,w.tailMode=g)}function i_(s,o,l){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(dn(s,o,f.children,l),f=dt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&s_(s,l,o);else if(s.tag===19)s_(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(st(dt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)s=l.alternate,s!==null&&dd(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),Kp(o,!1,g,l,w);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&dd(s)===null){o.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Kp(o,!0,l,null,w);break;case"together":Kp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ss(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),wo|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=yi(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=yi(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function GC(s,o,l){switch(o.tag){case 3:t_(o),Ia();break;case 5:ww(o);break;case 1:gn(o.type)&&td(o);break;case 4:Cp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;st(ad,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(st(dt,dt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?r_(s,o,l):(st(dt,dt.current&1),s=Ss(s,o,l),s!==null?s.sibling:null);st(dt,dt.current&1);break;case 19:if(f=(l&o.childLanes)!==0,(s.flags&128)!==0){if(f)return i_(s,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),st(dt,dt.current),f)break;return null;case 22:case 23:return o.lanes=0,Jw(s,o,l)}return Ss(s,o,l)}var o_,Qp,a_,l_;o_=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Qp=function(){},a_=function(s,o,l,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,yo(zr.current);var w=null;switch(l){case"input":g=Qo(s,g),f=Qo(s,f),w=[];break;case"select":g=se({},g,{value:void 0}),f=se({},f,{value:void 0}),w=[];break;case"textarea":g=Al(s,g),f=Al(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ju)}sr(l,f);var I;l=null;for(J in g)if(!f.hasOwnProperty(J)&&g.hasOwnProperty(J)&&g[J]!=null)if(J==="style"){var O=g[J];for(I in O)O.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?w||(w=[]):(w=w||[]).push(J,null));for(J in f){var F=f[J];if(O=g?.[J],f.hasOwnProperty(J)&&F!==O&&(F!=null||O!=null))if(J==="style")if(O){for(I in O)!O.hasOwnProperty(I)||F&&F.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in F)F.hasOwnProperty(I)&&O[I]!==F[I]&&(l||(l={}),l[I]=F[I])}else l||(w||(w=[]),w.push(J,l)),l=F;else J==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(w=w||[]).push(J,F)):J==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(J,""+F):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(i.hasOwnProperty(J)?(F!=null&&J==="onScroll"&&at("scroll",s),w||O===F||(w=[])):(w=w||[]).push(J,F))}l&&(w=w||[]).push("style",l);var J=w;(o.updateQueue=J)&&(o.flags|=4)}},l_=function(s,o,l,f){l!==f&&(o.flags|=4)};function mc(s,o){if(!ct)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function rn(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(o)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,o}function WC(s,o,l){var f=o.pendingProps;switch(yp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return gn(o.type)&&ed(),rn(o),null;case 3:return f=o.stateNode,ka(),lt(mn),lt(tn),kp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(id(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,lr!==null&&(om(lr),lr=null))),Qp(s,o),rn(o),null;case 5:Np(o);var g=yo(uc.current);if(l=o.type,s!==null&&o.stateNode!=null)a_(s,o,l,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return rn(o),null}if(s=yo(zr.current),id(o)){f=o.stateNode,l=o.type;var w=o.memoizedProps;switch(f[Ur]=o,f[ic]=w,s=(o.mode&1)!==0,l){case"dialog":at("cancel",f),at("close",f);break;case"iframe":case"object":case"embed":at("load",f);break;case"video":case"audio":for(g=0;g<nc.length;g++)at(nc[g],f);break;case"source":at("error",f);break;case"img":case"image":case"link":at("error",f),at("load",f);break;case"details":at("toggle",f);break;case"input":Tu(f,w),at("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},at("invalid",f);break;case"textarea":kl(f,w),at("invalid",f)}sr(l,w),g=null;for(var I in w)if(w.hasOwnProperty(I)){var O=w[I];I==="children"?typeof O=="string"?f.textContent!==O&&(w.suppressHydrationWarning!==!0&&Xu(f.textContent,O,s),g=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&Xu(f.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&at("scroll",f)}switch(l){case"input":Un(f),Nl(f,w,!0);break;case"textarea":Un(f),Gs(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=Ju)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rl(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=I.createElement(l,{is:f.is}):(s=I.createElement(l),l==="select"&&(I=s,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):s=I.createElementNS(s,l),s[Ur]=o,s[ic]=f,o_(s,o,!1,!1),o.stateNode=s;e:{switch(I=Zo(l,f),l){case"dialog":at("cancel",s),at("close",s),g=f;break;case"iframe":case"object":case"embed":at("load",s),g=f;break;case"video":case"audio":for(g=0;g<nc.length;g++)at(nc[g],s);g=f;break;case"source":at("error",s),g=f;break;case"img":case"image":case"link":at("error",s),at("load",s),g=f;break;case"details":at("toggle",s),g=f;break;case"input":Tu(s,f),g=Qo(s,f),at("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=se({},f,{value:void 0}),at("invalid",s);break;case"textarea":kl(s,f),g=Al(s,f),at("invalid",s);break;default:g=f}sr(l,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var F=O[w];w==="style"?Jo(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Su(s,F)):w==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Xi(s,F):typeof F=="number"&&Xi(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?F!=null&&w==="onScroll"&&at("scroll",s):F!=null&&$(s,w,F,I))}switch(l){case"input":Un(s),Nl(s,f,!1);break;case"textarea":Un(s),Gs(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Fe(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?rr(s,!!f.multiple,w,!1):f.defaultValue!=null&&rr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ju)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return rn(o),null;case 6:if(s&&o.stateNode!=null)l_(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(l=yo(uc.current),yo(zr.current),id(o)){if(f=o.stateNode,l=o.memoizedProps,f[Ur]=o,(w=f.nodeValue!==l)&&(s=Pn,s!==null))switch(s.tag){case 3:Xu(f.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xu(f.nodeValue,l,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Ur]=o,o.stateNode=f}return rn(o),null;case 13:if(lt(dt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ct&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)dw(),Ia(),o.flags|=98560,w=!1;else if(w=id(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ur]=o}else Ia(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),w=!1}else lr!==null&&(om(lr),lr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(dt.current&1)!==0?Ot===0&&(Ot=3):cm())),o.updateQueue!==null&&(o.flags|=4),rn(o),null);case 4:return ka(),Qp(s,o),s===null&&rc(o.stateNode.containerInfo),rn(o),null;case 10:return Tp(o.type._context),rn(o),null;case 17:return gn(o.type)&&ed(),rn(o),null;case 19:if(lt(dt),w=o.memoizedState,w===null)return rn(o),null;if(f=(o.flags&128)!==0,I=w.rendering,I===null)if(f)mc(w,!1);else{if(Ot!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=dd(s),I!==null){for(o.flags|=128,mc(w,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)w=l,s=f,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,s=I.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return st(dt,dt.current&1|2),o.child}s=s.sibling}w.tail!==null&&ot()>Da&&(o.flags|=128,f=!0,mc(w,!1),o.lanes=4194304)}else{if(!f)if(s=dd(I),s!==null){if(o.flags|=128,f=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),mc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!ct)return rn(o),null}else 2*ot()-w.renderingStartTime>Da&&l!==1073741824&&(o.flags|=128,f=!0,mc(w,!1),o.lanes=4194304);w.isBackwards?(I.sibling=o.child,o.child=I):(l=w.last,l!==null?l.sibling=I:o.child=I,w.last=I)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=ot(),o.sibling=null,l=dt.current,st(dt,f?l&1|2:l&1),o):(rn(o),null);case 22:case 23:return lm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function HC(s,o){switch(yp(o),o.tag){case 1:return gn(o.type)&&ed(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ka(),lt(mn),lt(tn),kp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Np(o),null;case 13:if(lt(dt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ia()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return lt(dt),null;case 4:return ka(),null;case 10:return Tp(o.type._context),null;case 22:case 23:return lm(),null;case 24:return null;default:return null}}var _d=!1,sn=!1,qC=typeof WeakSet=="function"?WeakSet:Set,we=null;function Pa(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){vt(s,o,f)}else l.current=null}function Yp(s,o,l){try{l()}catch(f){vt(s,o,f)}}var c_=!1;function KC(s,o){if(lp=gs,s=zv(),ep(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var I=0,O=-1,F=-1,J=0,ae=0,le=s,oe=null;t:for(;;){for(var pe;le!==l||g!==0&&le.nodeType!==3||(O=I+g),le!==w||f!==0&&le.nodeType!==3||(F=I+f),le.nodeType===3&&(I+=le.nodeValue.length),(pe=le.firstChild)!==null;)oe=le,le=pe;for(;;){if(le===s)break t;if(oe===l&&++J===g&&(O=I),oe===w&&++ae===f&&(F=I),(pe=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=pe}l=O===-1||F===-1?null:{start:O,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(cp={focusedElem:s,selectionRange:l},gs=!1,we=o;we!==null;)if(o=we,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,we=s;else for(;we!==null;){o=we;try{var xe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var be=xe.memoizedProps,bt=xe.memoizedState,H=o.stateNode,z=H.getSnapshotBeforeUpdate(o.elementType===o.type?be:cr(o.type,be),bt);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){vt(o,o.return,ce)}if(s=o.sibling,s!==null){s.return=o.return,we=s;break}we=o.return}return xe=c_,c_=!1,xe}function gc(s,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&Yp(o,l,w)}g=g.next}while(g!==f)}}function xd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function Xp(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function u_(s){var o=s.alternate;o!==null&&(s.alternate=null,u_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ur],delete o[ic],delete o[fp],delete o[kC],delete o[RC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function d_(s){return s.tag===5||s.tag===3||s.tag===4}function h_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||d_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Jp(s,o,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Ju));else if(f!==4&&(s=s.child,s!==null))for(Jp(s,o,l),s=s.sibling;s!==null;)Jp(s,o,l),s=s.sibling}function Zp(s,o,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Zp(s,o,l),s=s.sibling;s!==null;)Zp(s,o,l),s=s.sibling}var Ht=null,ur=!1;function hi(s,o,l){for(l=l.child;l!==null;)f_(s,o,l),l=l.sibling}function f_(s,o,l){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(no,l)}catch{}switch(l.tag){case 5:sn||Pa(l,o);case 6:var f=Ht,g=ur;Ht=null,hi(s,o,l),Ht=f,ur=g,Ht!==null&&(ur?(s=Ht,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Ht.removeChild(l.stateNode));break;case 18:Ht!==null&&(ur?(s=Ht,l=l.stateNode,s.nodeType===8?hp(s.parentNode,l):s.nodeType===1&&hp(s,l),ni(s)):hp(Ht,l.stateNode));break;case 4:f=Ht,g=ur,Ht=l.stateNode.containerInfo,ur=!0,hi(s,o,l),Ht=f,ur=g;break;case 0:case 11:case 14:case 15:if(!sn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&Yp(l,o,I),g=g.next}while(g!==f)}hi(s,o,l);break;case 1:if(!sn&&(Pa(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(O){vt(l,o,O)}hi(s,o,l);break;case 21:hi(s,o,l);break;case 22:l.mode&1?(sn=(f=sn)||l.memoizedState!==null,hi(s,o,l),sn=f):hi(s,o,l);break;default:hi(s,o,l)}}function p_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new qC),o.forEach(function(f){var g=rN.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}}function dr(s,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var w=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 5:Ht=O.stateNode,ur=!1;break e;case 3:Ht=O.stateNode.containerInfo,ur=!0;break e;case 4:Ht=O.stateNode.containerInfo,ur=!0;break e}O=O.return}if(Ht===null)throw Error(t(160));f_(w,I,g),Ht=null,ur=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(J){vt(g,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)m_(o,s),o=o.sibling}function m_(s,o){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dr(o,s),Br(s),f&4){try{gc(3,s,s.return),xd(3,s)}catch(be){vt(s,s.return,be)}try{gc(5,s,s.return)}catch(be){vt(s,s.return,be)}}break;case 1:dr(o,s),Br(s),f&512&&l!==null&&Pa(l,l.return);break;case 5:if(dr(o,s),Br(s),f&512&&l!==null&&Pa(l,l.return),s.flags&32){var g=s.stateNode;try{Xi(g,"")}catch(be){vt(s,s.return,be)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,I=l!==null?l.memoizedProps:w,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&Yo(g,w),Zo(O,I);var J=Zo(O,w);for(I=0;I<F.length;I+=2){var ae=F[I],le=F[I+1];ae==="style"?Jo(g,le):ae==="dangerouslySetInnerHTML"?Su(g,le):ae==="children"?Xi(g,le):$(g,ae,le,J)}switch(O){case"input":Yi(g,w);break;case"textarea":bu(g,w);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?rr(g,!!w.multiple,pe,!1):oe!==!!w.multiple&&(w.defaultValue!=null?rr(g,!!w.multiple,w.defaultValue,!0):rr(g,!!w.multiple,w.multiple?[]:"",!1))}g[ic]=w}catch(be){vt(s,s.return,be)}}break;case 6:if(dr(o,s),Br(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(be){vt(s,s.return,be)}}break;case 3:if(dr(o,s),Br(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ni(o.containerInfo)}catch(be){vt(s,s.return,be)}break;case 4:dr(o,s),Br(s);break;case 13:dr(o,s),Br(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(nm=ot())),f&4&&p_(s);break;case 22:if(ae=l!==null&&l.memoizedState!==null,s.mode&1?(sn=(J=sn)||ae,dr(o,s),sn=J):dr(o,s),Br(s),f&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!ae&&(s.mode&1)!==0)for(we=s,ae=s.child;ae!==null;){for(le=we=ae;we!==null;){switch(oe=we,pe=oe.child,oe.tag){case 0:case 11:case 14:case 15:gc(4,oe,oe.return);break;case 1:Pa(oe,oe.return);var xe=oe.stateNode;if(typeof xe.componentWillUnmount=="function"){f=oe,l=oe.return;try{o=f,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(be){vt(f,l,be)}}break;case 5:Pa(oe,oe.return);break;case 22:if(oe.memoizedState!==null){v_(le);continue}}pe!==null?(pe.return=oe,we=pe):v_(le)}ae=ae.sibling}e:for(ae=null,le=s;;){if(le.tag===5){if(ae===null){ae=le;try{g=le.stateNode,J?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=le.stateNode,F=le.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=qs("display",I))}catch(be){vt(s,s.return,be)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(be){vt(s,s.return,be)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:dr(o,s),Br(s),f&4&&p_(s);break;case 21:break;default:dr(o,s),Br(s)}}function Br(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(d_(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Xi(g,""),f.flags&=-33);var w=h_(s);Zp(s,w,g);break;case 3:case 4:var I=f.stateNode.containerInfo,O=h_(s);Jp(s,O,I);break;default:throw Error(t(161))}}catch(F){vt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function QC(s,o,l){we=s,g_(s)}function g_(s,o,l){for(var f=(s.mode&1)!==0;we!==null;){var g=we,w=g.child;if(g.tag===22&&f){var I=g.memoizedState!==null||_d;if(!I){var O=g.alternate,F=O!==null&&O.memoizedState!==null||sn;O=_d;var J=sn;if(_d=I,(sn=F)&&!J)for(we=g;we!==null;)I=we,F=I.child,I.tag===22&&I.memoizedState!==null?w_(g):F!==null?(F.return=I,we=F):w_(g);for(;w!==null;)we=w,g_(w),w=w.sibling;we=g,_d=O,sn=J}y_(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,we=w):y_(s)}}function y_(s){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:sn||xd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!sn)if(l===null)f.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:cr(o.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&vw(o,w,f);break;case 3:var I=o.updateQueue;if(I!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}vw(o,I,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&ni(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}sn||o.flags&512&&Xp(o)}catch(oe){vt(o,o.return,oe)}}if(o===s){we=null;break}if(l=o.sibling,l!==null){l.return=o.return,we=l;break}we=o.return}}function v_(s){for(;we!==null;){var o=we;if(o===s){we=null;break}var l=o.sibling;if(l!==null){l.return=o.return,we=l;break}we=o.return}}function w_(s){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{xd(4,o)}catch(F){vt(o,l,F)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(F){vt(o,g,F)}}var w=o.return;try{Xp(o)}catch(F){vt(o,w,F)}break;case 5:var I=o.return;try{Xp(o)}catch(F){vt(o,I,F)}}}catch(F){vt(o,o.return,F)}if(o===s){we=null;break}var O=o.sibling;if(O!==null){O.return=o.return,we=O;break}we=o.return}}var YC=Math.ceil,Ed=B.ReactCurrentDispatcher,em=B.ReactCurrentOwner,Kn=B.ReactCurrentBatchConfig,Xe=0,Ut=null,Rt=null,qt=0,Dn=0,ja=ai(0),Ot=0,yc=null,wo=0,Td=0,tm=0,vc=null,vn=null,nm=0,Da=1/0,Is=null,bd=!1,rm=null,fi=null,Sd=!1,pi=null,Id=0,wc=0,sm=null,Cd=-1,Nd=0;function hn(){return(Xe&6)!==0?ot():Cd!==-1?Cd:Cd=ot()}function mi(s){return(s.mode&1)===0?1:(Xe&2)!==0&&qt!==0?qt&-qt:jC.transition!==null?(Nd===0&&(Nd=Ul()),Nd):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:ca(s.type)),s)}function hr(s,o,l,f){if(50<wc)throw wc=0,sm=null,Error(t(185));oo(s,l,f),((Xe&2)===0||s!==Ut)&&(s===Ut&&((Xe&2)===0&&(Td|=l),Ot===4&&gi(s,qt)),wn(s,f),l===1&&Xe===0&&(o.mode&1)===0&&(Da=ot()+500,nd&&ci()))}function wn(s,o){var l=s.callbackNode;io(s,o);var f=fs(s,s===Ut?qt:0);if(f===0)l!==null&&na(l),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(l!=null&&na(l),o===1)s.tag===0?PC(x_.bind(null,s)):ow(x_.bind(null,s)),NC(function(){(Xe&6)===0&&ci()}),l=null;else{switch(kr(f)){case 1:l=ra;break;case 4:l=Ll;break;case 16:l=to;break;case 536870912:l=sa;break;default:l=to}l=A_(l,__.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function __(s,o){if(Cd=-1,Nd=0,(Xe&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Ma()&&s.callbackNode!==l)return null;var f=fs(s,s===Ut?qt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Ad(s,f);else{o=f;var g=Xe;Xe|=2;var w=T_();(Ut!==s||qt!==o)&&(Is=null,Da=ot()+500,xo(s,o));do try{ZC();break}catch(O){E_(s,O)}while(!0);Ep(),Ed.current=w,Xe=g,Rt!==null?o=0:(Ut=null,qt=0,o=Ot)}if(o!==0){if(o===2&&(g=Fl(s),g!==0&&(f=g,o=im(s,g))),o===1)throw l=yc,xo(s,0),gi(s,f),wn(s,ot()),l;if(o===6)gi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!XC(g)&&(o=Ad(s,f),o===2&&(w=Fl(s),w!==0&&(f=w,o=im(s,w))),o===1))throw l=yc,xo(s,0),gi(s,f),wn(s,ot()),l;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Eo(s,vn,Is);break;case 3:if(gi(s,f),(f&130023424)===f&&(o=nm+500-ot(),10<o)){if(fs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){hn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=dp(Eo.bind(null,s,vn,Is),o);break}Eo(s,vn,Is);break;case 4:if(gi(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var I=31-Cn(f);w=1<<I,I=o[I],I>g&&(g=I),f&=~w}if(f=g,f=ot()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*YC(f/1960))-f,10<f){s.timeoutHandle=dp(Eo.bind(null,s,vn,Is),f);break}Eo(s,vn,Is);break;case 5:Eo(s,vn,Is);break;default:throw Error(t(329))}}}return wn(s,ot()),s.callbackNode===l?__.bind(null,s):null}function im(s,o){var l=vc;return s.current.memoizedState.isDehydrated&&(xo(s,o).flags|=256),s=Ad(s,o),s!==2&&(o=vn,vn=l,o!==null&&om(o)),s}function om(s){vn===null?vn=s:vn.push.apply(vn,s)}function XC(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],w=g.getSnapshot;g=g.value;try{if(!ar(w(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function gi(s,o){for(o&=~tm,o&=~Td,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Cn(o),f=1<<l;s[l]=-1,o&=~f}}function x_(s){if((Xe&6)!==0)throw Error(t(327));Ma();var o=fs(s,0);if((o&1)===0)return wn(s,ot()),null;var l=Ad(s,o);if(s.tag!==0&&l===2){var f=Fl(s);f!==0&&(o=f,l=im(s,f))}if(l===1)throw l=yc,xo(s,0),gi(s,o),wn(s,ot()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Eo(s,vn,Is),wn(s,ot()),null}function am(s,o){var l=Xe;Xe|=1;try{return s(o)}finally{Xe=l,Xe===0&&(Da=ot()+500,nd&&ci())}}function _o(s){pi!==null&&pi.tag===0&&(Xe&6)===0&&Ma();var o=Xe;Xe|=1;var l=Kn.transition,f=Ke;try{if(Kn.transition=null,Ke=1,s)return s()}finally{Ke=f,Kn.transition=l,Xe=o,(Xe&6)===0&&ci()}}function lm(){Dn=ja.current,lt(ja)}function xo(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,CC(l)),Rt!==null)for(l=Rt.return;l!==null;){var f=l;switch(yp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ed();break;case 3:ka(),lt(mn),lt(tn),kp();break;case 5:Np(f);break;case 4:ka();break;case 13:lt(dt);break;case 19:lt(dt);break;case 10:Tp(f.type._context);break;case 22:case 23:lm()}l=l.return}if(Ut=s,Rt=s=yi(s.current,null),qt=Dn=o,Ot=0,yc=null,tm=Td=wo=0,vn=vc=null,go!==null){for(o=0;o<go.length;o++)if(l=go[o],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,w=l.pending;if(w!==null){var I=w.next;w.next=g,f.next=I}l.pending=f}go=null}return s}function E_(s,o){do{var l=Rt;try{if(Ep(),hd.current=gd,fd){for(var f=ht.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}fd=!1}if(vo=0,Ft=Mt=ht=null,dc=!1,hc=0,em.current=null,l===null||l.return===null){Ot=1,yc=o,Rt=null;break}e:{var w=s,I=l.return,O=l,F=o;if(o=qt,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var J=F,ae=O,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var pe=qw(I);if(pe!==null){pe.flags&=-257,Kw(pe,I,O,w,o),pe.mode&1&&Hw(w,J,o),o=pe,F=J;var xe=o.updateQueue;if(xe===null){var be=new Set;be.add(F),o.updateQueue=be}else xe.add(F);break e}else{if((o&1)===0){Hw(w,J,o),cm();break e}F=Error(t(426))}}else if(ct&&O.mode&1){var bt=qw(I);if(bt!==null){(bt.flags&65536)===0&&(bt.flags|=256),Kw(bt,I,O,w,o),_p(Ra(F,O));break e}}w=F=Ra(F,O),Ot!==4&&(Ot=2),vc===null?vc=[w]:vc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var H=Gw(w,F,o);yw(w,H);break e;case 1:O=F;var z=w.type,Q=w.stateNode;if((w.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(fi===null||!fi.has(Q)))){w.flags|=65536,o&=-o,w.lanes|=o;var ce=Ww(w,O,o);yw(w,ce);break e}}w=w.return}while(w!==null)}S_(l)}catch(Se){o=Se,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function T_(){var s=Ed.current;return Ed.current=gd,s===null?gd:s}function cm(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||(wo&268435455)===0&&(Td&268435455)===0||gi(Ut,qt)}function Ad(s,o){var l=Xe;Xe|=2;var f=T_();(Ut!==s||qt!==o)&&(Is=null,xo(s,o));do try{JC();break}catch(g){E_(s,g)}while(!0);if(Ep(),Xe=l,Ed.current=f,Rt!==null)throw Error(t(261));return Ut=null,qt=0,Ot}function JC(){for(;Rt!==null;)b_(Rt)}function ZC(){for(;Rt!==null&&!eo();)b_(Rt)}function b_(s){var o=N_(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?S_(s):Rt=o,em.current=null}function S_(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=WC(l,o,Dn),l!==null){Rt=l;return}}else{if(l=HC(l,o),l!==null){l.flags&=32767,Rt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ot=6,Rt=null;return}}if(o=o.sibling,o!==null){Rt=o;return}Rt=o=s}while(o!==null);Ot===0&&(Ot=5)}function Eo(s,o,l){var f=Ke,g=Kn.transition;try{Kn.transition=null,Ke=1,eN(s,o,l,f)}finally{Kn.transition=g,Ke=f}return null}function eN(s,o,l,f){do Ma();while(pi!==null);if((Xe&6)!==0)throw Error(t(327));l=s.finishedWork;var g=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(Qf(s,w),s===Ut&&(Rt=Ut=null,qt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Sd||(Sd=!0,A_(to,function(){return Ma(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=Kn.transition,Kn.transition=null;var I=Ke;Ke=1;var O=Xe;Xe|=4,em.current=null,KC(s,l),m_(l,s),_C(cp),gs=!!lp,cp=lp=null,s.current=l,QC(l),hs(),Xe=O,Ke=I,Kn.transition=w}else s.current=l;if(Sd&&(Sd=!1,pi=s,Id=g),w=s.pendingLanes,w===0&&(fi=null),Ou(l.stateNode),wn(s,ot()),o!==null)for(f=s.onRecoverableError,l=0;l<o.length;l++)g=o[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(bd)throw bd=!1,s=rm,rm=null,s;return(Id&1)!==0&&s.tag!==0&&Ma(),w=s.pendingLanes,(w&1)!==0?s===sm?wc++:(wc=0,sm=s):wc=0,ci(),null}function Ma(){if(pi!==null){var s=kr(Id),o=Kn.transition,l=Ke;try{if(Kn.transition=null,Ke=16>s?16:s,pi===null)var f=!1;else{if(s=pi,pi=null,Id=0,(Xe&6)!==0)throw Error(t(331));var g=Xe;for(Xe|=4,we=s.current;we!==null;){var w=we,I=w.child;if((we.flags&16)!==0){var O=w.deletions;if(O!==null){for(var F=0;F<O.length;F++){var J=O[F];for(we=J;we!==null;){var ae=we;switch(ae.tag){case 0:case 11:case 15:gc(8,ae,w)}var le=ae.child;if(le!==null)le.return=ae,we=le;else for(;we!==null;){ae=we;var oe=ae.sibling,pe=ae.return;if(u_(ae),ae===J){we=null;break}if(oe!==null){oe.return=pe,we=oe;break}we=pe}}}var xe=w.alternate;if(xe!==null){var be=xe.child;if(be!==null){xe.child=null;do{var bt=be.sibling;be.sibling=null,be=bt}while(be!==null)}}we=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,we=I;else e:for(;we!==null;){if(w=we,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:gc(9,w,w.return)}var H=w.sibling;if(H!==null){H.return=w.return,we=H;break e}we=w.return}}var z=s.current;for(we=z;we!==null;){I=we;var Q=I.child;if((I.subtreeFlags&2064)!==0&&Q!==null)Q.return=I,we=Q;else e:for(I=z;we!==null;){if(O=we,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:xd(9,O)}}catch(Se){vt(O,O.return,Se)}if(O===I){we=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,we=ce;break e}we=O.return}}if(Xe=g,ci(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(no,s)}catch{}f=!0}return f}finally{Ke=l,Kn.transition=o}}return!1}function I_(s,o,l){o=Ra(l,o),o=Gw(s,o,1),s=di(s,o,1),o=hn(),s!==null&&(oo(s,1,o),wn(s,o))}function vt(s,o,l){if(s.tag===3)I_(s,s,l);else for(;o!==null;){if(o.tag===3){I_(o,s,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(fi===null||!fi.has(f))){s=Ra(l,s),s=Ww(o,s,1),o=di(o,s,1),s=hn(),o!==null&&(oo(o,1,s),wn(o,s));break}}o=o.return}}function tN(s,o,l){var f=s.pingCache;f!==null&&f.delete(o),o=hn(),s.pingedLanes|=s.suspendedLanes&l,Ut===s&&(qt&l)===l&&(Ot===4||Ot===3&&(qt&130023424)===qt&&500>ot()-nm?xo(s,0):tm|=l),wn(s,o)}function C_(s,o){o===0&&((s.mode&1)===0?o=1:(o=Zs,Zs<<=1,(Zs&130023424)===0&&(Zs=4194304)));var l=hn();s=Ts(s,o),s!==null&&(oo(s,o,l),wn(s,l))}function nN(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),C_(s,l)}function rN(s,o){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),C_(s,l)}var N_;N_=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||mn.current)yn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return yn=!1,GC(s,o,l);yn=(s.flags&131072)!==0}else yn=!1,ct&&(o.flags&1048576)!==0&&aw(o,sd,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;wd(s,o),s=o.pendingProps;var g=Ta(o,tn.current);Aa(o,l),g=jp(null,o,f,s,g,l);var w=Dp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(f)?(w=!0,td(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Ip(o),g.updater=yd,o.stateNode=g,g._reactInternals=o,Up(o,f,s,l),o=Gp(null,o,f,!0,w,l)):(o.tag=0,ct&&w&&gp(o),dn(null,o,g,l),o=o.child),o;case 16:f=o.elementType;e:{switch(wd(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=iN(f),s=cr(f,s),g){case 0:o=Bp(null,o,f,s,l);break e;case 1:o=e_(null,o,f,s,l);break e;case 11:o=Qw(null,o,f,s,l);break e;case 14:o=Yw(null,o,f,cr(f.type,s),l);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),Bp(s,o,f,g,l);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),e_(s,o,f,g,l);case 3:e:{if(t_(o),s===null)throw Error(t(387));f=o.pendingProps,w=o.memoizedState,g=w.element,gw(s,o),ud(o,f,null,l);var I=o.memoizedState;if(f=I.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Ra(Error(t(423)),o),o=n_(s,o,f,l,g);break e}else if(f!==g){g=Ra(Error(t(424)),o),o=n_(s,o,f,l,g);break e}else for(jn=oi(o.stateNode.containerInfo.firstChild),Pn=o,ct=!0,lr=null,l=pw(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ia(),f===g){o=Ss(s,o,l);break e}dn(s,o,f,l)}o=o.child}return o;case 5:return ww(o),s===null&&wp(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,I=g.children,up(f,g)?I=null:w!==null&&up(f,w)&&(o.flags|=32),Zw(s,o),dn(s,o,I,l),o.child;case 6:return s===null&&wp(o),null;case 13:return r_(s,o,l);case 4:return Cp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ca(o,null,f,l):dn(s,o,f,l),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),Qw(s,o,f,g,l);case 7:return dn(s,o,o.pendingProps,l),o.child;case 8:return dn(s,o,o.pendingProps.children,l),o.child;case 12:return dn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,I=g.value,st(ad,f._currentValue),f._currentValue=I,w!==null)if(ar(w.value,I)){if(w.children===g.children&&!mn.current){o=Ss(s,o,l);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){I=w.child;for(var F=O.firstContext;F!==null;){if(F.context===f){if(w.tag===1){F=bs(-1,l&-l),F.tag=2;var J=w.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?F.next=F:(F.next=ae.next,ae.next=F),J.pending=F}}w.lanes|=l,F=w.alternate,F!==null&&(F.lanes|=l),bp(w.return,l,o),O.lanes|=l;break}F=F.next}}else if(w.tag===10)I=w.type===o.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(t(341));I.lanes|=l,O=I.alternate,O!==null&&(O.lanes|=l),bp(I,l,o),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===o){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}dn(s,o,g.children,l),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,Aa(o,l),g=Hn(g),f=f(g),o.flags|=1,dn(s,o,f,l),o.child;case 14:return f=o.type,g=cr(f,o.pendingProps),g=cr(f.type,g),Yw(s,o,f,g,l);case 15:return Xw(s,o,o.type,o.pendingProps,l);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:cr(f,g),wd(s,o),o.tag=1,gn(f)?(s=!0,td(o)):s=!1,Aa(o,l),$w(o,f,g),Up(o,f,g,l),Gp(null,o,f,!0,s,l);case 19:return i_(s,o,l);case 22:return Jw(s,o,l)}throw Error(t(156,o.tag))};function A_(s,o){return Ol(s,o)}function sN(s,o,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(s,o,l,f){return new sN(s,o,l,f)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function iN(s){if(typeof s=="function")return um(s)?1:0;if(s!=null){if(s=s.$$typeof,s===R)return 11;if(s===he)return 14}return 2}function yi(s,o){var l=s.alternate;return l===null?(l=Qn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function kd(s,o,l,f,g,w){var I=2;if(f=s,typeof s=="function")um(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case D:return To(l.children,g,w,o);case b:I=8,g|=8;break;case j:return s=Qn(12,l,o,g|2),s.elementType=j,s.lanes=w,s;case N:return s=Qn(13,l,o,g),s.elementType=N,s.lanes=w,s;case Y:return s=Qn(19,l,o,g),s.elementType=Y,s.lanes=w,s;case ge:return Rd(l,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:I=10;break e;case V:I=9;break e;case R:I=11;break e;case he:I=14;break e;case de:I=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Qn(I,l,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function To(s,o,l,f){return s=Qn(7,s,f,o),s.lanes=l,s}function Rd(s,o,l,f){return s=Qn(22,s,f,o),s.elementType=ge,s.lanes=l,s.stateNode={isHidden:!1},s}function dm(s,o,l){return s=Qn(6,s,null,o),s.lanes=l,s}function hm(s,o,l){return o=Qn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function oN(s,o,l,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function fm(s,o,l,f,g,w,I,O,F){return s=new oN(s,o,l,O,F),o===1?(o=1,w===!0&&(o|=8)):o=0,w=Qn(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ip(w),s}function aN(s,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:f==null?null:""+f,children:s,containerInfo:o,implementation:l}}function k_(s){if(!s)return li;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(gn(l))return sw(s,l,o)}return o}function R_(s,o,l,f,g,w,I,O,F){return s=fm(l,f,!0,s,g,w,I,O,F),s.context=k_(null),l=s.current,f=hn(),g=mi(l),w=bs(f,g),w.callback=o??null,di(l,w,g),s.current.lanes=g,oo(s,g,f),wn(s,f),s}function Pd(s,o,l,f){var g=o.current,w=hn(),I=mi(g);return l=k_(l),o.context===null?o.context=l:o.pendingContext=l,o=bs(w,I),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=di(g,o,I),s!==null&&(hr(s,g,I,w),cd(s,g,I)),I}function jd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function P_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function pm(s,o){P_(s,o),(s=s.alternate)&&P_(s,o)}function lN(){return null}var j_=typeof reportError=="function"?reportError:function(s){console.error(s)};function mm(s){this._internalRoot=s}Dd.prototype.render=mm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Pd(s,o,null,null)},Dd.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;_o(function(){Pd(null,s,null,null)}),o[ws]=null}};function Dd(s){this._internalRoot=s}Dd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Wl();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Nn.length&&o!==0&&o<Nn[l].priority;l++);Nn.splice(l,0,s),l===0&&aa(s)}};function gm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Md(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function D_(){}function cN(s,o,l,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var J=jd(I);w.call(J)}}var I=R_(o,f,s,0,null,!1,!1,"",D_);return s._reactRootContainer=I,s[ws]=I.current,rc(s.nodeType===8?s.parentNode:s),_o(),I}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var O=f;f=function(){var J=jd(F);O.call(J)}}var F=fm(s,0,!1,null,null,!1,!1,"",D_);return s._reactRootContainer=F,s[ws]=F.current,rc(s.nodeType===8?s.parentNode:s),_o(function(){Pd(o,F,l,f)}),F}function Od(s,o,l,f,g){var w=l._reactRootContainer;if(w){var I=w;if(typeof g=="function"){var O=g;g=function(){var F=jd(I);O.call(F)}}Pd(o,I,s,g)}else I=cN(l,o,s,g,f);return jd(I)}Bl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ze(o.pendingLanes);l!==0&&($l(o,l|1),wn(o,ot()),(Xe&6)===0&&(Da=ot()+500,ci()))}break;case 13:_o(function(){var f=Ts(s,1);if(f!==null){var g=hn();hr(f,s,1,g)}}),pm(s,1)}},ia=function(s){if(s.tag===13){var o=Ts(s,134217728);if(o!==null){var l=hn();hr(o,s,134217728,l)}pm(s,134217728)}},Gl=function(s){if(s.tag===13){var o=mi(s),l=Ts(s,o);if(l!==null){var f=hn();hr(l,s,o,f)}pm(s,o)}},Wl=function(){return Ke},Hl=function(s,o){var l=Ke;try{return Ke=s,o()}finally{Ke=l}},cs=function(s,o,l){switch(o){case"input":if(Yi(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==s&&f.form===s.form){var g=Zu(f);if(!g)throw Error(t(90));zn(f),Yi(f,g)}}}break;case"textarea":bu(s,l);break;case"select":o=l.value,o!=null&&rr(s,!!l.multiple,o,!1)}},Cu=am,Nu=_o;var uN={usingClientEntryPoint:!1,Events:[oc,xa,Zu,Qs,Ys,am]},_c={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dN={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Mu(s),s===null?null:s.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||lN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{no=Ld.inject(dN),In=Ld}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uN,_n.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(o))throw Error(t(200));return aN(s,o,null,l)},_n.createRoot=function(s,o){if(!gm(s))throw Error(t(299));var l=!1,f="",g=j_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=fm(s,1,!1,null,null,l,!1,f,g),s[ws]=o.current,rc(s.nodeType===8?s.parentNode:s),new mm(o)},_n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Mu(o),s=s===null?null:s.stateNode,s},_n.flushSync=function(s){return _o(s)},_n.hydrate=function(s,o,l){if(!Md(o))throw Error(t(200));return Od(null,s,o,!0,l)},_n.hydrateRoot=function(s,o,l){if(!gm(s))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,g=!1,w="",I=j_;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),o=R_(o,null,s,1,l??null,g,!1,w,I),s[ws]=o.current,rc(s),f)for(s=0;s<f.length;s++)l=f[s],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new Dd(o)},_n.render=function(s,o,l){if(!Md(o))throw Error(t(200));return Od(null,s,o,!1,l)},_n.unmountComponentAtNode=function(s){if(!Md(s))throw Error(t(40));return s._reactRootContainer?(_o(function(){Od(null,null,s,!1,function(){s._reactRootContainer=null,s[ws]=null})}),!0):!1},_n.unstable_batchedUpdates=am,_n.unstable_renderSubtreeIntoContainer=function(s,o,l,f){if(!Md(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Od(s,o,l,!1,f)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var $_;function yE(){if($_)return wm.exports;$_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wm.exports=wN(),wm.exports}var B_;function _N(){if(B_)return Vd;B_=1;var n=yE();return Vd.createRoot=n.createRoot,Vd.hydrateRoot=n.hydrateRoot,Vd}var xN=_N(),S=of();const En=gE(S),vE=fN({__proto__:null,default:En},[S]);function G_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function af(...n){return e=>{let t=!1;const r=n.map(i=>{const a=G_(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():G_(n[i],null)}}}}function Nt(...n){return S.useCallback(af(...n),n)}function rl(n){const e=EN(n),t=S.forwardRef((r,i)=>{const{children:a,...u}=r,h=S.Children.toArray(a),p=h.find(bN);if(p){const m=p.props.children,y=h.map(v=>v===p?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:v);return c.jsx(e,{...u,ref:i,children:S.isValidElement(m)?S.cloneElement(m,void 0,y):null})}return c.jsx(e,{...u,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var wE=rl("Slot");function EN(n){const e=S.forwardRef((t,r)=>{const{children:i,...a}=t;if(S.isValidElement(i)){const u=IN(i),h=SN(a,i.props);return i.type!==S.Fragment&&(h.ref=r?af(r,u):u),S.cloneElement(i,h)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var _E=Symbol("radix.slottable");function TN(n){const e=({children:t})=>c.jsx(c.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=_E,e}function bN(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===_E}function SN(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...h)=>{const p=a(...h);return i(...h),p}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function IN(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function xE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=xE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function EE(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=xE(n))&&(r&&(r+=" "),r+=e);return r}const W_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,H_=EE,TE=(n,e)=>t=>{var r;if(e?.variants==null)return H_(n,t?.class,t?.className);const{variants:i,defaultVariants:a}=e,u=Object.keys(i).map(m=>{const y=t?.[m],v=a?.[m];if(y===null)return null;const x=W_(y)||W_(v);return i[m][x]}),h=t&&Object.entries(t).reduce((m,y)=>{let[v,x]=y;return x===void 0||(m[v]=x),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:v,className:x,...T}=y;return Object.entries(T).every(C=>{let[A,k]=C;return Array.isArray(k)?k.includes({...a,...h}[A]):{...a,...h}[A]===k})?[...m,v,x]:m},[]);return H_(n,u,p,t?.class,t?.className)},zg="-",CN=n=>{const e=AN(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(zg);return h[0]===""&&h.length!==1&&h.shift(),bE(h,e)||NN(u)},getConflictingClassGroupIds:(u,h)=>{const p=t[u]||[];return h&&r[u]?[...p,...r[u]]:p}}},bE=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?bE(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(zg);return e.validators.find(({validator:u})=>u(a))?.classGroupId},q_=/^\[(.+)\]$/,NN=n=>{if(q_.test(n)){const e=q_.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},AN=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const i in t)eg(t[i],r,i,e);return r},eg=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:K_(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(kN(i)){eg(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,u])=>{eg(u,K_(e,a),t,r)})})},K_=(n,e)=>{let t=n;return e.split(zg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},kN=n=>n.isThemeGetter,RN=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return i(a,u),u},set(a,u){t.has(a)?t.set(a,u):i(a,u)}}},tg="!",ng=":",PN=ng.length,jN=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=i=>{const a=[];let u=0,h=0,p=0,m;for(let C=0;C<i.length;C++){let A=i[C];if(u===0&&h===0){if(A===ng){a.push(i.slice(p,C)),p=C+PN;continue}if(A==="/"){m=C;continue}}A==="["?u++:A==="]"?u--:A==="("?h++:A===")"&&h--}const y=a.length===0?i:i.substring(p),v=DN(y),x=v!==y,T=m&&m>p?m-p:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:T}};if(e){const i=e+ng,a=r;r=u=>u.startsWith(i)?a(u.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const i=r;r=a=>t({className:a,parseClassName:i})}return r},DN=n=>n.endsWith(tg)?n.substring(0,n.length-1):n.startsWith(tg)?n.substring(1):n,MN=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(u=>{u[0]==="["||e[u]?(i.push(...a.sort(),u),a=[]):a.push(u)}),i.push(...a.sort()),i}},ON=n=>({cache:RN(n.cacheSize),parseClassName:jN(n),sortModifiers:MN(n),...CN(n)}),LN=/\s+/,VN=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,u=[],h=n.trim().split(LN);let p="";for(let m=h.length-1;m>=0;m-=1){const y=h[m],{isExternal:v,modifiers:x,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:A}=t(y);if(v){p=y+(p.length>0?" "+p:p);continue}let k=!!A,M=r(k?C.substring(0,A):C);if(!M){if(!k){p=y+(p.length>0?" "+p:p);continue}if(M=r(C),!M){p=y+(p.length>0?" "+p:p);continue}k=!1}const W=a(x).join(":"),$=T?W+tg:W,B=$+M;if(u.includes(B))continue;u.push(B);const K=i(M,k);for(let ee=0;ee<K.length;++ee){const D=K[ee];u.push($+D)}p=y+(p.length>0?" "+p:p)}return p};function FN(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=SE(e))&&(r&&(r+=" "),r+=t);return r}const SE=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=SE(n[r]))&&(t&&(t+=" "),t+=e);return t};function UN(n,...e){let t,r,i,a=u;function u(p){const m=e.reduce((y,v)=>v(y),n());return t=ON(m),r=t.cache.get,i=t.cache.set,a=h,h(p)}function h(p){const m=r(p);if(m)return m;const y=VN(p,t);return i(p,y),y}return function(){return a(FN.apply(null,arguments))}}const Lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},IE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,CE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zN=/^\d+\/\d+$/,$N=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oa=n=>zN.test(n),ze=n=>!!n&&!Number.isNaN(Number(n)),wi=n=>!!n&&Number.isInteger(Number(n)),Em=n=>n.endsWith("%")&&ze(n.slice(0,-1)),Cs=n=>$N.test(n),qN=()=>!0,KN=n=>BN.test(n)&&!GN.test(n),NE=()=>!1,QN=n=>WN.test(n),YN=n=>HN.test(n),XN=n=>!Ee(n)&&!Te(n),JN=n=>yl(n,RE,NE),Ee=n=>IE.test(n),bo=n=>yl(n,PE,KN),Tm=n=>yl(n,rA,ze),Q_=n=>yl(n,AE,NE),ZN=n=>yl(n,kE,YN),Fd=n=>yl(n,jE,QN),Te=n=>CE.test(n),Ec=n=>vl(n,PE),eA=n=>vl(n,sA),Y_=n=>vl(n,AE),tA=n=>vl(n,RE),nA=n=>vl(n,kE),Ud=n=>vl(n,jE,!0),yl=(n,e,t)=>{const r=IE.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},vl=(n,e,t=!1)=>{const r=CE.exec(n);return r?r[1]?e(r[1]):t:!1},AE=n=>n==="position"||n==="percentage",kE=n=>n==="image"||n==="url",RE=n=>n==="length"||n==="size"||n==="bg-size",PE=n=>n==="length",rA=n=>n==="number",sA=n=>n==="family-name",jE=n=>n==="shadow",iA=()=>{const n=Lt("color"),e=Lt("font"),t=Lt("text"),r=Lt("font-weight"),i=Lt("tracking"),a=Lt("leading"),u=Lt("breakpoint"),h=Lt("container"),p=Lt("spacing"),m=Lt("radius"),y=Lt("shadow"),v=Lt("inset-shadow"),x=Lt("text-shadow"),T=Lt("drop-shadow"),C=Lt("blur"),A=Lt("perspective"),k=Lt("aspect"),M=Lt("ease"),W=Lt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...B(),Te,Ee],ee=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],b=()=>[Te,Ee,p],j=()=>[Oa,"full","auto",...b()],L=()=>[wi,"none","subgrid",Te,Ee],V=()=>["auto",{span:["full",wi,Te,Ee]},wi,Te,Ee],R=()=>[wi,"auto",Te,Ee],N=()=>["auto","min","max","fr",Te,Ee],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...b()],ge=()=>[Oa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],G=()=>[n,Te,Ee],X=()=>[...B(),Y_,Q_,{position:[Te,Ee]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",tA,JN,{size:[Te,Ee]}],te=()=>[Em,Ec,bo],ye=()=>["","none","full",m,Te,Ee],_e=()=>["",ze,Ec,bo],Pe=()=>["solid","dashed","dotted","double"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[ze,Em,Y_,Q_],Fe=()=>["","none",C,Te,Ee],Qe=()=>["none",ze,Te,Ee],gt=()=>["none",ze,Te,Ee],Un=()=>[ze,Te,Ee],zn=()=>[Oa,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Cs],breakpoint:[Cs],color:[qN],container:[Cs],"drop-shadow":[Cs],ease:["in","out","in-out"],font:[XN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Cs],shadow:[Cs],spacing:["px",ze],text:[Cs],"text-shadow":[Cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Oa,Ee,Te,k]}],container:["container"],columns:[{columns:[ze,Ee,Te,h]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",Te,Ee]}],basis:[{basis:[Oa,"full","auto",h,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,Oa,"auto","initial","none",Ee]}],grow:[{grow:["",ze,Te,Ee]}],shrink:[{shrink:["",ze,Te,Ee]}],order:[{order:[wi,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[h,"screen",...ge()]}],"min-w":[{"min-w":[h,"screen","none",...ge()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ge()]}],h:[{h:["screen","lh",...ge()]}],"min-h":[{"min-h":["screen","lh","none",...ge()]}],"max-h":[{"max-h":["screen","lh",...ge()]}],"font-size":[{text:["base",t,Ec,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,Tm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Em,Ee]}],"font-family":[{font:[eA,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,Ee]}],"line-clamp":[{"line-clamp":[ze,"none",Te,Tm]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",Te,bo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[ze,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,Te,Ee],radial:["",Te,Ee],conic:[wi,Te,Ee]},nA,ZN]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ye()}],"rounded-s":[{"rounded-s":ye()}],"rounded-e":[{"rounded-e":ye()}],"rounded-t":[{"rounded-t":ye()}],"rounded-r":[{"rounded-r":ye()}],"rounded-b":[{"rounded-b":ye()}],"rounded-l":[{"rounded-l":ye()}],"rounded-ss":[{"rounded-ss":ye()}],"rounded-se":[{"rounded-se":ye()}],"rounded-ee":[{"rounded-ee":ye()}],"rounded-es":[{"rounded-es":ye()}],"rounded-tl":[{"rounded-tl":ye()}],"rounded-tr":[{"rounded-tr":ye()}],"rounded-br":[{"rounded-br":ye()}],"rounded-bl":[{"rounded-bl":ye()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,Te,Ee]}],"outline-w":[{outline:["",ze,Ec,bo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,Ud,Fd]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",v,Ud,Fd]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[ze,bo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",x,Ud,Fd]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[ze,Te,Ee]}],"mix-blend":[{"mix-blend":[...je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Fe()}],brightness:[{brightness:[ze,Te,Ee]}],contrast:[{contrast:[ze,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",T,Ud,Fd]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",ze,Te,Ee]}],"hue-rotate":[{"hue-rotate":[ze,Te,Ee]}],invert:[{invert:["",ze,Te,Ee]}],saturate:[{saturate:[ze,Te,Ee]}],sepia:[{sepia:["",ze,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[ze,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[ze,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",ze,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[ze,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[ze,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",Te,Ee]}],ease:[{ease:["linear","initial",M,Te,Ee]}],delay:[{delay:[ze,Te,Ee]}],animate:[{animate:["none",W,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,Te,Ee]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:gt()}],"scale-x":[{"scale-x":gt()}],"scale-y":[{"scale-y":gt()}],"scale-z":[{"scale-z":gt()}],"scale-3d":["scale-3d"],skew:[{skew:Un()}],"skew-x":[{"skew-x":Un()}],"skew-y":[{"skew-y":Un()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zn()}],"translate-x":[{"translate-x":zn()}],"translate-y":[{"translate-y":zn()}],"translate-z":[{"translate-z":zn()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[ze,Ec,bo,Tm]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oA=UN(iA);function Ge(...n){return oA(EE(n))}const $g=TE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),re=S.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const u=r?wE:"button";return c.jsx(u,{"data-slot":"button",className:Ge($g({variant:e,size:t,className:n})),ref:a,...i})});re.displayName="Button";function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n?.(i),t===!1||!i.defaultPrevented)return e?.(i)}}function aA(n,e){const t=S.createContext(e),r=a=>{const{children:u,...h}=a,p=S.useMemo(()=>h,Object.values(h));return c.jsx(t.Provider,{value:p,children:u})};r.displayName=n+"Provider";function i(a){const u=S.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function os(n,e=[]){let t=[];function r(a,u){const h=S.createContext(u),p=t.length;t=[...t,u];const m=v=>{const{scope:x,children:T,...C}=v,A=x?.[n]?.[p]||h,k=S.useMemo(()=>C,Object.values(C));return c.jsx(A.Provider,{value:k,children:T})};m.displayName=a+"Provider";function y(v,x){const T=x?.[n]?.[p]||h,C=S.useContext(T);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[m,y]}const i=()=>{const a=t.map(u=>S.createContext(u));return function(h){const p=h?.[n]||a;return S.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return i.scopeName=n,[r,lA(i,...e)]}function lA(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const u=r.reduce((h,{useScope:p,scopeName:m})=>{const v=p(a)[`__scope${m}`];return{...h,...v}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}var pr=globalThis?.document?S.useLayoutEffect:()=>{},cA=vE[" useInsertionEffect ".trim().toString()]||pr;function nu({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,u]=uA({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:i;{const y=S.useRef(n!==void 0);S.useEffect(()=>{const v=y.current;v!==h&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,r])}const m=S.useCallback(y=>{if(h){const v=dA(y)?y(n):y;v!==n&&u.current?.(v)}else a(y)},[h,n,a,u]);return[p,m]}function uA({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),i=S.useRef(t),a=S.useRef(e);return cA(()=>{a.current=e},[e]),S.useEffect(()=>{i.current!==t&&(a.current?.(t),i.current=t)},[t,i]),[t,r,a]}function dA(n){return typeof n=="function"}var Bg=yE();const hA=gE(Bg);var fA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=fA.reduce((n,e)=>{const t=rl(`Primitive.${e}`),r=S.forwardRef((i,a)=>{const{asChild:u,...h}=i,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(p,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function DE(n,e){n&&Bg.flushSync(()=>n.dispatchEvent(e))}function ME(n){const e=n+"CollectionProvider",[t,r]=os(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=A=>{const{scope:k,children:M}=A,W=En.useRef(null),$=En.useRef(new Map).current;return c.jsx(i,{scope:k,itemMap:$,collectionRef:W,children:M})};u.displayName=e;const h=n+"CollectionSlot",p=rl(h),m=En.forwardRef((A,k)=>{const{scope:M,children:W}=A,$=a(h,M),B=Nt(k,$.collectionRef);return c.jsx(p,{ref:B,children:W})});m.displayName=h;const y=n+"CollectionItemSlot",v="data-radix-collection-item",x=rl(y),T=En.forwardRef((A,k)=>{const{scope:M,children:W,...$}=A,B=En.useRef(null),K=Nt(k,B),ee=a(y,M);return En.useEffect(()=>(ee.itemMap.set(B,{ref:B,...$}),()=>void ee.itemMap.delete(B))),c.jsx(x,{[v]:"",ref:K,children:W})});T.displayName=y;function C(A){const k=a(n+"CollectionConsumer",A);return En.useCallback(()=>{const W=k.collectionRef.current;if(!W)return[];const $=Array.from(W.querySelectorAll(`[${v}]`));return Array.from(k.itemMap.values()).sort((ee,D)=>$.indexOf(ee.ref.current)-$.indexOf(D.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:m,ItemSlot:T},C,r]}var pA=S.createContext(void 0);function Gg(n){const e=S.useContext(pA);return n||e||"ltr"}function ns(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>e.current?.(...t),[])}function mA(n,e=globalThis?.document){const t=ns(n);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var gA="DismissableLayer",rg="dismissableLayer.update",yA="dismissableLayer.pointerDownOutside",vA="dismissableLayer.focusOutside",X_,OE=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wg=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:u,onDismiss:h,...p}=n,m=S.useContext(OE),[y,v]=S.useState(null),x=y?.ownerDocument??globalThis?.document,[,T]=S.useState({}),C=Nt(e,D=>v(D)),A=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=A.indexOf(k),W=y?A.indexOf(y):-1,$=m.layersWithOutsidePointerEventsDisabled.size>0,B=W>=M,K=xA(D=>{const b=D.target,j=[...m.branches].some(L=>L.contains(b));!B||j||(i?.(D),u?.(D),D.defaultPrevented||h?.())},x),ee=EA(D=>{const b=D.target;[...m.branches].some(L=>L.contains(b))||(a?.(D),u?.(D),D.defaultPrevented||h?.())},x);return mA(D=>{W===m.layers.size-1&&(r?.(D),!D.defaultPrevented&&h&&(D.preventDefault(),h()))},x),S.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(X_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),J_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=X_)}},[y,x,t,m]),S.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),J_())},[y,m]),S.useEffect(()=>{const D=()=>T({});return document.addEventListener(rg,D),()=>document.removeEventListener(rg,D)},[]),c.jsx(et.div,{...p,ref:C,style:{pointerEvents:$?B?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,ee.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,ee.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,K.onPointerDownCapture)})});Wg.displayName=gA;var wA="DismissableLayerBranch",_A=S.forwardRef((n,e)=>{const t=S.useContext(OE),r=S.useRef(null),i=Nt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),c.jsx(et.div,{...n,ref:i})});_A.displayName=wA;function xA(n,e=globalThis?.document){const t=ns(n),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let p=function(){LE(yA,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function EA(n,e=globalThis?.document){const t=ns(n),r=S.useRef(!1);return S.useEffect(()=>{const i=a=>{a.target&&!r.current&&LE(vA,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J_(){const n=new CustomEvent(rg);document.dispatchEvent(n)}function LE(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?DE(i,a):i.dispatchEvent(a)}var bm=0;function VE(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Z_()),document.body.insertAdjacentElement("beforeend",n[1]??Z_()),bm++,()=>{bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bm--}},[])}function Z_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Sm="focusScope.autoFocusOnMount",Im="focusScope.autoFocusOnUnmount",ex={bubbles:!1,cancelable:!0},TA="FocusScope",Hg=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...u}=n,[h,p]=S.useState(null),m=ns(i),y=ns(a),v=S.useRef(null),x=Nt(e,A=>p(A)),T=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let A=function($){if(T.paused||!h)return;const B=$.target;h.contains(B)?v.current=B:Ei(v.current,{select:!0})},k=function($){if(T.paused||!h)return;const B=$.relatedTarget;B!==null&&(h.contains(B)||Ei(v.current,{select:!0}))},M=function($){if(document.activeElement===document.body)for(const K of $)K.removedNodes.length>0&&Ei(h)};document.addEventListener("focusin",A),document.addEventListener("focusout",k);const W=new MutationObserver(M);return h&&W.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",k),W.disconnect()}}},[r,h,T.paused]),S.useEffect(()=>{if(h){nx.add(T);const A=document.activeElement;if(!h.contains(A)){const M=new CustomEvent(Sm,ex);h.addEventListener(Sm,m),h.dispatchEvent(M),M.defaultPrevented||(bA(AA(FE(h)),{select:!0}),document.activeElement===A&&Ei(h))}return()=>{h.removeEventListener(Sm,m),setTimeout(()=>{const M=new CustomEvent(Im,ex);h.addEventListener(Im,y),h.dispatchEvent(M),M.defaultPrevented||Ei(A??document.body,{select:!0}),h.removeEventListener(Im,y),nx.remove(T)},0)}}},[h,m,y,T]);const C=S.useCallback(A=>{if(!t&&!r||T.paused)return;const k=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,M=document.activeElement;if(k&&M){const W=A.currentTarget,[$,B]=SA(W);$&&B?!A.shiftKey&&M===B?(A.preventDefault(),t&&Ei($,{select:!0})):A.shiftKey&&M===$&&(A.preventDefault(),t&&Ei(B,{select:!0})):M===W&&A.preventDefault()}},[t,r,T.paused]);return c.jsx(et.div,{tabIndex:-1,...u,ref:x,onKeyDown:C})});Hg.displayName=TA;function bA(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ei(r,{select:e}),document.activeElement!==t)return}function SA(n){const e=FE(n),t=tx(e,n),r=tx(e.reverse(),n);return[t,r]}function FE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tx(n,e){for(const t of n)if(!IA(t,{upTo:e}))return t}function IA(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function CA(n){return n instanceof HTMLInputElement&&"select"in n}function Ei(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&CA(n)&&e&&n.select()}}var nx=NA();function NA(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=rx(n,e),n.unshift(e)},remove(e){n=rx(n,e),n[0]?.resume()}}}function rx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function AA(n){return n.filter(e=>e.tagName!=="A")}var kA=vE[" useId ".trim().toString()]||(()=>{}),RA=0;function No(n){const[e,t]=S.useState(kA());return pr(()=>{t(r=>r??String(RA++))},[n]),n||(e?`radix-${e}`:"")}const PA=["top","right","bottom","left"],Di=Math.min,Mn=Math.max,_h=Math.round,zd=Math.floor,Kr=n=>({x:n,y:n}),jA={left:"right",right:"left",bottom:"top",top:"bottom"},DA={start:"end",end:"start"};function sg(n,e,t){return Mn(n,Di(e,t))}function Ds(n,e){return typeof n=="function"?n(e):n}function Ms(n){return n.split("-")[0]}function wl(n){return n.split("-")[1]}function qg(n){return n==="x"?"y":"x"}function Kg(n){return n==="y"?"height":"width"}const MA=new Set(["top","bottom"]);function Hr(n){return MA.has(Ms(n))?"y":"x"}function Qg(n){return qg(Hr(n))}function OA(n,e,t){t===void 0&&(t=!1);const r=wl(n),i=Qg(n),a=Kg(i);let u=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=xh(u)),[u,xh(u)]}function LA(n){const e=xh(n);return[ig(n),e,ig(e)]}function ig(n){return n.replace(/start|end/g,e=>DA[e])}const sx=["left","right"],ix=["right","left"],VA=["top","bottom"],FA=["bottom","top"];function UA(n,e,t){switch(n){case"top":case"bottom":return t?e?ix:sx:e?sx:ix;case"left":case"right":return e?VA:FA;default:return[]}}function zA(n,e,t,r){const i=wl(n);let a=UA(Ms(n),t==="start",r);return i&&(a=a.map(u=>u+"-"+i),e&&(a=a.concat(a.map(ig)))),a}function xh(n){return n.replace(/left|right|bottom|top/g,e=>jA[e])}function $A(n){return{top:0,right:0,bottom:0,left:0,...n}}function UE(n){return typeof n!="number"?$A(n):{top:n,right:n,bottom:n,left:n}}function Eh(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function ox(n,e,t){let{reference:r,floating:i}=n;const a=Hr(e),u=Qg(e),h=Kg(u),p=Ms(e),m=a==="y",y=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,x=r[h]/2-i[h]/2;let T;switch(p){case"top":T={x:y,y:r.y-i.height};break;case"bottom":T={x:y,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:v};break;case"left":T={x:r.x-i.width,y:v};break;default:T={x:r.x,y:r.y}}switch(wl(e)){case"start":T[u]-=x*(t&&m?-1:1);break;case"end":T[u]+=x*(t&&m?-1:1);break}return T}const BA=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:u}=t,h=a.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:n,floating:e,strategy:i}),{x:y,y:v}=ox(m,r,p),x=r,T={},C=0;for(let A=0;A<h.length;A++){const{name:k,fn:M}=h[A],{x:W,y:$,data:B,reset:K}=await M({x:y,y:v,initialPlacement:r,placement:x,strategy:i,middlewareData:T,rects:m,platform:u,elements:{reference:n,floating:e}});y=W??y,v=$??v,T={...T,[k]:{...T[k],...B}},K&&C<=50&&(C++,typeof K=="object"&&(K.placement&&(x=K.placement),K.rects&&(m=K.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:i}):K.rects),{x:y,y:v}=ox(m,x,p)),A=-1)}return{x:y,y:v,placement:x,strategy:i,middlewareData:T}};async function zc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:u,elements:h,strategy:p}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:x=!1,padding:T=0}=Ds(e,n),C=UE(T),k=h[x?v==="floating"?"reference":"floating":v],M=Eh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(k)))==null||t?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:p})),W=v==="floating"?{x:r,y:i,width:u.floating.width,height:u.floating.height}:u.reference,$=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),B=await(a.isElement==null?void 0:a.isElement($))?await(a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},K=Eh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:W,offsetParent:$,strategy:p}):W);return{top:(M.top-K.top+C.top)/B.y,bottom:(K.bottom-M.bottom+C.bottom)/B.y,left:(M.left-K.left+C.left)/B.x,right:(K.right-M.right+C.right)/B.x}}const GA=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:u,elements:h,middlewareData:p}=e,{element:m,padding:y=0}=Ds(n,e)||{};if(m==null)return{};const v=UE(y),x={x:t,y:r},T=Qg(i),C=Kg(T),A=await u.getDimensions(m),k=T==="y",M=k?"top":"left",W=k?"bottom":"right",$=k?"clientHeight":"clientWidth",B=a.reference[C]+a.reference[T]-x[T]-a.floating[C],K=x[T]-a.reference[T],ee=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let D=ee?ee[$]:0;(!D||!await(u.isElement==null?void 0:u.isElement(ee)))&&(D=h.floating[$]||a.floating[C]);const b=B/2-K/2,j=D/2-A[C]/2-1,L=Di(v[M],j),V=Di(v[W],j),R=L,N=D-A[C]-V,Y=D/2-A[C]/2+b,he=sg(R,Y,N),de=!p.arrow&&wl(i)!=null&&Y!==he&&a.reference[C]/2-(Y<R?L:V)-A[C]/2<0,ge=de?Y<R?Y-R:Y-N:0;return{[T]:x[T]+ge,data:{[T]:he,centerOffset:Y-he-ge,...de&&{alignmentOffset:ge}},reset:de}}}),WA=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:u,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:x,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:A=!0,...k}=Ds(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const M=Ms(i),W=Hr(h),$=Ms(h)===h,B=await(p.isRTL==null?void 0:p.isRTL(m.floating)),K=x||($||!A?[xh(h)]:LA(h)),ee=C!=="none";!x&&ee&&K.push(...zA(h,A,C,B));const D=[h,...K],b=await zc(e,k),j=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&j.push(b[M]),v){const Y=OA(i,u,B);j.push(b[Y[0]],b[Y[1]])}if(L=[...L,{placement:i,overflows:j}],!j.every(Y=>Y<=0)){var V,R;const Y=(((V=a.flip)==null?void 0:V.index)||0)+1,he=D[Y];if(he&&(!(v==="alignment"?W!==Hr(he):!1)||L.every(G=>Hr(G.placement)===W?G.overflows[0]>0:!0)))return{data:{index:Y,overflows:L},reset:{placement:he}};let de=(R=L.filter(ge=>ge.overflows[0]<=0).sort((ge,G)=>ge.overflows[1]-G.overflows[1])[0])==null?void 0:R.placement;if(!de)switch(T){case"bestFit":{var N;const ge=(N=L.filter(G=>{if(ee){const X=Hr(G.placement);return X===W||X==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(X=>X>0).reduce((X,se)=>X+se,0)]).sort((G,X)=>G[1]-X[1])[0])==null?void 0:N[0];ge&&(de=ge);break}case"initialPlacement":de=h;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function ax(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function lx(n){return PA.some(e=>n[e]>=0)}const HA=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ds(n,e);switch(r){case"referenceHidden":{const a=await zc(e,{...i,elementContext:"reference"}),u=ax(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:lx(u)}}}case"escaped":{const a=await zc(e,{...i,altBoundary:!0}),u=ax(a,t.floating);return{data:{escapedOffsets:u,escaped:lx(u)}}}default:return{}}}}},zE=new Set(["left","top"]);async function qA(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),u=Ms(t),h=wl(t),p=Hr(t)==="y",m=zE.has(u)?-1:1,y=a&&p?-1:1,v=Ds(e,n);let{mainAxis:x,crossAxis:T,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof C=="number"&&(T=h==="end"?C*-1:C),p?{x:T*y,y:x*m}:{x:x*m,y:T*y}}const KA=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:u,middlewareData:h}=e,p=await qA(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:u}}}}},QA=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:h={fn:k=>{let{x:M,y:W}=k;return{x:M,y:W}}},...p}=Ds(n,e),m={x:t,y:r},y=await zc(e,p),v=Hr(Ms(i)),x=qg(v);let T=m[x],C=m[v];if(a){const k=x==="y"?"top":"left",M=x==="y"?"bottom":"right",W=T+y[k],$=T-y[M];T=sg(W,T,$)}if(u){const k=v==="y"?"top":"left",M=v==="y"?"bottom":"right",W=C+y[k],$=C-y[M];C=sg(W,C,$)}const A=h.fn({...e,[x]:T,[v]:C});return{...A,data:{x:A.x-t,y:A.y-r,enabled:{[x]:a,[v]:u}}}}}},YA=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:m=!0}=Ds(n,e),y={x:t,y:r},v=Hr(i),x=qg(v);let T=y[x],C=y[v];const A=Ds(h,e),k=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(p){const $=x==="y"?"height":"width",B=a.reference[x]-a.floating[$]+k.mainAxis,K=a.reference[x]+a.reference[$]-k.mainAxis;T<B?T=B:T>K&&(T=K)}if(m){var M,W;const $=x==="y"?"width":"height",B=zE.has(Ms(i)),K=a.reference[v]-a.floating[$]+(B&&((M=u.offset)==null?void 0:M[v])||0)+(B?0:k.crossAxis),ee=a.reference[v]+a.reference[$]+(B?0:((W=u.offset)==null?void 0:W[v])||0)-(B?k.crossAxis:0);C<K?C=K:C>ee&&(C=ee)}return{[x]:T,[v]:C}}}},XA=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:u,elements:h}=e,{apply:p=()=>{},...m}=Ds(n,e),y=await zc(e,m),v=Ms(i),x=wl(i),T=Hr(i)==="y",{width:C,height:A}=a.floating;let k,M;v==="top"||v==="bottom"?(k=v,M=x===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(M=v,k=x==="end"?"top":"bottom");const W=A-y.top-y.bottom,$=C-y.left-y.right,B=Di(A-y[k],W),K=Di(C-y[M],$),ee=!e.middlewareData.shift;let D=B,b=K;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(b=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=W),ee&&!x){const L=Mn(y.left,0),V=Mn(y.right,0),R=Mn(y.top,0),N=Mn(y.bottom,0);T?b=C-2*(L!==0||V!==0?L+V:Mn(y.left,y.right)):D=A-2*(R!==0||N!==0?R+N:Mn(y.top,y.bottom))}await p({...e,availableWidth:b,availableHeight:D});const j=await u.getDimensions(h.floating);return C!==j.width||A!==j.height?{reset:{rects:!0}}:{}}}};function lf(){return typeof window<"u"}function _l(n){return $E(n)?(n.nodeName||"").toLowerCase():"#document"}function Fn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function as(n){var e;return(e=($E(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $E(n){return lf()?n instanceof Node||n instanceof Fn(n).Node:!1}function mr(n){return lf()?n instanceof Element||n instanceof Fn(n).Element:!1}function rs(n){return lf()?n instanceof HTMLElement||n instanceof Fn(n).HTMLElement:!1}function cx(n){return!lf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Fn(n).ShadowRoot}const JA=new Set(["inline","contents"]);function ru(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=gr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!JA.has(i)}const ZA=new Set(["table","td","th"]);function ek(n){return ZA.has(_l(n))}const tk=[":popover-open",":modal"];function cf(n){return tk.some(e=>{try{return n.matches(e)}catch{return!1}})}const nk=["transform","translate","scale","rotate","perspective"],rk=["transform","translate","scale","rotate","perspective","filter"],sk=["paint","layout","strict","content"];function Yg(n){const e=Xg(),t=mr(n)?gr(n):n;return nk.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||rk.some(r=>(t.willChange||"").includes(r))||sk.some(r=>(t.contain||"").includes(r))}function ik(n){let e=Mi(n);for(;rs(e)&&!sl(e);){if(Yg(e))return e;if(cf(e))return null;e=Mi(e)}return null}function Xg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ok=new Set(["html","body","#document"]);function sl(n){return ok.has(_l(n))}function gr(n){return Fn(n).getComputedStyle(n)}function uf(n){return mr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Mi(n){if(_l(n)==="html")return n;const e=n.assignedSlot||n.parentNode||cx(n)&&n.host||as(n);return cx(e)?e.host:e}function BE(n){const e=Mi(n);return sl(e)?n.ownerDocument?n.ownerDocument.body:n.body:rs(e)&&ru(e)?e:BE(e)}function $c(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=BE(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),u=Fn(i);if(a){const h=og(u);return e.concat(u,u.visualViewport||[],ru(i)?i:[],h&&t?$c(h):[])}return e.concat(i,$c(i,[],t))}function og(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function GE(n){const e=gr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=rs(n),a=i?n.offsetWidth:t,u=i?n.offsetHeight:r,h=_h(t)!==a||_h(r)!==u;return h&&(t=a,r=u),{width:t,height:r,$:h}}function Jg(n){return mr(n)?n:n.contextElement}function Wa(n){const e=Jg(n);if(!rs(e))return Kr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=GE(e);let u=(a?_h(t.width):t.width)/r,h=(a?_h(t.height):t.height)/i;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const ak=Kr(0);function WE(n){const e=Fn(n);return!Xg()||!e.visualViewport?ak:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lk(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Fn(n)?!1:e}function Ro(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Jg(n);let u=Kr(1);e&&(r?mr(r)&&(u=Wa(r)):u=Wa(n));const h=lk(a,t,r)?WE(a):Kr(0);let p=(i.left+h.x)/u.x,m=(i.top+h.y)/u.y,y=i.width/u.x,v=i.height/u.y;if(a){const x=Fn(a),T=r&&mr(r)?Fn(r):r;let C=x,A=og(C);for(;A&&r&&T!==C;){const k=Wa(A),M=A.getBoundingClientRect(),W=gr(A),$=M.left+(A.clientLeft+parseFloat(W.paddingLeft))*k.x,B=M.top+(A.clientTop+parseFloat(W.paddingTop))*k.y;p*=k.x,m*=k.y,y*=k.x,v*=k.y,p+=$,m+=B,C=Fn(A),A=og(C)}}return Eh({width:y,height:v,x:p,y:m})}function df(n,e){const t=uf(n).scrollLeft;return e?e.left+t:Ro(as(n)).left+t}function HE(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-df(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function ck(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",u=as(r),h=e?cf(e.floating):!1;if(r===u||h&&a)return t;let p={scrollLeft:0,scrollTop:0},m=Kr(1);const y=Kr(0),v=rs(r);if((v||!v&&!a)&&((_l(r)!=="body"||ru(u))&&(p=uf(r)),rs(r))){const T=Ro(r);m=Wa(r),y.x=T.x+r.clientLeft,y.y=T.y+r.clientTop}const x=u&&!v&&!a?HE(u,p):Kr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+y.x+x.x,y:t.y*m.y-p.scrollTop*m.y+y.y+x.y}}function uk(n){return Array.from(n.getClientRects())}function dk(n){const e=as(n),t=uf(n),r=n.ownerDocument.body,i=Mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+df(n);const h=-t.scrollTop;return gr(r).direction==="rtl"&&(u+=Mn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:u,y:h}}const ux=25;function hk(n,e){const t=Fn(n),r=as(n),i=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,h=0,p=0;if(i){a=i.width,u=i.height;const y=Xg();(!y||y&&e==="fixed")&&(h=i.offsetLeft,p=i.offsetTop)}const m=df(r);if(m<=0){const y=r.ownerDocument,v=y.body,x=getComputedStyle(v),T=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,C=Math.abs(r.clientWidth-v.clientWidth-T);C<=ux&&(a-=C)}else m<=ux&&(a+=m);return{width:a,height:u,x:h,y:p}}const fk=new Set(["absolute","fixed"]);function pk(n,e){const t=Ro(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=rs(n)?Wa(n):Kr(1),u=n.clientWidth*a.x,h=n.clientHeight*a.y,p=i*a.x,m=r*a.y;return{width:u,height:h,x:p,y:m}}function dx(n,e,t){let r;if(e==="viewport")r=hk(n,t);else if(e==="document")r=dk(as(n));else if(mr(e))r=pk(e,t);else{const i=WE(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Eh(r)}function qE(n,e){const t=Mi(n);return t===e||!mr(t)||sl(t)?!1:gr(t).position==="fixed"||qE(t,e)}function mk(n,e){const t=e.get(n);if(t)return t;let r=$c(n,[],!1).filter(h=>mr(h)&&_l(h)!=="body"),i=null;const a=gr(n).position==="fixed";let u=a?Mi(n):n;for(;mr(u)&&!sl(u);){const h=gr(u),p=Yg(u);!p&&h.position==="fixed"&&(i=null),(a?!p&&!i:!p&&h.position==="static"&&!!i&&fk.has(i.position)||ru(u)&&!p&&qE(n,u))?r=r.filter(y=>y!==u):i=h,u=Mi(u)}return e.set(n,r),r}function gk(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const u=[...t==="clippingAncestors"?cf(e)?[]:mk(e,this._c):[].concat(t),r],h=u[0],p=u.reduce((m,y)=>{const v=dx(e,y,i);return m.top=Mn(v.top,m.top),m.right=Di(v.right,m.right),m.bottom=Di(v.bottom,m.bottom),m.left=Mn(v.left,m.left),m},dx(e,h,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function yk(n){const{width:e,height:t}=GE(n);return{width:e,height:t}}function vk(n,e,t){const r=rs(e),i=as(e),a=t==="fixed",u=Ro(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const p=Kr(0);function m(){p.x=df(i)}if(r||!r&&!a)if((_l(e)!=="body"||ru(i))&&(h=uf(e)),r){const T=Ro(e,!0,a,e);p.x=T.x+e.clientLeft,p.y=T.y+e.clientTop}else i&&m();a&&!r&&i&&m();const y=i&&!r&&!a?HE(i,h):Kr(0),v=u.left+h.scrollLeft-p.x-y.x,x=u.top+h.scrollTop-p.y-y.y;return{x:v,y:x,width:u.width,height:u.height}}function Cm(n){return gr(n).position==="static"}function hx(n,e){if(!rs(n)||gr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return as(n)===t&&(t=t.ownerDocument.body),t}function KE(n,e){const t=Fn(n);if(cf(n))return t;if(!rs(n)){let i=Mi(n);for(;i&&!sl(i);){if(mr(i)&&!Cm(i))return i;i=Mi(i)}return t}let r=hx(n,e);for(;r&&ek(r)&&Cm(r);)r=hx(r,e);return r&&sl(r)&&Cm(r)&&!Yg(r)?t:r||ik(n)||t}const wk=async function(n){const e=this.getOffsetParent||KE,t=this.getDimensions,r=await t(n.floating);return{reference:vk(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _k(n){return gr(n).direction==="rtl"}const xk={convertOffsetParentRelativeRectToViewportRelativeRect:ck,getDocumentElement:as,getClippingRect:gk,getOffsetParent:KE,getElementRects:wk,getClientRects:uk,getDimensions:yk,getScale:Wa,isElement:mr,isRTL:_k};function QE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function Ek(n,e){let t=null,r;const i=as(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),a();const m=n.getBoundingClientRect(),{left:y,top:v,width:x,height:T}=m;if(h||e(),!x||!T)return;const C=zd(v),A=zd(i.clientWidth-(y+x)),k=zd(i.clientHeight-(v+T)),M=zd(y),$={rootMargin:-C+"px "+-A+"px "+-k+"px "+-M+"px",threshold:Mn(0,Di(1,p))||1};let B=!0;function K(ee){const D=ee[0].intersectionRatio;if(D!==p){if(!B)return u();D?u(!1,D):r=setTimeout(()=>{u(!1,1e-7)},1e3)}D===1&&!QE(m,n.getBoundingClientRect())&&u(),B=!1}try{t=new IntersectionObserver(K,{...$,root:i.ownerDocument})}catch{t=new IntersectionObserver(K,$)}t.observe(n)}return u(!0),a}function Tk(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=Jg(n),y=i||a?[...m?$c(m):[],...$c(e)]:[];y.forEach(M=>{i&&M.addEventListener("scroll",t,{passive:!0}),a&&M.addEventListener("resize",t)});const v=m&&h?Ek(m,t):null;let x=-1,T=null;u&&(T=new ResizeObserver(M=>{let[W]=M;W&&W.target===m&&T&&(T.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var $;($=T)==null||$.observe(e)})),t()}),m&&!p&&T.observe(m),T.observe(e));let C,A=p?Ro(n):null;p&&k();function k(){const M=Ro(n);A&&!QE(A,M)&&t(),A=M,C=requestAnimationFrame(k)}return t(),()=>{var M;y.forEach(W=>{i&&W.removeEventListener("scroll",t),a&&W.removeEventListener("resize",t)}),v?.(),(M=T)==null||M.disconnect(),T=null,p&&cancelAnimationFrame(C)}}const bk=KA,Sk=QA,Ik=WA,Ck=XA,Nk=HA,fx=GA,Ak=YA,kk=(n,e,t)=>{const r=new Map,i={platform:xk,...t},a={...i.platform,_c:r};return BA(n,e,{...i,platform:a})};var Rk=typeof document<"u",Pk=function(){},oh=Rk?S.useLayoutEffect:Pk;function Th(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Th(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Th(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function YE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function px(n,e){const t=YE(n);return Math.round(e*t)/t}function Nm(n){const e=S.useRef(n);return oh(()=>{e.current=n}),e}function jk(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:u}={},transform:h=!0,whileElementsMounted:p,open:m}=n,[y,v]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,T]=S.useState(r);Th(x,r)||T(r);const[C,A]=S.useState(null),[k,M]=S.useState(null),W=S.useCallback(G=>{G!==ee.current&&(ee.current=G,A(G))},[]),$=S.useCallback(G=>{G!==D.current&&(D.current=G,M(G))},[]),B=a||C,K=u||k,ee=S.useRef(null),D=S.useRef(null),b=S.useRef(y),j=p!=null,L=Nm(p),V=Nm(i),R=Nm(m),N=S.useCallback(()=>{if(!ee.current||!D.current)return;const G={placement:e,strategy:t,middleware:x};V.current&&(G.platform=V.current),kk(ee.current,D.current,G).then(X=>{const se={...X,isPositioned:R.current!==!1};Y.current&&!Th(b.current,se)&&(b.current=se,Bg.flushSync(()=>{v(se)}))})},[x,e,t,V,R]);oh(()=>{m===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,v(G=>({...G,isPositioned:!1})))},[m]);const Y=S.useRef(!1);oh(()=>(Y.current=!0,()=>{Y.current=!1}),[]),oh(()=>{if(B&&(ee.current=B),K&&(D.current=K),B&&K){if(L.current)return L.current(B,K,N);N()}},[B,K,N,L,j]);const he=S.useMemo(()=>({reference:ee,floating:D,setReference:W,setFloating:$}),[W,$]),de=S.useMemo(()=>({reference:B,floating:K}),[B,K]),ge=S.useMemo(()=>{const G={position:t,left:0,top:0};if(!de.floating)return G;const X=px(de.floating,y.x),se=px(de.floating,y.y);return h?{...G,transform:"translate("+X+"px, "+se+"px)",...YE(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:se}},[t,h,de.floating,y.x,y.y]);return S.useMemo(()=>({...y,update:N,refs:he,elements:de,floatingStyles:ge}),[y,N,he,de,ge])}const Dk=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?fx({element:r.current,padding:i}).fn(t):{}:r?fx({element:r,padding:i}).fn(t):{}}}},Mk=(n,e)=>({...bk(n),options:[n,e]}),Ok=(n,e)=>({...Sk(n),options:[n,e]}),Lk=(n,e)=>({...Ak(n),options:[n,e]}),Vk=(n,e)=>({...Ik(n),options:[n,e]}),Fk=(n,e)=>({...Ck(n),options:[n,e]}),Uk=(n,e)=>({...Nk(n),options:[n,e]}),zk=(n,e)=>({...Dk(n),options:[n,e]});var $k="Arrow",XE=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return c.jsx(et.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});XE.displayName=$k;var Bk=XE;function JE(n){const[e,t]=S.useState(void 0);return pr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let u,h;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,h=m.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Zg="Popper",[ZE,e1]=os(Zg),[Gk,t1]=ZE(Zg),n1=n=>{const{__scopePopper:e,children:t}=n,[r,i]=S.useState(null);return c.jsx(Gk,{scope:e,anchor:r,onAnchorChange:i,children:t})};n1.displayName=Zg;var r1="PopperAnchor",s1=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=t1(r1,t),u=S.useRef(null),h=Nt(e,u),p=S.useRef(null);return S.useEffect(()=>{const m=p.current;p.current=r?.current||u.current,m!==p.current&&a.onAnchorChange(p.current)}),r?null:c.jsx(et.div,{...i,ref:h})});s1.displayName=r1;var ey="PopperContent",[Wk,Hk]=ZE(ey),i1=S.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:x=!1,updatePositionStrategy:T="optimized",onPlaced:C,...A}=n,k=t1(ey,t),[M,W]=S.useState(null),$=Nt(e,me=>W(me)),[B,K]=S.useState(null),ee=JE(B),D=ee?.width??0,b=ee?.height??0,j=r+(a!=="center"?"-"+a:""),L=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},V=Array.isArray(m)?m:[m],R=V.length>0,N={padding:L,boundary:V.filter(Kk),altBoundary:R},{refs:Y,floatingStyles:he,placement:de,isPositioned:ge,middlewareData:G}=jk({strategy:"fixed",placement:j,whileElementsMounted:(...me)=>Tk(...me,{animationFrame:T==="always"}),elements:{reference:k.anchor},middleware:[Mk({mainAxis:i+b,alignmentAxis:u}),p&&Ok({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Lk():void 0,...N}),p&&Vk({...N}),Fk({...N,apply:({elements:me,rects:Fe,availableWidth:Qe,availableHeight:gt})=>{const{width:Un,height:zn}=Fe.reference,Sn=me.floating.style;Sn.setProperty("--radix-popper-available-width",`${Qe}px`),Sn.setProperty("--radix-popper-available-height",`${gt}px`),Sn.setProperty("--radix-popper-anchor-width",`${Un}px`),Sn.setProperty("--radix-popper-anchor-height",`${zn}px`)}}),B&&zk({element:B,padding:h}),Qk({arrowWidth:D,arrowHeight:b}),x&&Uk({strategy:"referenceHidden",...N})]}),[X,se]=l1(de),U=ns(C);pr(()=>{ge&&U?.()},[ge,U]);const te=G.arrow?.x,ye=G.arrow?.y,_e=G.arrow?.centerOffset!==0,[Pe,je]=S.useState();return pr(()=>{M&&je(window.getComputedStyle(M).zIndex)},[M]),c.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:ge?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:c.jsx(Wk,{scope:t,placedSide:X,onArrowChange:K,arrowX:te,arrowY:ye,shouldHideArrow:_e,children:c.jsx(et.div,{"data-side":X,"data-align":se,...A,ref:$,style:{...A.style,animation:ge?void 0:"none"}})})})});i1.displayName=ey;var o1="PopperArrow",qk={top:"bottom",right:"left",bottom:"top",left:"right"},a1=S.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=Hk(o1,r),u=qk[a.placedSide];return c.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:c.jsx(Bk,{...i,ref:t,style:{...i.style,display:"block"}})})});a1.displayName=o1;function Kk(n){return n!==null}var Qk=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:i}=e,u=i.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[m,y]=l1(t),v={start:"0%",center:"50%",end:"100%"}[y],x=(i.arrow?.x??0)+h/2,T=(i.arrow?.y??0)+p/2;let C="",A="";return m==="bottom"?(C=u?v:`${x}px`,A=`${-p}px`):m==="top"?(C=u?v:`${x}px`,A=`${r.floating.height+p}px`):m==="right"?(C=`${-p}px`,A=u?v:`${T}px`):m==="left"&&(C=`${r.floating.width+p}px`,A=u?v:`${T}px`),{data:{x:C,y:A}}}});function l1(n){const[e,t="center"]=n.split("-");return[e,t]}var Yk=n1,Xk=s1,Jk=i1,Zk=a1,e2="Portal",ty=S.forwardRef((n,e)=>{const{container:t,...r}=n,[i,a]=S.useState(!1);pr(()=>a(!0),[]);const u=t||i&&globalThis?.document?.body;return u?hA.createPortal(c.jsx(et.div,{...r,ref:e}),u):null});ty.displayName=e2;function t2(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var zs=n=>{const{present:e,children:t}=n,r=n2(e),i=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=Nt(r.ref,r2(i));return typeof t=="function"||r.isPresent?S.cloneElement(i,{ref:a}):null};zs.displayName="Presence";function n2(n){const[e,t]=S.useState(),r=S.useRef(null),i=S.useRef(n),a=S.useRef("none"),u=n?"mounted":"unmounted",[h,p]=t2(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const m=$d(r.current);a.current=h==="mounted"?m:"none"},[h]),pr(()=>{const m=r.current,y=i.current;if(y!==n){const x=a.current,T=$d(m);n?p("MOUNT"):T==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&x!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,p]),pr(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,v=T=>{const A=$d(r.current).includes(CSS.escape(T.animationName));if(T.target===e&&A&&(p("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=T=>{T.target===e&&(a.current=$d(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:S.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function $d(n){return n?.animationName||"none"}function r2(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Am="rovingFocusGroup.onEntryFocus",s2={bubbles:!1,cancelable:!0},su="RovingFocusGroup",[ag,c1,i2]=ME(su),[o2,hf]=os(su,[i2]),[a2,l2]=o2(su),u1=S.forwardRef((n,e)=>c.jsx(ag.Provider,{scope:n.__scopeRovingFocusGroup,children:c.jsx(ag.Slot,{scope:n.__scopeRovingFocusGroup,children:c.jsx(c2,{...n,ref:e})})}));u1.displayName=su;var c2=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...v}=n,x=S.useRef(null),T=Nt(e,x),C=Gg(a),[A,k]=nu({prop:u,defaultProp:h??null,onChange:p,caller:su}),[M,W]=S.useState(!1),$=ns(m),B=c1(t),K=S.useRef(!1),[ee,D]=S.useState(0);return S.useEffect(()=>{const b=x.current;if(b)return b.addEventListener(Am,$),()=>b.removeEventListener(Am,$)},[$]),c.jsx(a2,{scope:t,orientation:r,dir:C,loop:i,currentTabStopId:A,onItemFocus:S.useCallback(b=>k(b),[k]),onItemShiftTab:S.useCallback(()=>W(!0),[]),onFocusableItemAdd:S.useCallback(()=>D(b=>b+1),[]),onFocusableItemRemove:S.useCallback(()=>D(b=>b-1),[]),children:c.jsx(et.div,{tabIndex:M||ee===0?-1:0,"data-orientation":r,...v,ref:T,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{K.current=!0}),onFocus:Le(n.onFocus,b=>{const j=!K.current;if(b.target===b.currentTarget&&j&&!M){const L=new CustomEvent(Am,s2);if(b.currentTarget.dispatchEvent(L),!L.defaultPrevented){const V=B().filter(de=>de.focusable),R=V.find(de=>de.active),N=V.find(de=>de.id===A),he=[R,N,...V].filter(Boolean).map(de=>de.ref.current);f1(he,y)}}K.current=!1}),onBlur:Le(n.onBlur,()=>W(!1))})})}),d1="RovingFocusGroupItem",h1=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:u,...h}=n,p=No(),m=a||p,y=l2(d1,t),v=y.currentTabStopId===m,x=c1(t),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:A}=y;return S.useEffect(()=>{if(r)return T(),()=>C()},[r,T,C]),c.jsx(ag.ItemSlot,{scope:t,id:m,focusable:r,active:i,children:c.jsx(et.span,{tabIndex:v?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:Le(n.onMouseDown,k=>{r?y.onItemFocus(m):k.preventDefault()}),onFocus:Le(n.onFocus,()=>y.onItemFocus(m)),onKeyDown:Le(n.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){y.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const M=h2(k,y.orientation,y.dir);if(M!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let $=x().filter(B=>B.focusable).map(B=>B.ref.current);if(M==="last")$.reverse();else if(M==="prev"||M==="next"){M==="prev"&&$.reverse();const B=$.indexOf(k.currentTarget);$=y.loop?f2($,B+1):$.slice(B+1)}setTimeout(()=>f1($))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:A!=null}):u})})});h1.displayName=d1;var u2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function d2(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function h2(n,e,t){const r=d2(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return u2[r]}function f1(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function f2(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var p1=u1,m1=h1,p2=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},La=new WeakMap,Bd=new WeakMap,Gd={},km=0,g1=function(n){return n&&(n.host||g1(n.parentNode))},m2=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=g1(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},g2=function(n,e,t,r){var i=m2(e,Array.isArray(n)?n:[n]);Gd[t]||(Gd[t]=new WeakMap);var a=Gd[t],u=[],h=new Set,p=new Set(i),m=function(v){!v||h.has(v)||(h.add(v),m(v.parentNode))};i.forEach(m);var y=function(v){!v||p.has(v)||Array.prototype.forEach.call(v.children,function(x){if(h.has(x))y(x);else try{var T=x.getAttribute(r),C=T!==null&&T!=="false",A=(La.get(x)||0)+1,k=(a.get(x)||0)+1;La.set(x,A),a.set(x,k),u.push(x),A===1&&C&&Bd.set(x,!0),k===1&&x.setAttribute(t,"true"),C||x.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",x,M)}})};return y(e),h.clear(),km++,function(){u.forEach(function(v){var x=La.get(v)-1,T=a.get(v)-1;La.set(v,x),a.set(v,T),x||(Bd.has(v)||v.removeAttribute(r),Bd.delete(v)),T||v.removeAttribute(t)}),km--,km||(La=new WeakMap,La=new WeakMap,Bd=new WeakMap,Gd={})}},y1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=p2(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),g2(r,i,t,"aria-hidden")):function(){return null}},Wr=function(){return Wr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Wr.apply(this,arguments)};function v1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function y2(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var ah="right-scroll-bar-position",lh="width-before-scroll-bar",v2="with-scroll-bars-hidden",w2="--removed-body-scroll-bar-size";function Rm(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function _2(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var x2=typeof window<"u"?S.useLayoutEffect:S.useEffect,mx=new WeakMap;function E2(n,e){var t=_2(null,function(r){return n.forEach(function(i){return Rm(i,r)})});return x2(function(){var r=mx.get(t);if(r){var i=new Set(r),a=new Set(n),u=t.current;i.forEach(function(h){a.has(h)||Rm(h,null)}),a.forEach(function(h){i.has(h)||Rm(h,u)})}mx.set(t,n)},[n]),t}function T2(n){return n}function b2(n,e){e===void 0&&(e=T2);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(a),u=t}var p=function(){var y=u;u=[],y.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),t}}}};return i}function S2(n){n===void 0&&(n={});var e=b2(null);return e.options=Wr({async:!0,ssr:!1},n),e}var w1=function(n){var e=n.sideCar,t=v1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Wr({},t))};w1.isSideCarExport=!0;function I2(n,e){return n.useMedium(e),w1}var _1=S2(),Pm=function(){},ff=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),i=r[0],a=r[1],u=n.forwardProps,h=n.children,p=n.className,m=n.removeScrollBar,y=n.enabled,v=n.shards,x=n.sideCar,T=n.noRelative,C=n.noIsolation,A=n.inert,k=n.allowPinchZoom,M=n.as,W=M===void 0?"div":M,$=n.gapMode,B=v1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=x,ee=E2([t,e]),D=Wr(Wr({},B),i);return S.createElement(S.Fragment,null,y&&S.createElement(K,{sideCar:_1,removeScrollBar:m,shards:v,noRelative:T,noIsolation:C,inert:A,setCallbacks:a,allowPinchZoom:!!k,lockRef:t,gapMode:$}),u?S.cloneElement(S.Children.only(h),Wr(Wr({},D),{ref:ee})):S.createElement(W,Wr({},D,{className:p,ref:ee}),h))});ff.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ff.classNames={fullWidth:lh,zeroRight:ah};var C2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function N2(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=C2();return e&&n.setAttribute("nonce",e),n}function A2(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function k2(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var R2=function(){var n=0,e=null;return{add:function(t){n==0&&(e=N2())&&(A2(e,t),k2(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},P2=function(){var n=R2();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},x1=function(){var n=P2(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},j2={left:0,top:0,right:0,gap:0},jm=function(n){return parseInt(n||"",10)||0},D2=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[jm(t),jm(r),jm(i)]},M2=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return j2;var e=D2(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},O2=x1(),Ha="data-scroll-locked",L2=function(n,e,t,r){var i=n.left,a=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(v2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ah,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(lh,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(w2,": ").concat(h,`px;
  }
`)},gx=function(){var n=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(n)?n:0},V2=function(){S.useEffect(function(){return document.body.setAttribute(Ha,(gx()+1).toString()),function(){var n=gx()-1;n<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,n.toString())}},[])},F2=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;V2();var a=S.useMemo(function(){return M2(i)},[i]);return S.createElement(O2,{styles:L2(a,!e,i,t?"":"!important")})},lg=!1;if(typeof window<"u")try{var Wd=Object.defineProperty({},"passive",{get:function(){return lg=!0,!0}});window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{lg=!1}var Va=lg?{passive:!1}:!1,U2=function(n){return n.tagName==="TEXTAREA"},E1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!U2(n)&&t[e]==="visible")},z2=function(n){return E1(n,"overflowY")},$2=function(n){return E1(n,"overflowX")},yx=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=T1(n,r);if(i){var a=b1(n,r),u=a[1],h=a[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},B2=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},G2=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},T1=function(n,e){return n==="v"?z2(e):$2(e)},b1=function(n,e){return n==="v"?B2(e):G2(e)},W2=function(n,e){return n==="h"&&e==="rtl"?-1:1},H2=function(n,e,t,r,i){var a=W2(n,window.getComputedStyle(e).direction),u=a*r,h=t.target,p=e.contains(h),m=!1,y=u>0,v=0,x=0;do{if(!h)break;var T=b1(n,h),C=T[0],A=T[1],k=T[2],M=A-k-a*C;(C||M)&&T1(n,h)&&(v+=M,x+=C);var W=h.parentNode;h=W&&W.nodeType===Node.DOCUMENT_FRAGMENT_NODE?W.host:W}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(y&&Math.abs(v)<1||!y&&Math.abs(x)<1)&&(m=!0),m},Hd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},vx=function(n){return[n.deltaX,n.deltaY]},wx=function(n){return n&&"current"in n?n.current:n},q2=function(n,e){return n[0]===e[0]&&n[1]===e[1]},K2=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},Q2=0,Fa=[];function Y2(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),i=S.useState(Q2++)[0],a=S.useState(x1)[0],u=S.useRef(n);S.useEffect(function(){u.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var A=y2([n.lockRef.current],(n.shards||[]).map(wx),!0).filter(Boolean);return A.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),A.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var h=S.useCallback(function(A,k){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!u.current.allowPinchZoom;var M=Hd(A),W=t.current,$="deltaX"in A?A.deltaX:W[0]-M[0],B="deltaY"in A?A.deltaY:W[1]-M[1],K,ee=A.target,D=Math.abs($)>Math.abs(B)?"h":"v";if("touches"in A&&D==="h"&&ee.type==="range")return!1;var b=yx(D,ee);if(!b)return!0;if(b?K=D:(K=D==="v"?"h":"v",b=yx(D,ee)),!b)return!1;if(!r.current&&"changedTouches"in A&&($||B)&&(r.current=K),!K)return!0;var j=r.current||K;return H2(j,k,A,j==="h"?$:B)},[]),p=S.useCallback(function(A){var k=A;if(!(!Fa.length||Fa[Fa.length-1]!==a)){var M="deltaY"in k?vx(k):Hd(k),W=e.current.filter(function(K){return K.name===k.type&&(K.target===k.target||k.target===K.shadowParent)&&q2(K.delta,M)})[0];if(W&&W.should){k.cancelable&&k.preventDefault();return}if(!W){var $=(u.current.shards||[]).map(wx).filter(Boolean).filter(function(K){return K.contains(k.target)}),B=$.length>0?h(k,$[0]):!u.current.noIsolation;B&&k.cancelable&&k.preventDefault()}}},[]),m=S.useCallback(function(A,k,M,W){var $={name:A,delta:k,target:M,should:W,shadowParent:X2(M)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(B){return B!==$})},1)},[]),y=S.useCallback(function(A){t.current=Hd(A),r.current=void 0},[]),v=S.useCallback(function(A){m(A.type,vx(A),A.target,h(A,n.lockRef.current))},[]),x=S.useCallback(function(A){m(A.type,Hd(A),A.target,h(A,n.lockRef.current))},[]);S.useEffect(function(){return Fa.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:x}),document.addEventListener("wheel",p,Va),document.addEventListener("touchmove",p,Va),document.addEventListener("touchstart",y,Va),function(){Fa=Fa.filter(function(A){return A!==a}),document.removeEventListener("wheel",p,Va),document.removeEventListener("touchmove",p,Va),document.removeEventListener("touchstart",y,Va)}},[]);var T=n.removeScrollBar,C=n.inert;return S.createElement(S.Fragment,null,C?S.createElement(a,{styles:K2(i)}):null,T?S.createElement(F2,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function X2(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const J2=I2(_1,Y2);var ny=S.forwardRef(function(n,e){return S.createElement(ff,Wr({},n,{ref:e,sideCar:J2}))});ny.classNames=ff.classNames;var cg=["Enter"," "],Z2=["ArrowDown","PageUp","Home"],S1=["ArrowUp","PageDown","End"],eR=[...Z2,...S1],tR={ltr:[...cg,"ArrowRight"],rtl:[...cg,"ArrowLeft"]},nR={ltr:["ArrowLeft"],rtl:["ArrowRight"]},iu="Menu",[Bc,rR,sR]=ME(iu),[Uo,I1]=os(iu,[sR,e1,hf]),pf=e1(),C1=hf(),[iR,zo]=Uo(iu),[oR,ou]=Uo(iu),N1=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:a,modal:u=!0}=n,h=pf(e),[p,m]=S.useState(null),y=S.useRef(!1),v=ns(a),x=Gg(i);return S.useEffect(()=>{const T=()=>{y.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>y.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),c.jsx(Yk,{...h,children:c.jsx(iR,{scope:e,open:t,onOpenChange:v,content:p,onContentChange:m,children:c.jsx(oR,{scope:e,onClose:S.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:y,dir:x,modal:u,children:r})})})};N1.displayName=iu;var aR="MenuAnchor",ry=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=pf(t);return c.jsx(Xk,{...i,...r,ref:e})});ry.displayName=aR;var sy="MenuPortal",[lR,A1]=Uo(sy,{forceMount:void 0}),k1=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,a=zo(sy,e);return c.jsx(lR,{scope:e,forceMount:t,children:c.jsx(zs,{present:t||a.open,children:c.jsx(ty,{asChild:!0,container:i,children:r})})})};k1.displayName=sy;var Zn="MenuContent",[cR,iy]=Uo(Zn),R1=S.forwardRef((n,e)=>{const t=A1(Zn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=zo(Zn,n.__scopeMenu),u=ou(Zn,n.__scopeMenu);return c.jsx(Bc.Provider,{scope:n.__scopeMenu,children:c.jsx(zs,{present:r||a.open,children:c.jsx(Bc.Slot,{scope:n.__scopeMenu,children:u.modal?c.jsx(uR,{...i,ref:e}):c.jsx(dR,{...i,ref:e})})})})}),uR=S.forwardRef((n,e)=>{const t=zo(Zn,n.__scopeMenu),r=S.useRef(null),i=Nt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return y1(a)},[]),c.jsx(oy,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),dR=S.forwardRef((n,e)=>{const t=zo(Zn,n.__scopeMenu);return c.jsx(oy,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),hR=rl("MenuContent.ScrollLock"),oy=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:x,onDismiss:T,disableOutsideScroll:C,...A}=n,k=zo(Zn,t),M=ou(Zn,t),W=pf(t),$=C1(t),B=rR(t),[K,ee]=S.useState(null),D=S.useRef(null),b=Nt(e,D,k.onContentChange),j=S.useRef(0),L=S.useRef(""),V=S.useRef(0),R=S.useRef(null),N=S.useRef("right"),Y=S.useRef(0),he=C?ny:S.Fragment,de=C?{as:hR,allowPinchZoom:!0}:void 0,ge=X=>{const se=L.current+X,U=B().filter(me=>!me.disabled),te=document.activeElement,ye=U.find(me=>me.ref.current===te)?.textValue,_e=U.map(me=>me.textValue),Pe=bR(_e,se,ye),je=U.find(me=>me.textValue===Pe)?.ref.current;(function me(Fe){L.current=Fe,window.clearTimeout(j.current),Fe!==""&&(j.current=window.setTimeout(()=>me(""),1e3))})(se),je&&setTimeout(()=>je.focus())};S.useEffect(()=>()=>window.clearTimeout(j.current),[]),VE();const G=S.useCallback(X=>N.current===R.current?.side&&IR(X,R.current?.area),[]);return c.jsx(cR,{scope:t,searchRef:L,onItemEnter:S.useCallback(X=>{G(X)&&X.preventDefault()},[G]),onItemLeave:S.useCallback(X=>{G(X)||(D.current?.focus(),ee(null))},[G]),onTriggerLeave:S.useCallback(X=>{G(X)&&X.preventDefault()},[G]),pointerGraceTimerRef:V,onPointerGraceIntentChange:S.useCallback(X=>{R.current=X},[]),children:c.jsx(he,{...de,children:c.jsx(Hg,{asChild:!0,trapped:i,onMountAutoFocus:Le(a,X=>{X.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:c.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:v,onInteractOutside:x,onDismiss:T,children:c.jsx(p1,{asChild:!0,...$,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:K,onCurrentTabStopIdChange:ee,onEntryFocus:Le(p,X=>{M.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(Jk,{role:"menu","aria-orientation":"vertical","data-state":q1(k.open),"data-radix-menu-content":"",dir:M.dir,...W,...A,ref:b,style:{outline:"none",...A.style},onKeyDown:Le(A.onKeyDown,X=>{const U=X.target.closest("[data-radix-menu-content]")===X.currentTarget,te=X.ctrlKey||X.altKey||X.metaKey,ye=X.key.length===1;U&&(X.key==="Tab"&&X.preventDefault(),!te&&ye&&ge(X.key));const _e=D.current;if(X.target!==_e||!eR.includes(X.key))return;X.preventDefault();const je=B().filter(me=>!me.disabled).map(me=>me.ref.current);S1.includes(X.key)&&je.reverse(),ER(je)}),onBlur:Le(n.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(j.current),L.current="")}),onPointerMove:Le(n.onPointerMove,Gc(X=>{const se=X.target,U=Y.current!==X.clientX;if(X.currentTarget.contains(se)&&U){const te=X.clientX>Y.current?"right":"left";N.current=te,Y.current=X.clientX}}))})})})})})})});R1.displayName=Zn;var fR="MenuGroup",ay=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return c.jsx(et.div,{role:"group",...r,ref:e})});ay.displayName=fR;var pR="MenuLabel",P1=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return c.jsx(et.div,{...r,ref:e})});P1.displayName=pR;var bh="MenuItem",_x="menu.itemSelect",mf=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,a=S.useRef(null),u=ou(bh,n.__scopeMenu),h=iy(bh,n.__scopeMenu),p=Nt(e,a),m=S.useRef(!1),y=()=>{const v=a.current;if(!t&&v){const x=new CustomEvent(_x,{bubbles:!0,cancelable:!0});v.addEventListener(_x,T=>r?.(T),{once:!0}),DE(v,x),x.defaultPrevented?m.current=!1:u.onClose()}};return c.jsx(j1,{...i,ref:p,disabled:t,onClick:Le(n.onClick,y),onPointerDown:v=>{n.onPointerDown?.(v),m.current=!0},onPointerUp:Le(n.onPointerUp,v=>{m.current||v.currentTarget?.click()}),onKeyDown:Le(n.onKeyDown,v=>{const x=h.searchRef.current!=="";t||x&&v.key===" "||cg.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});mf.displayName=bh;var j1=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...a}=n,u=iy(bh,t),h=C1(t),p=S.useRef(null),m=Nt(e,p),[y,v]=S.useState(!1),[x,T]=S.useState("");return S.useEffect(()=>{const C=p.current;C&&T((C.textContent??"").trim())},[a.children]),c.jsx(Bc.ItemSlot,{scope:t,disabled:r,textValue:i??x,children:c.jsx(m1,{asChild:!0,...h,focusable:!r,children:c.jsx(et.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:m,onPointerMove:Le(n.onPointerMove,Gc(C=>{r?u.onItemLeave(C):(u.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(n.onPointerLeave,Gc(C=>u.onItemLeave(C))),onFocus:Le(n.onFocus,()=>v(!0)),onBlur:Le(n.onBlur,()=>v(!1))})})})}),mR="MenuCheckboxItem",D1=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return c.jsx(F1,{scope:n.__scopeMenu,checked:t,children:c.jsx(mf,{role:"menuitemcheckbox","aria-checked":Sh(t)?"mixed":t,...i,ref:e,"data-state":cy(t),onSelect:Le(i.onSelect,()=>r?.(Sh(t)?!0:!t),{checkForDefaultPrevented:!1})})})});D1.displayName=mR;var M1="MenuRadioGroup",[gR,yR]=Uo(M1,{value:void 0,onValueChange:()=>{}}),O1=S.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,a=ns(r);return c.jsx(gR,{scope:n.__scopeMenu,value:t,onValueChange:a,children:c.jsx(ay,{...i,ref:e})})});O1.displayName=M1;var L1="MenuRadioItem",V1=S.forwardRef((n,e)=>{const{value:t,...r}=n,i=yR(L1,n.__scopeMenu),a=t===i.value;return c.jsx(F1,{scope:n.__scopeMenu,checked:a,children:c.jsx(mf,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":cy(a),onSelect:Le(r.onSelect,()=>i.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});V1.displayName=L1;var ly="MenuItemIndicator",[F1,vR]=Uo(ly,{checked:!1}),U1=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,a=vR(ly,t);return c.jsx(zs,{present:r||Sh(a.checked)||a.checked===!0,children:c.jsx(et.span,{...i,ref:e,"data-state":cy(a.checked)})})});U1.displayName=ly;var wR="MenuSeparator",z1=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return c.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});z1.displayName=wR;var _R="MenuArrow",$1=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=pf(t);return c.jsx(Zk,{...i,...r,ref:e})});$1.displayName=_R;var xR="MenuSub",[eU,B1]=Uo(xR),bc="MenuSubTrigger",G1=S.forwardRef((n,e)=>{const t=zo(bc,n.__scopeMenu),r=ou(bc,n.__scopeMenu),i=B1(bc,n.__scopeMenu),a=iy(bc,n.__scopeMenu),u=S.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:p}=a,m={__scopeMenu:n.__scopeMenu},y=S.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return S.useEffect(()=>y,[y]),S.useEffect(()=>{const v=h.current;return()=>{window.clearTimeout(v),p(null)}},[h,p]),c.jsx(ry,{asChild:!0,...m,children:c.jsx(j1,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":q1(t.open),...n,ref:af(e,i.onTriggerChange),onClick:v=>{n.onClick?.(v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Le(n.onPointerMove,Gc(v=>{a.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(a.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),y()},100))})),onPointerLeave:Le(n.onPointerLeave,Gc(v=>{y();const x=t.content?.getBoundingClientRect();if(x){const T=t.content?.dataset.side,C=T==="right",A=C?-5:5,k=x[C?"left":"right"],M=x[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:v.clientX+A,y:v.clientY},{x:k,y:x.top},{x:M,y:x.top},{x:M,y:x.bottom},{x:k,y:x.bottom}],side:T}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(v),v.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Le(n.onKeyDown,v=>{const x=a.searchRef.current!=="";n.disabled||x&&v.key===" "||tR[r.dir].includes(v.key)&&(t.onOpenChange(!0),t.content?.focus(),v.preventDefault())})})})});G1.displayName=bc;var W1="MenuSubContent",H1=S.forwardRef((n,e)=>{const t=A1(Zn,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,a=zo(Zn,n.__scopeMenu),u=ou(Zn,n.__scopeMenu),h=B1(W1,n.__scopeMenu),p=S.useRef(null),m=Nt(e,p);return c.jsx(Bc.Provider,{scope:n.__scopeMenu,children:c.jsx(zs,{present:r||a.open,children:c.jsx(Bc.Slot,{scope:n.__scopeMenu,children:c.jsx(oy,{id:h.contentId,"aria-labelledby":h.triggerId,...i,ref:m,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{u.isUsingKeyboardRef.current&&p.current?.focus(),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Le(n.onFocusOutside,y=>{y.target!==h.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Le(n.onEscapeKeyDown,y=>{u.onClose(),y.preventDefault()}),onKeyDown:Le(n.onKeyDown,y=>{const v=y.currentTarget.contains(y.target),x=nR[u.dir].includes(y.key);v&&x&&(a.onOpenChange(!1),h.trigger?.focus(),y.preventDefault())})})})})})});H1.displayName=W1;function q1(n){return n?"open":"closed"}function Sh(n){return n==="indeterminate"}function cy(n){return Sh(n)?"indeterminate":n?"checked":"unchecked"}function ER(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function TR(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function bR(n,e,t){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=TR(n,Math.max(a,0));i.length===1&&(u=u.filter(m=>m!==t));const p=u.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return p!==t?p:void 0}function SR(n,e){const{x:t,y:r}=n;let i=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const h=e[a],p=e[u],m=h.x,y=h.y,v=p.x,x=p.y;y>r!=x>r&&t<(v-m)*(r-y)/(x-y)+m&&(i=!i)}return i}function IR(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return SR(t,e)}function Gc(n){return e=>e.pointerType==="mouse"?n(e):void 0}var CR=N1,NR=ry,AR=k1,kR=R1,RR=ay,PR=P1,jR=mf,DR=D1,MR=O1,OR=V1,LR=U1,VR=z1,FR=$1,UR=G1,zR=H1,gf="DropdownMenu",[$R]=os(gf,[I1]),pn=I1(),[BR,K1]=$R(gf),Q1=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:a,onOpenChange:u,modal:h=!0}=n,p=pn(e),m=S.useRef(null),[y,v]=nu({prop:i,defaultProp:a??!1,onChange:u,caller:gf});return c.jsx(BR,{scope:e,triggerId:No(),triggerRef:m,contentId:No(),open:y,onOpenChange:v,onOpenToggle:S.useCallback(()=>v(x=>!x),[v]),modal:h,children:c.jsx(CR,{...p,open:y,onOpenChange:v,dir:r,modal:h,children:t})})};Q1.displayName=gf;var Y1="DropdownMenuTrigger",X1=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,a=K1(Y1,t),u=pn(t);return c.jsx(NR,{asChild:!0,...u,children:c.jsx(et.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:af(e,a.triggerRef),onPointerDown:Le(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(a.onOpenToggle(),a.open||h.preventDefault())}),onKeyDown:Le(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&a.onOpenToggle(),h.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});X1.displayName=Y1;var GR="DropdownMenuPortal",J1=n=>{const{__scopeDropdownMenu:e,...t}=n,r=pn(e);return c.jsx(AR,{...r,...t})};J1.displayName=GR;var Z1="DropdownMenuContent",eT=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=K1(Z1,t),a=pn(t),u=S.useRef(!1);return c.jsx(kR,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Le(n.onCloseAutoFocus,h=>{u.current||i.triggerRef.current?.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:Le(n.onInteractOutside,h=>{const p=h.detail.originalEvent,m=p.button===0&&p.ctrlKey===!0,y=p.button===2||m;(!i.modal||y)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eT.displayName=Z1;var WR="DropdownMenuGroup",HR=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(RR,{...i,...r,ref:e})});HR.displayName=WR;var qR="DropdownMenuLabel",KR=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(PR,{...i,...r,ref:e})});KR.displayName=qR;var QR="DropdownMenuItem",tT=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(jR,{...i,...r,ref:e})});tT.displayName=QR;var YR="DropdownMenuCheckboxItem",XR=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(DR,{...i,...r,ref:e})});XR.displayName=YR;var JR="DropdownMenuRadioGroup",ZR=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(MR,{...i,...r,ref:e})});ZR.displayName=JR;var eP="DropdownMenuRadioItem",tP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(OR,{...i,...r,ref:e})});tP.displayName=eP;var nP="DropdownMenuItemIndicator",rP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(LR,{...i,...r,ref:e})});rP.displayName=nP;var sP="DropdownMenuSeparator",nT=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(VR,{...i,...r,ref:e})});nT.displayName=sP;var iP="DropdownMenuArrow",oP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(FR,{...i,...r,ref:e})});oP.displayName=iP;var aP="DropdownMenuSubTrigger",lP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(UR,{...i,...r,ref:e})});lP.displayName=aP;var cP="DropdownMenuSubContent",uP=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=pn(t);return c.jsx(zR,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uP.displayName=cP;var dP=Q1,hP=X1,fP=J1,pP=eT,mP=tT,gP=nT;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),xx=n=>{const e=vP(n);return e.charAt(0).toUpperCase()+e.slice(1)},rT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...h},p)=>S.createElement("svg",{ref:p,...wP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:rT("lucide",i),...h},[...u.map(([m,y])=>S.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(n,e)=>{const t=S.forwardRef(({className:r,...i},a)=>S.createElement(_P,{ref:a,iconNode:e,className:rT(`lucide-${yP(xx(n))}`,`lucide-${n}`,r),...i}));return t.displayName=xx(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],EP=Ce("archive",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],au=Ce("arrow-left",TP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dm=Ce("arrow-right",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],uy=Ce("book-open",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],CP=Ce("calendar",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],AP=Ce("camera",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lu=Ce("check",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PP=Ce("chevron-left",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DP=Ce("chevron-right",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qd=Ce("clock",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],LP=Ce("code",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],FP=Ce("copy",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zP=Ce("database",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Wc=Ce("download",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],il=Ce("external-link",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mm=Ce("eye-off",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qa=Ce("eye",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ol=Ce("file-text",HP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Kd=Ce("file",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Io=Ce("folder",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],YP=Ce("funnel",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_i=Ce("globe",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ZP=Ce("house",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Oi=Ce("image",ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],er=Ce("loader-circle",tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],sT=Ce("log-in",nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],sj=Ce("log-out",rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],oj=Ce("monitor",ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],lj=Ce("moon",aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],uj=Ce("music",cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$o=Ce("pen-line",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ss=Ce("plus",hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ex=Ce("refresh-cw",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],mj=Ce("rotate-cw",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yj=Ce("save",gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xl=Ce("settings",vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_j=Ce("shield",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Qd=Ce("shopping-cart",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],Tx=Ce("shuffle",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],bj=Ce("sparkles",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],on=Ce("store",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Cj=Ce("sun",Ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Aj=Ce("tablet",Nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],cu=Ce("tag",kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Os=Ce("trash-2",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Hc=Ce("upload",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dj=Ce("user",jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Oj=Ce("video",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],bx=Ce("wand-sparkles",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],Fj=Ce("wrench",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bn=Ce("x",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$j=Ce("zoom-in",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Gj=Ce("zoom-out",Bj);function Wj({...n}){return c.jsx(dP,{"data-slot":"dropdown-menu",...n})}function Hj({...n}){return c.jsx(hP,{"data-slot":"dropdown-menu-trigger",...n})}function qj({className:n,sideOffset:e=4,...t}){return c.jsx(fP,{children:c.jsx(pP,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ge("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Sx({className:n,inset:e,variant:t="default",...r}){return c.jsx(mP,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ge("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function Ix({className:n,...e}){return c.jsx(gP,{"data-slot":"dropdown-menu-separator",className:Ge("bg-border -mx-1 my-1 h-px",n),...e})}var Om={exports:{}},Lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function Kj(){if(Cx)return Lm;Cx=1;var n=of();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,a=n.useLayoutEffect,u=n.useDebugValue;function h(v,x){var T=x(),C=r({inst:{value:T,getSnapshot:x}}),A=C[0].inst,k=C[1];return a(function(){A.value=T,A.getSnapshot=x,p(A)&&k({inst:A})},[v,T,x]),i(function(){return p(A)&&k({inst:A}),v(function(){p(A)&&k({inst:A})})},[v]),u(T),T}function p(v){var x=v.getSnapshot;v=v.value;try{var T=x();return!t(v,T)}catch{return!0}}function m(v,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Lm.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,Lm}var Nx;function Qj(){return Nx||(Nx=1,Om.exports=Kj()),Om.exports}var Yj=Qj();function Xj(){return Yj.useSyncExternalStore(Jj,()=>!0,()=>!1)}function Jj(){return()=>{}}var dy="Avatar",[Zj]=os(dy),[eD,iT]=Zj(dy),oT=S.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,a]=S.useState("idle");return c.jsx(eD,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:c.jsx(et.span,{...r,ref:e})})});oT.displayName=dy;var aT="AvatarImage",lT=S.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...a}=n,u=iT(aT,t),h=tD(r,a),p=ns(m=>{i(m),u.onImageLoadingStatusChange(m)});return pr(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?c.jsx(et.img,{...a,ref:e,src:r}):null});lT.displayName=aT;var cT="AvatarFallback",uT=S.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,a=iT(cT,t),[u,h]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),u&&a.imageLoadingStatus!=="loaded"?c.jsx(et.span,{...i,ref:e}):null});uT.displayName=cT;function Ax(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function tD(n,{referrerPolicy:e,crossOrigin:t}){const r=Xj(),i=S.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[u,h]=S.useState(()=>Ax(a,n));return pr(()=>{h(Ax(a,n))},[a,n]),pr(()=>{const p=v=>()=>{h(v)};if(!a)return;const m=p("loaded"),y=p("error");return a.addEventListener("load",m),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",m),a.removeEventListener("error",y)}},[a,t,e]),u}var nD=oT,rD=lT,sD=uT;function dT({className:n,...e}){return c.jsx(nD,{"data-slot":"avatar",className:Ge("relative flex size-10 shrink-0 overflow-hidden rounded-full",n),...e})}function hT({className:n,...e}){return c.jsx(rD,{"data-slot":"avatar-image",className:Ge("aspect-square size-full",n),...e})}function fT({className:n,...e}){return c.jsx(sD,{"data-slot":"avatar-fallback",className:Ge("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function iD({children:n,currentPage:e,onNavigate:t,user:r,onLogout:i}){const[a,u]=S.useState(!1),[h,p]=S.useState(!1),m=()=>{u(!a),document.documentElement.classList.toggle("dark")},y=[{title:"Home",icon:ZP,page:"home"},{title:"References",icon:uy,page:"references"},{title:"Art",icon:Oi,page:"art"},{title:"Documents",icon:ol,page:"documents"},{title:"Tools",icon:Fj,page:"tools"},{title:"Resources",icon:il,page:"resources"}];return c.jsxs("div",{className:"flex min-h-screen w-full",children:[c.jsx("div",{className:"fixed left-0 top-0 w-6 h-full z-50",onMouseEnter:()=>p(!0)}),c.jsxs("div",{className:`fixed left-0 top-0 h-full bg-sidebar border-r border-sidebar-border z-40 hover-sidebar-trigger shadow-lg ${h?"w-64":"w-16"}`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[c.jsx("div",{className:"p-4 border-b border-sidebar-border",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-primary-foreground font-medium text-sm",children:"M"})}),c.jsx("h2",{className:`font-medium text-sidebar-foreground sidebar-text whitespace-nowrap ${h?"opacity-100":"opacity-0"}`,children:"MuralDB"})]})}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:`text-xs uppercase tracking-wide text-sidebar-foreground/60 mb-3 sidebar-text whitespace-nowrap ${h?"opacity-100":"opacity-0"}`,children:"Navigation"}),c.jsx("nav",{className:"space-y-2",children:y.map(v=>c.jsxs("button",{onClick:()=>t?.(v.page),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md sidebar-item relative group ${e===v.page?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"}`,title:h?void 0:v.title,children:[c.jsx(v.icon,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{className:`sidebar-text whitespace-nowrap ${h?"opacity-100":"opacity-0"}`,children:v.title}),!h&&c.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50 shadow-lg border border-border",children:v.title})]},v.title))})]}),c.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:c.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2 rounded-md text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground sidebar-item relative group",title:h?void 0:a?"Light Mode":"Dark Mode",children:[a?c.jsx(Cj,{className:"h-5 w-5 flex-shrink-0"}):c.jsx(lj,{className:"h-5 w-5 flex-shrink-0"}),c.jsx("span",{className:`sidebar-text whitespace-nowrap ${h?"opacity-100":"opacity-0"}`,children:a?"Light Mode":"Dark Mode"}),!h&&c.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-popover text-popover-foreground text-sm rounded-md opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50 shadow-lg border border-border",children:a?"Light Mode":"Dark Mode"})]})})]}),c.jsxs("main",{className:`flex-1 main-content ${h?"ml-64":"ml-16"}`,children:[c.jsxs("div",{className:"border-b border-border p-4 flex items-center justify-between bg-background",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("h1",{className:"text-xl font-medium text-foreground",children:"MuralDB"})}),r?c.jsxs(Wj,{children:[c.jsx(Hj,{asChild:!0,children:c.jsxs(re,{variant:"ghost",size:"sm",className:"p-2 flex items-center gap-2",children:[c.jsxs(dT,{className:"h-6 w-6",children:[c.jsx(hT,{src:r.profilePicture,alt:r.screenName}),c.jsxs(fT,{className:"text-xs",children:[r.firstName.charAt(0),r.lastName.charAt(0)]})]}),c.jsx("span",{className:"hidden sm:inline",children:r.screenName})]})}),c.jsxs(qj,{align:"end",className:"w-56",children:[c.jsxs("div",{className:"px-2 py-1.5 text-sm",children:[c.jsxs("div",{className:"font-medium",children:[r.firstName," ",r.lastName]}),c.jsx("div",{className:"text-muted-foreground",children:r.screenName}),c.jsx("div",{className:"text-muted-foreground text-xs",children:r.email})]}),c.jsx(Ix,{}),c.jsxs(Sx,{onClick:()=>t?.("profile"),children:[c.jsx(xl,{className:"h-4 w-4 mr-2"}),"Profile & Settings"]}),c.jsx(Ix,{}),c.jsxs(Sx,{onClick:i,className:"text-destructive focus:text-destructive",children:[c.jsx(sj,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}):c.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>t?.("login"),className:"flex items-center gap-2",children:[c.jsx(sT,{className:"h-5 w-5"}),c.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})]}),c.jsx("div",{className:"p-6",children:n})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/5 z-30 pointer-events-none"})]})}function wt({className:n,...e}){return c.jsx("div",{"data-slot":"card",className:Ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Xt({className:n,...e}){return c.jsx("div",{"data-slot":"card-header",className:Ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Bt({className:n,...e}){return c.jsx("h4",{"data-slot":"card-title",className:Ge("leading-none",n),...e})}function Jt({className:n,...e}){return c.jsx("p",{"data-slot":"card-description",className:Ge("text-muted-foreground",n),...e})}function pt({className:n,...e}){return c.jsx("div",{"data-slot":"card-content",className:Ge("px-6 [&:last-child]:pb-6",n),...e})}function kx({className:n,...e}){return c.jsx("div",{"data-slot":"card-footer",className:Ge("flex items-center px-6 pb-6 [.border-t]:pt-6",n),...e})}function Ai({fileType:n,className:e="h-8 w-8 text-primary"}){return(r=>{const i=r.toLowerCase();return i==="pdf"?c.jsx(ol,{className:e,style:{color:"#dc2626"}}):["doc","docx"].includes(i)?c.jsx(Kd,{className:e,style:{color:"#2563eb"}}):["xls","xlsx","csv"].includes(i)?c.jsx(Kd,{className:e,style:{color:"#16a34a"}}):["ppt","pptx"].includes(i)?c.jsx(Kd,{className:e,style:{color:"#ea580c"}}):["jpg","jpeg","png","gif","bmp","svg","webp"].includes(i)?c.jsx(Oi,{className:e,style:{color:"#7c3aed"}}):["mp4","avi","mov","wmv","flv","mkv","webm"].includes(i)?c.jsx(Oj,{className:e,style:{color:"#e11d48"}}):["mp3","wav","flac","aac","ogg","wma"].includes(i)?c.jsx(uj,{className:e,style:{color:"#059669"}}):["zip","rar","7z","tar","gz"].includes(i)?c.jsx(EP,{className:e,style:{color:"#92400e"}}):["js","ts","jsx","tsx","html","css","py","java","cpp","c","php","rb","go"].includes(i)?c.jsx(LP,{className:e,style:{color:"#1f2937"}}):["sql","db","sqlite","mdb"].includes(i)?c.jsx(zP,{className:e,style:{color:"#374151"}}):["txt","rtf","md"].includes(i)?c.jsx(ol,{className:e,style:{color:"#6b7280"}}):c.jsx(Kd,{className:e})})(n)}function ch(n){const e=n.split(".").pop();return e?e.toLowerCase():""}const oD="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function uu(n){const[e,t]=S.useState(!1),r=()=>{t(!0)},{src:i,alt:a,style:u,className:h,...p}=n;return e?c.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:c.jsx("div",{className:"flex items-center justify-center w-full h-full",children:c.jsx("img",{src:oD,alt:"Error loading image",...p,"data-original-url":i})})}):c.jsx("img",{src:i,alt:a,className:h,style:u,...p,onError:r})}const aD=()=>{};var Rx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},lD=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],u=n[t++],h=n[t++],p=((i&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],u=i+1<n.length,h=u?n[i+1]:0,p=i+2<n.length,m=p?n[i+2]:0,y=a>>2,v=(a&3)<<4|h>>4;let x=(h&15)<<2|m>>6,T=m&63;p||(T=64,u||(x=64)),r.push(t[y],t[v],t[x],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const m=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||h==null||m==null||v==null)throw new cD;const x=a<<2|h>>4;if(r.push(x),m!==64){const T=h<<4&240|m>>2;if(r.push(T),v!==64){const C=m<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uD=function(n){const e=pT(n);return mT.encodeByteArray(e,!0)},Ih=function(n){return uD(n).replace(/\./g,"")},gT=function(n){try{return mT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=()=>dD().__FIREBASE_DEFAULTS__,fD=()=>{if(typeof process>"u"||typeof Rx>"u")return;const n=Rx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gT(n[1]);return e&&JSON.parse(e)},yf=()=>{try{return aD()||hD()||fD()||pD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},yT=n=>yf()?.emulatorHosts?.[n],vT=n=>{const e=yT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wT=()=>yf()?.config,_T=n=>yf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ih(JSON.stringify(t)),Ih(JSON.stringify(u)),""].join(".")}const Rc={};function gD(){const n={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?n.emulator.push(e):n.prod.push(e);return n}function yD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Px=!1;function fy(n,e){if(typeof window>"u"||typeof document>"u"||!Gi(window.location.host)||Rc[n]===e||Rc[n]||Px)return;Rc[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=gD().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Px=!0,u()},x}function y(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=yD(r),T=t("text"),C=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),k=document.getElementById(A)||document.createElement("a"),M=t("preprendIcon"),W=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const $=x.element;h($),y(k,A);const B=m();p(W,M),$.append(W,C,k,B),document.body.appendChild($)}a?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function wD(){const n=yf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ED(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TD(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bD(){return!wD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SD(){try{return typeof indexedDB=="object"}catch{return!1}}function ID(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="FirebaseError";class ls extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CD,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?ND(a,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new ls(i,h,r)}}function ND(n,e){return n.replace(AD,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const AD=/\{\$([^}]+)}/g;function kD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Po(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],u=e[i];if(jx(a)&&jx(u)){if(!Po(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function jx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Ic(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RD(n,e){const t=new PD(n,e);return t.subscribe.bind(t)}class PD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");jD(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Vm),i.error===void 0&&(i.error=Vm),i.complete===void 0&&(i.complete=Vm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n){return n&&n._delegate?n._delegate:n}class Li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mD;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OD(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MD(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MD(n){return n===So?void 0:n}function OD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const VD={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},FD=We.INFO,UD={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},zD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=UD[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=FD,this._logHandler=zD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const $D=(n,e)=>e.some(t=>n instanceof t);let Dx,Mx;function BD(){return Dx||(Dx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GD(){return Mx||(Mx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ET=new WeakMap,ug=new WeakMap,TT=new WeakMap,Fm=new WeakMap,my=new WeakMap;function WD(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(ki(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&ET.set(t,n)}).catch(()=>{}),my.set(e,n),e}function HD(n){if(ug.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ug.set(n,e)}let dg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ug.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qD(n){dg=n(dg)}function KD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Um(this),e,...t);return TT.set(r,e.sort?e.sort():[e]),ki(r)}:GD().includes(n)?function(...e){return n.apply(Um(this),e),ki(ET.get(this))}:function(...e){return ki(n.apply(Um(this),e))}}function QD(n){return typeof n=="function"?KD(n):(n instanceof IDBTransaction&&HD(n),$D(n,BD())?new Proxy(n,dg):n)}function ki(n){if(n instanceof IDBRequest)return WD(n);if(Fm.has(n))return Fm.get(n);const e=QD(n);return e!==n&&(Fm.set(n,e),my.set(e,n)),e}const Um=n=>my.get(n);function YD(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(n,e),h=ki(u);return r&&u.addEventListener("upgradeneeded",p=>{r(ki(u.result),p.oldVersion,p.newVersion,ki(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const XD=["get","getKey","getAll","getAllKeys","count"],JD=["put","add","delete","clear"],zm=new Map;function Ox(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=JD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XD.includes(t)))return;const a=async function(u,...h){const p=this.transaction(u,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),i&&p.done]))[0]};return zm.set(e,a),a}qD(n=>({...n,get:(e,t,r)=>Ox(e,t)||n.get(e,t,r),has:(e,t)=>!!Ox(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(e4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function e4(n){return n.getComponent()?.type==="VERSION"}const hg="@firebase/app",Lx="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new py("@firebase/app"),t4="@firebase/app-compat",n4="@firebase/analytics-compat",r4="@firebase/analytics",s4="@firebase/app-check-compat",i4="@firebase/app-check",o4="@firebase/auth",a4="@firebase/auth-compat",l4="@firebase/database",c4="@firebase/data-connect",u4="@firebase/database-compat",d4="@firebase/functions",h4="@firebase/functions-compat",f4="@firebase/installations",p4="@firebase/installations-compat",m4="@firebase/messaging",g4="@firebase/messaging-compat",y4="@firebase/performance",v4="@firebase/performance-compat",w4="@firebase/remote-config",_4="@firebase/remote-config-compat",x4="@firebase/storage",E4="@firebase/storage-compat",T4="@firebase/firestore",b4="@firebase/ai",S4="@firebase/firestore-compat",I4="firebase",C4="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="[DEFAULT]",N4={[hg]:"fire-core",[t4]:"fire-core-compat",[r4]:"fire-analytics",[n4]:"fire-analytics-compat",[i4]:"fire-app-check",[s4]:"fire-app-check-compat",[o4]:"fire-auth",[a4]:"fire-auth-compat",[l4]:"fire-rtdb",[c4]:"fire-data-connect",[u4]:"fire-rtdb-compat",[d4]:"fire-fn",[h4]:"fire-fn-compat",[f4]:"fire-iid",[p4]:"fire-iid-compat",[m4]:"fire-fcm",[g4]:"fire-fcm-compat",[y4]:"fire-perf",[v4]:"fire-perf-compat",[w4]:"fire-rc",[_4]:"fire-rc-compat",[x4]:"fire-gcs",[E4]:"fire-gcs-compat",[T4]:"fire-fst",[S4]:"fire-fst-compat",[b4]:"fire-vertex","fire-js":"fire-js",[I4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,A4=new Map,pg=new Map;function Vx(n,e){try{n.container.addComponent(e)}catch(t){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if(pg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,n);for(const t of Ch.values())Vx(t,n);for(const t of A4.values())Vx(t,n);return!0}function vf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function On(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new du("app","Firebase",k4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=C4;function bT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:fg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(t||(t=wT()),!t)throw Ri.create("no-options");const a=Ch.get(i);if(a){if(Po(t,a.options)&&Po(r,a.config))return a;throw Ri.create("duplicate-app",{appName:i})}const u=new LD(i);for(const p of pg.values())u.addComponent(p);const h=new R4(t,r,u);return Ch.set(i,h),h}function gy(n=fg){const e=Ch.get(n);if(!e&&n===fg&&wT())return bT();if(!e)throw Ri.create("no-app",{appName:n});return e}function Qr(n,e,t){let r=N4[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const u=[`Unable to register library "${r}" with version "${e}":`];i&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(u.join(" "));return}jo(new Li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="firebase-heartbeat-database",j4=1,qc="firebase-heartbeat-store";let $m=null;function ST(){return $m||($m=YD(P4,j4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),$m}async function D4(n){try{const t=(await ST()).transaction(qc),r=await t.objectStore(qc).get(IT(n));return await t.done,r}catch(e){if(e instanceof ls)Ls.warn(e.message);else{const t=Ri.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(t.message)}}}async function Fx(n,e){try{const r=(await ST()).transaction(qc,"readwrite");await r.objectStore(qc).put(e,IT(n)),await r.done}catch(t){if(t instanceof ls)Ls.warn(t.message);else{const r=Ri.create("idb-set",{originalErrorMessage:t?.message});Ls.warn(r.message)}}}function IT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=1024,O4=30;class L4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ux();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>O4){const i=U4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ux(),{heartbeatsToSend:t,unsentEntries:r}=V4(this._heartbeatsCache.heartbeats),i=Ih(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ls.warn(e),""}}}function Ux(){return new Date().toISOString().substring(0,10)}function V4(n,e=M4){const t=[];let r=n.slice();for(const i of n){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),zx(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zx(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class F4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SD()?ID().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await D4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zx(n){return Ih(JSON.stringify({version:2,heartbeats:n})).length}function U4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){jo(new Li("platform-logger",e=>new ZD(e),"PRIVATE")),jo(new Li("heartbeat",e=>new L4(e),"PRIVATE")),Qr(hg,Lx,n),Qr(hg,Lx,"esm2020"),Qr("fire-js","")}z4("");var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,CT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function j(){}j.prototype=b.prototype,D.F=b.prototype,D.prototype=new j,D.prototype.constructor=D,D.D=function(L,V,R){for(var N=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)N[Y-2]=arguments[Y];return b.prototype[V].apply(L,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,j){j||(j=0);const L=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)L[V]=b.charCodeAt(j++)|b.charCodeAt(j++)<<8|b.charCodeAt(j++)<<16|b.charCodeAt(j++)<<24;else for(V=0;V<16;++V)L[V]=b[j++]|b[j++]<<8|b[j++]<<16|b[j++]<<24;b=D.g[0],j=D.g[1],V=D.g[2];let R=D.g[3],N;N=b+(R^j&(V^R))+L[0]+3614090360&4294967295,b=j+(N<<7&4294967295|N>>>25),N=R+(V^b&(j^V))+L[1]+3905402710&4294967295,R=b+(N<<12&4294967295|N>>>20),N=V+(j^R&(b^j))+L[2]+606105819&4294967295,V=R+(N<<17&4294967295|N>>>15),N=j+(b^V&(R^b))+L[3]+3250441966&4294967295,j=V+(N<<22&4294967295|N>>>10),N=b+(R^j&(V^R))+L[4]+4118548399&4294967295,b=j+(N<<7&4294967295|N>>>25),N=R+(V^b&(j^V))+L[5]+1200080426&4294967295,R=b+(N<<12&4294967295|N>>>20),N=V+(j^R&(b^j))+L[6]+2821735955&4294967295,V=R+(N<<17&4294967295|N>>>15),N=j+(b^V&(R^b))+L[7]+4249261313&4294967295,j=V+(N<<22&4294967295|N>>>10),N=b+(R^j&(V^R))+L[8]+1770035416&4294967295,b=j+(N<<7&4294967295|N>>>25),N=R+(V^b&(j^V))+L[9]+2336552879&4294967295,R=b+(N<<12&4294967295|N>>>20),N=V+(j^R&(b^j))+L[10]+4294925233&4294967295,V=R+(N<<17&4294967295|N>>>15),N=j+(b^V&(R^b))+L[11]+2304563134&4294967295,j=V+(N<<22&4294967295|N>>>10),N=b+(R^j&(V^R))+L[12]+1804603682&4294967295,b=j+(N<<7&4294967295|N>>>25),N=R+(V^b&(j^V))+L[13]+4254626195&4294967295,R=b+(N<<12&4294967295|N>>>20),N=V+(j^R&(b^j))+L[14]+2792965006&4294967295,V=R+(N<<17&4294967295|N>>>15),N=j+(b^V&(R^b))+L[15]+1236535329&4294967295,j=V+(N<<22&4294967295|N>>>10),N=b+(V^R&(j^V))+L[1]+4129170786&4294967295,b=j+(N<<5&4294967295|N>>>27),N=R+(j^V&(b^j))+L[6]+3225465664&4294967295,R=b+(N<<9&4294967295|N>>>23),N=V+(b^j&(R^b))+L[11]+643717713&4294967295,V=R+(N<<14&4294967295|N>>>18),N=j+(R^b&(V^R))+L[0]+3921069994&4294967295,j=V+(N<<20&4294967295|N>>>12),N=b+(V^R&(j^V))+L[5]+3593408605&4294967295,b=j+(N<<5&4294967295|N>>>27),N=R+(j^V&(b^j))+L[10]+38016083&4294967295,R=b+(N<<9&4294967295|N>>>23),N=V+(b^j&(R^b))+L[15]+3634488961&4294967295,V=R+(N<<14&4294967295|N>>>18),N=j+(R^b&(V^R))+L[4]+3889429448&4294967295,j=V+(N<<20&4294967295|N>>>12),N=b+(V^R&(j^V))+L[9]+568446438&4294967295,b=j+(N<<5&4294967295|N>>>27),N=R+(j^V&(b^j))+L[14]+3275163606&4294967295,R=b+(N<<9&4294967295|N>>>23),N=V+(b^j&(R^b))+L[3]+4107603335&4294967295,V=R+(N<<14&4294967295|N>>>18),N=j+(R^b&(V^R))+L[8]+1163531501&4294967295,j=V+(N<<20&4294967295|N>>>12),N=b+(V^R&(j^V))+L[13]+2850285829&4294967295,b=j+(N<<5&4294967295|N>>>27),N=R+(j^V&(b^j))+L[2]+4243563512&4294967295,R=b+(N<<9&4294967295|N>>>23),N=V+(b^j&(R^b))+L[7]+1735328473&4294967295,V=R+(N<<14&4294967295|N>>>18),N=j+(R^b&(V^R))+L[12]+2368359562&4294967295,j=V+(N<<20&4294967295|N>>>12),N=b+(j^V^R)+L[5]+4294588738&4294967295,b=j+(N<<4&4294967295|N>>>28),N=R+(b^j^V)+L[8]+2272392833&4294967295,R=b+(N<<11&4294967295|N>>>21),N=V+(R^b^j)+L[11]+1839030562&4294967295,V=R+(N<<16&4294967295|N>>>16),N=j+(V^R^b)+L[14]+4259657740&4294967295,j=V+(N<<23&4294967295|N>>>9),N=b+(j^V^R)+L[1]+2763975236&4294967295,b=j+(N<<4&4294967295|N>>>28),N=R+(b^j^V)+L[4]+1272893353&4294967295,R=b+(N<<11&4294967295|N>>>21),N=V+(R^b^j)+L[7]+4139469664&4294967295,V=R+(N<<16&4294967295|N>>>16),N=j+(V^R^b)+L[10]+3200236656&4294967295,j=V+(N<<23&4294967295|N>>>9),N=b+(j^V^R)+L[13]+681279174&4294967295,b=j+(N<<4&4294967295|N>>>28),N=R+(b^j^V)+L[0]+3936430074&4294967295,R=b+(N<<11&4294967295|N>>>21),N=V+(R^b^j)+L[3]+3572445317&4294967295,V=R+(N<<16&4294967295|N>>>16),N=j+(V^R^b)+L[6]+76029189&4294967295,j=V+(N<<23&4294967295|N>>>9),N=b+(j^V^R)+L[9]+3654602809&4294967295,b=j+(N<<4&4294967295|N>>>28),N=R+(b^j^V)+L[12]+3873151461&4294967295,R=b+(N<<11&4294967295|N>>>21),N=V+(R^b^j)+L[15]+530742520&4294967295,V=R+(N<<16&4294967295|N>>>16),N=j+(V^R^b)+L[2]+3299628645&4294967295,j=V+(N<<23&4294967295|N>>>9),N=b+(V^(j|~R))+L[0]+4096336452&4294967295,b=j+(N<<6&4294967295|N>>>26),N=R+(j^(b|~V))+L[7]+1126891415&4294967295,R=b+(N<<10&4294967295|N>>>22),N=V+(b^(R|~j))+L[14]+2878612391&4294967295,V=R+(N<<15&4294967295|N>>>17),N=j+(R^(V|~b))+L[5]+4237533241&4294967295,j=V+(N<<21&4294967295|N>>>11),N=b+(V^(j|~R))+L[12]+1700485571&4294967295,b=j+(N<<6&4294967295|N>>>26),N=R+(j^(b|~V))+L[3]+2399980690&4294967295,R=b+(N<<10&4294967295|N>>>22),N=V+(b^(R|~j))+L[10]+4293915773&4294967295,V=R+(N<<15&4294967295|N>>>17),N=j+(R^(V|~b))+L[1]+2240044497&4294967295,j=V+(N<<21&4294967295|N>>>11),N=b+(V^(j|~R))+L[8]+1873313359&4294967295,b=j+(N<<6&4294967295|N>>>26),N=R+(j^(b|~V))+L[15]+4264355552&4294967295,R=b+(N<<10&4294967295|N>>>22),N=V+(b^(R|~j))+L[6]+2734768916&4294967295,V=R+(N<<15&4294967295|N>>>17),N=j+(R^(V|~b))+L[13]+1309151649&4294967295,j=V+(N<<21&4294967295|N>>>11),N=b+(V^(j|~R))+L[4]+4149444226&4294967295,b=j+(N<<6&4294967295|N>>>26),N=R+(j^(b|~V))+L[11]+3174756917&4294967295,R=b+(N<<10&4294967295|N>>>22),N=V+(b^(R|~j))+L[2]+718787259&4294967295,V=R+(N<<15&4294967295|N>>>17),N=j+(R^(V|~b))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+R&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const j=b-this.blockSize,L=this.C;let V=this.h,R=0;for(;R<b;){if(V==0)for(;R<=j;)i(this,D,R),R+=this.blockSize;if(typeof D=="string"){for(;R<b;)if(L[V++]=D.charCodeAt(R++),V==this.blockSize){i(this,L),V=0;break}}else for(;R<b;)if(L[V++]=D[R++],V==this.blockSize){i(this,L),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var j=D.length-8;j<D.length;++j)D[j]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,j=0;j<4;++j)for(let L=0;L<32;L+=8)D[b++]=this.g[j]>>>L&255;return D};function a(D,b){var j=h;return Object.prototype.hasOwnProperty.call(j,D)?j[D]:j[D]=b(D)}function u(D,b){this.h=b;const j=[];let L=!0;for(let V=D.length-1;V>=0;V--){const R=D[V]|0;L&&R==b||(j[V]=R,L=!1)}this.g=j}var h={};function p(D){return-128<=D&&D<128?a(D,function(b){return new u([b|0],b<0?-1:0)}):new u([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return k(m(-D));const b=[];let j=1;for(let L=0;D>=j;L++)b[L]=D/j|0,j*=4294967296;return new u(b,0)}function y(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return k(y(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=m(Math.pow(b,8));let L=v;for(let R=0;R<D.length;R+=8){var V=Math.min(8,D.length-R);const N=parseInt(D.substring(R,R+V),b);V<8?(V=m(Math.pow(b,V)),L=L.j(V).add(m(N))):(L=L.j(j),L=L.add(m(N)))}return L}var v=p(0),x=p(1),T=p(16777216);n=u.prototype,n.m=function(){if(A(this))return-k(this).m();let D=0,b=1;for(let j=0;j<this.g.length;j++){const L=this.i(j);D+=(L>=0?L:4294967296+L)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(A(this))return"-"+k(this).toString(D);const b=m(Math.pow(D,6));var j=this;let L="";for(;;){const V=B(j,b).g;j=M(j,V.j(b));let R=((j.g.length>0?j.g[0]:j.h)>>>0).toString(D);if(j=V,C(j))return R+L;for(;R.length<6;)R="0"+R;L=R+L}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=M(this,D),A(D)?-1:C(D)?0:1};function k(D){const b=D.g.length,j=[];for(let L=0;L<b;L++)j[L]=~D.g[L];return new u(j,~D.h).add(x)}n.abs=function(){return A(this)?k(this):this},n.add=function(D){const b=Math.max(this.g.length,D.g.length),j=[];let L=0;for(let V=0;V<=b;V++){let R=L+(this.i(V)&65535)+(D.i(V)&65535),N=(R>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);L=N>>>16,R&=65535,N&=65535,j[V]=N<<16|R}return new u(j,j[j.length-1]&-2147483648?-1:0)};function M(D,b){return D.add(k(b))}n.j=function(D){if(C(this)||C(D))return v;if(A(this))return A(D)?k(this).j(k(D)):k(k(this).j(D));if(A(D))return k(this.j(k(D)));if(this.l(T)<0&&D.l(T)<0)return m(this.m()*D.m());const b=this.g.length+D.g.length,j=[];for(var L=0;L<2*b;L++)j[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<D.g.length;V++){const R=this.i(L)>>>16,N=this.i(L)&65535,Y=D.i(V)>>>16,he=D.i(V)&65535;j[2*L+2*V]+=N*he,W(j,2*L+2*V),j[2*L+2*V+1]+=R*he,W(j,2*L+2*V+1),j[2*L+2*V+1]+=N*Y,W(j,2*L+2*V+1),j[2*L+2*V+2]+=R*Y,W(j,2*L+2*V+2)}for(D=0;D<b;D++)j[D]=j[2*D+1]<<16|j[2*D];for(D=b;D<2*b;D++)j[D]=0;return new u(j,0)};function W(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function $(D,b){this.g=D,this.h=b}function B(D,b){if(C(b))throw Error("division by zero");if(C(D))return new $(v,v);if(A(D))return b=B(k(D),b),new $(k(b.g),k(b.h));if(A(b))return b=B(D,k(b)),new $(k(b.g),b.h);if(D.g.length>30){if(A(D)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var j=x,L=b;L.l(D)<=0;)j=K(j),L=K(L);var V=ee(j,1),R=ee(L,1);for(L=ee(L,2),j=ee(j,2);!C(L);){var N=R.add(L);N.l(D)<=0&&(V=V.add(j),R=N),L=ee(L,1),j=ee(j,1)}return b=M(D,V.j(b)),new $(V,b)}for(V=v;D.l(b)>=0;){for(j=Math.max(1,Math.floor(D.m()/b.m())),L=Math.ceil(Math.log(j)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),R=m(j),N=R.j(b);A(N)||N.l(D)>0;)j-=L,R=m(j),N=R.j(b);C(R)&&(R=x),V=V.add(R),D=M(D,N)}return new $(V,D)}n.B=function(D){return B(this,D).h},n.and=function(D){const b=Math.max(this.g.length,D.g.length),j=[];for(let L=0;L<b;L++)j[L]=this.i(L)&D.i(L);return new u(j,this.h&D.h)},n.or=function(D){const b=Math.max(this.g.length,D.g.length),j=[];for(let L=0;L<b;L++)j[L]=this.i(L)|D.i(L);return new u(j,this.h|D.h)},n.xor=function(D){const b=Math.max(this.g.length,D.g.length),j=[];for(let L=0;L<b;L++)j[L]=this.i(L)^D.i(L);return new u(j,this.h^D.h)};function K(D){const b=D.g.length+1,j=[];for(let L=0;L<b;L++)j[L]=D.i(L)<<1|D.i(L-1)>>>31;return new u(j,D.h)}function ee(D,b){const j=b>>5;b%=32;const L=D.g.length-j,V=[];for(let R=0;R<L;R++)V[R]=b>0?D.i(R+j)>>>b|D.i(R+j+1)<<32-b:D.i(R+j);return new u(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Pi=u}).apply(typeof $x<"u"?$x:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,Cc,AT,uh,mg,kT,RT,PT;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var q=d[P];if(!(q in E))break e;E=E[q]}d=d[d.length-1],P=E[d],_=_(P),_!=P&&_!=null&&e(E,d,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(_){var E=[],P;for(P in _)Object.prototype.hasOwnProperty.call(_,P)&&E.push([P,_[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function p(d,_,E){return d.call.apply(d.bind,arguments)}function m(d,_,E){return m=p,m.apply(null,arguments)}function y(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function v(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(P,q,Z){for(var ue=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ue[Oe-2]=arguments[Oe];return _.prototype[q].apply(P,ue)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const _=d.length;if(_>0){const E=Array(_);for(let P=0;P<_;P++)E[P]=d[P];return E}return[]}function C(d,_){for(let P=1;P<arguments.length;P++){const q=arguments[P];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=d.length||0;const Z=q.length||0;d.length=E+Z;for(let ue=0;ue<Z;ue++)d[E+ue]=q[ue]}else d.push(q)}}class A{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(d){u.setTimeout(()=>{throw d},0)}function M(){var d=D;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,E){const P=$.get();P.set(_,E),this.h?this.h.next=P:this.g=P,this.h=P}}var $=new A(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ee=!1,D=new W,b=()=>{const d=Promise.resolve(void 0);K=()=>{d.then(j)}};function j(){for(var d;d=M();){try{d.h.call(d.g)}catch(E){k(E)}var _=$;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}ee=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function Y(d,_){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}v(Y,V),Y.prototype.init=function(d,_){const E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),de=0;function ge(d,_,E,P,q){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!P,this.ha=q,this.key=++de,this.da=this.fa=!1}function G(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function X(d,_,E){for(const P in d)_.call(E,d[P],P,d)}function se(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function U(d){const _={};for(const E in d)_[E]=d[E];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(d,_){let E,P;for(let q=1;q<arguments.length;q++){P=arguments[q];for(E in P)d[E]=P[E];for(let Z=0;Z<te.length;Z++)E=te[Z],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function _e(d){this.src=d,this.g={},this.h=0}_e.prototype.add=function(d,_,E,P,q){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const ue=je(d,_,P,q);return ue>-1?(_=d[ue],E||(_.fa=!1)):(_=new ge(_,this.src,Z,!!P,q),_.fa=E,d.push(_)),_};function Pe(d,_){const E=_.type;if(E in d.g){var P=d.g[E],q=Array.prototype.indexOf.call(P,_,void 0),Z;(Z=q>=0)&&Array.prototype.splice.call(P,q,1),Z&&(G(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function je(d,_,E,P){for(let q=0;q<d.length;++q){const Z=d[q];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==P)return q}return-1}var me="closure_lm_"+(Math.random()*1e6|0),Fe={};function Qe(d,_,E,P,q){if(Array.isArray(_)){for(let Z=0;Z<_.length;Z++)Qe(d,_[Z],E,P,q);return null}return E=Nl(E),d&&d[he]?d.J(_,E,h(P)?!!P.capture:!1,q):gt(d,_,E,!1,P,q)}function gt(d,_,E,P,q,Z){if(!_)throw Error("Invalid event type");const ue=h(q)?!!q.capture:!!q;let Oe=Yo(d);if(Oe||(d[me]=Oe=new _e(d)),E=Oe.add(_,E,P,ue,Z),E.proxy)return E;if(P=Un(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)R||(q=ue),q===void 0&&(q=!1),d.addEventListener(_.toString(),P,q);else if(d.attachEvent)d.attachEvent(Qo(_.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Un(){function d(E){return _.call(d.src,d.listener,E)}const _=Tu;return d}function zn(d,_,E,P,q){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)zn(d,_[Z],E,P,q);else P=h(P)?!!P.capture:!!P,E=Nl(E),d&&d[he]?(d=d.i,Z=String(_).toString(),Z in d.g&&(_=d.g[Z],E=je(_,E,P,q),E>-1&&(G(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[Z],d.h--)))):d&&(d=Yo(d))&&(_=d.g[_.toString()],d=-1,_&&(d=je(_,E,P,q)),(E=d>-1?_[d]:null)&&Sn(E))}function Sn(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[he])Pe(_.i,d);else{var E=d.type,P=d.proxy;_.removeEventListener?_.removeEventListener(E,P,d.capture):_.detachEvent?_.detachEvent(Qo(E),P):_.addListener&&_.removeListener&&_.removeListener(P),(E=Yo(_))?(Pe(E,d),E.h==0&&(E.src=null,_[me]=null)):G(d)}}}function Qo(d){return d in Fe?Fe[d]:Fe[d]="on"+d}function Tu(d,_){if(d.da)d=!0;else{_=new Y(_,this);const E=d.listener,P=d.ha||d.src;d.fa&&Sn(d),d=E.call(P,_)}return d}function Yo(d){return d=d[me],d instanceof _e?d:null}var Yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nl(d){return typeof d=="function"?d:(d[Yi]||(d[Yi]=function(_){return d.handleEvent(_)}),d[Yi])}function At(){L.call(this),this.i=new _e(this),this.M=this,this.G=null}v(At,L),At.prototype[he]=!0,At.prototype.removeEventListener=function(d,_,E,P){zn(this,d,_,E,P)};function Et(d,_){var E,P=d.G;if(P)for(E=[];P;P=P.G)E.push(P);if(d=d.M,P=_.type||_,typeof _=="string")_=new V(_,d);else if(_ instanceof V)_.target=_.target||d;else{var q=_;_=new V(P,d),ye(_,q)}q=!0;let Z,ue;if(E)for(ue=E.length-1;ue>=0;ue--)Z=_.g=E[ue],q=rr(Z,P,!0,_)&&q;if(Z=_.g=d,q=rr(Z,P,!0,_)&&q,q=rr(Z,P,!1,_)&&q,E)for(ue=0;ue<E.length;ue++)Z=_.g=E[ue],q=rr(Z,P,!1,_)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let P=0;P<E.length;P++)G(E[P]);delete d.g[_],d.h--}}this.G=null},At.prototype.J=function(d,_,E,P){return this.i.add(String(d),_,!1,E,P)},At.prototype.K=function(d,_,E,P){return this.i.add(String(d),_,!0,E,P)};function rr(d,_,E,P){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let Z=0;Z<_.length;++Z){const ue=_[Z];if(ue&&!ue.da&&ue.capture==E){const Oe=ue.listener,Tt=ue.ha||ue.src;ue.fa&&Pe(d.i,ue),q=Oe.call(Tt,P)!==!1&&q}}return q&&!P.defaultPrevented}function Al(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(d,_||0)}function kl(d){d.g=Al(()=>{d.g=null,d.i&&(d.i=!1,kl(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class bu extends L{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:kl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(d){L.call(this),this.h=d,this.g={}}v(Gs,L);var Rl=[];function Xo(d){X(d.g,function(_,E){this.g.hasOwnProperty(E)&&Sn(_)},d),d.g={}}Gs.prototype.N=function(){Gs.Z.N.call(this),Xo(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ws=u.JSON.stringify,Su=u.JSON.parse,Xi=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Hs(){}function Iu(){}var qs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jo(){V.call(this,"d")}v(Jo,V);function Pl(){V.call(this,"c")}v(Pl,V);var sr={},Zo=null;function Ks(){return Zo=Zo||new At}sr.Ia="serverreachability";function ea(d){V.call(this,sr.Ia,d)}v(ea,V);function cs(d){const _=Ks();Et(_,new ea(_))}sr.STAT_EVENT="statevent";function us(d,_){V.call(this,sr.STAT_EVENT,d),this.stat=_}v(us,V);function yt(d){const _=Ks();Et(_,new us(_,d))}sr.Ja="timingevent";function jl(d,_){V.call(this,sr.Ja,d),this.size=_}v(jl,V);function Qs(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function Ys(){this.g=!0}Ys.prototype.ua=function(){this.g=!1};function Cu(d,_,E,P,q,Z){d.info(function(){if(d.g)if(Z){var ue="",Oe=Z.split("&");for(let nt=0;nt<Oe.length;nt++){var Tt=Oe[nt].split("=");if(Tt.length>1){const kt=Tt[0];Tt=Tt[1];const Rn=kt.split("_");ue=Rn.length>=2&&Rn[1]=="type"?ue+(kt+"="+Tt+"&"):ue+(kt+"=redacted&")}}}else ue=null;else ue=Z;return"XMLHTTP REQ ("+P+") [attempt "+q+"]: "+_+`
`+E+`
`+ue})}function Nu(d,_,E,P,q,Z,ue){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+q+"]: "+_+`
`+E+`
`+Z+" "+ue})}function Ir(d,_,E,P){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ji(d,E)+(P?" "+P:"")})}function Au(d,_){d.info(function(){return"TIMEOUT: "+_})}Ys.prototype.info=function(){};function Ji(d,_){if(!d.g)return _;if(!_)return null;try{const Z=JSON.parse(_);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var E=Z[d];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<P.length;ue++)P[ue]=""}}}}return Ws(Z)}catch{return _}}var Xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ku;function ds(){}v(ds,Hs),ds.prototype.g=function(){return new XMLHttpRequest},ku=new ds;function Cr(d){return encodeURIComponent(String(d))}function ta(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function $n(d,_,E,P){this.j=d,this.i=_,this.l=E,this.S=P||1,this.V=new Gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ru}function Ru(){this.i=null,this.g="",this.h=!1}var Pu={},Dl={};function ir(d,_,E){d.M=1,d.A=fs(Bn(_)),d.u=E,d.R=!0,Ml(d,null)}function Ml(d,_){d.F=Date.now(),Zi(d),d.B=Bn(d.A);var E=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Wl(E.i,"t",P),d.C=0,E=d.j.L,d.h=new Ru,d.g=$u(d.j,E?_:null,!d.u),d.P>0&&(d.O=new bu(m(d.Y,d,d.g),d.P)),_=d.V,E=d.g,P=d.ba;var q="readystatechange";Array.isArray(q)||(q&&(Rl[0]=q.toString()),q=Rl);for(let Z=0;Z<q.length;Z++){const ue=Qe(E,q[Z],P||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=d.J?U(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),cs(),Cu(d.i,d.v,d.B,d.l,d.S,d.u)}$n.prototype.ba=function(d){d=d.target;const _=this.O;_&&Dr(d)==3?_.j():this.Y(d)},$n.prototype.Y=function(d){try{if(d==this.g)e:{const Oe=Dr(this.g),Tt=this.g.ya(),nt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Uu(this.g)))){this.K||Oe!=4||Tt==7||(Tt==8||nt<=0?cs(3):cs(2)),na(this);var _=this.g.ca();this.X=_;var E=ju(this);if(this.o=_==200,Nu(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var P,q=this.g;if((P=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(P)){var Z=P;break t}}Z=null}if(d=Z)Ir(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,d);else{this.o=!1,this.m=3,yt(12),hs(this),eo(this);break e}}if(this.R){d=!0;let kt;for(;!this.K&&this.C<E.length;)if(kt=Mu(this,E),kt==Dl){Oe==4&&(this.m=4,yt(14),d=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Pu){this.m=4,yt(15),Ir(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ir(this.i,this.l,kt,null),ot(this,kt);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,yt(16),d=!1),this.o=this.o&&d,!d)Ir(this.i,this.l,E,"[Invalid Chunked Response]"),hs(this),eo(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),co(ue),ue.P=!0,yt(11))}}else Ir(this.i,this.l,E,null),ot(this,E);Oe==4&&hs(this),this.o&&!this.K&&(Oe==4?ha(this.j,this):(this.o=!1,Zi(this)))}else ql(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),hs(this),eo(this)}}}catch{}finally{}};function ju(d){if(!Du(d))return d.g.la();const _=Uu(d.g);if(_==="")return"";let E="";const P=_.length,q=Dr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return hs(d),eo(d),"";d.h.i=new u.TextDecoder}for(let Z=0;Z<P;Z++)d.h.h=!0,E+=d.h.i.decode(_[Z],{stream:!(q&&Z==P-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function Du(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Mu(d,_){var E=d.C,P=_.indexOf(`
`,E);return P==-1?Dl:(E=Number(_.substring(E,P)),isNaN(E)?Pu:(P+=1,P+E>_.length?Dl:(_=_.slice(P,P+E),d.C=P+E,_)))}$n.prototype.cancel=function(){this.K=!0,hs(this)};function Zi(d){d.T=Date.now()+d.H,Ol(d,d.H)}function Ol(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Qs(m(d.aa,d),_)}function na(d){d.D&&(u.clearTimeout(d.D),d.D=null)}$n.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Au(this.i,this.B),this.M!=2&&(cs(),yt(17)),hs(this),this.m=2,eo(this)):Ol(this,this.T-d)};function eo(d){d.j.I==0||d.K||ha(d.j,d)}function hs(d){na(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Xo(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function ot(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||Vl(E.h,d))){if(!d.L&&Vl(E.h,d)&&E.I==3){try{var P=E.Ba.g.parse(_)}catch{P=null}if(Array.isArray(P)&&P.length==3){var q=P;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)da(E),An(E);else break e;Lr(E),yt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Qs(m(E.Va,E),6e3));to(E.h)<=1&&E.ta&&(E.ta=void 0)}else kn(E,11)}else if((d.L||E.g==d)&&da(E),!N(_))for(q=E.Ba.g.parse(_),_=0;_<q.length;_++){let nt=q[_];const kt=nt[0];if(!(kt<=E.K))if(E.K=kt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const Rn=nt[3];Rn!=null&&(E.ka=Rn,E.j.info("VER="+E.ka));const vs=nt[4];vs!=null&&(E.za=vs,E.j.info("SVER="+E.za));const Vr=nt[5];Vr!=null&&typeof Vr=="number"&&Vr>0&&(P=1.5*Vr,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Fr=d.g;if(Fr){const ma=Fr.g?Fr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var Z=P.h;Z.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(sa(Z,Z.h),Z.h=null))}if(P.G){const Yl=Fr.g?Fr.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(P.wa=Yl,Ze(P.J,P.G,Yl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var ue=d;if(P.na=Ql(P,P.L?P.ba:null,P.W),ue.L){no(P.h,ue);var Oe=ue,Tt=P.O;Tt&&(Oe.H=Tt),Oe.D&&(na(Oe),Zi(Oe)),P.g=ue}else en(P);E.i.length>0&&ys(E)}else nt[0]!="stop"&&nt[0]!="close"||kn(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?kn(E,7):ca(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}cs(4)}catch{}}var Kf=class{constructor(d,_){this.g=d,this.map=_}};function ra(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ll(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function to(d){return d.h?1:d.g?d.g.size:0}function Vl(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function sa(d,_){d.g?d.g.add(_):d.h=_}function no(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}ra.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function In(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return T(d.i)}var Ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cn(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const P=d[E].indexOf("=");let q,Z=null;P>=0?(q=d[E].substring(0,P),Z=d[E].substring(P+1)):q=d[E],_(q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Nr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof Nr?(this.l=d.l,ro(this,d.j),this.o=d.o,this.g=d.g,Ar(this,d.u),this.h=d.h,Zs(this,Hl(d.i)),this.m=d.m):d&&(_=String(d).match(Ou))?(this.l=!1,ro(this,_[1]||"",!0),this.o=so(_[2]||""),this.g=so(_[3]||"",!0),Ar(this,_[4]),this.h=so(_[5]||"",!0),Zs(this,_[6]||"",!0),this.m=so(_[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}Nr.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(io(_,Ul,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(io(_,Ul,!0),"@"),d.push(Cr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(io(E,E.charAt(0)=="/"?oo:zl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",io(E,$l)),d.join("")},Nr.prototype.resolve=function(d){const _=Bn(this);let E=!!d.j;E?ro(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var P=d.h;if(E)Ar(_,d.u);else if(E=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var q=_.h.lastIndexOf("/");q!=-1&&(P=_.h.slice(0,q+1)+P)}if(q=P,q==".."||q==".")P="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){P=q.lastIndexOf("/",0)==0,q=q.split("/");const Z=[];for(let ue=0;ue<q.length;){const Oe=q[ue++];Oe=="."?P&&ue==q.length&&Z.push(""):Oe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),P&&ue==q.length&&Z.push("")):(Z.push(Oe),P=!0)}P=Z.join("/")}else P=q}return E?_.h=P:E=d.i.toString()!=="",E?Zs(_,Hl(d.i)):E=!!d.m,E&&(_.m=d.m),_};function Bn(d){return new Nr(d)}function ro(d,_,E){d.j=E?so(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Ar(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Zs(d,_,E){_ instanceof Ke?(d.i=_,oa(d.i,d.l)):(E||(_=io(_,Qf)),d.i=new Ke(_,d.l))}function Ze(d,_,E){d.i.set(_,E)}function fs(d){return Ze(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function so(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function io(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Fl),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ul=/[#\/\?@]/g,zl=/[#\?:]/g,oo=/[#\?]/g,Qf=/[#\?@]/g,$l=/#/g;function Ke(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function kr(d){d.g||(d.g=new Map,d.h=0,d.i&&Cn(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ke.prototype,n.add=function(d,_){kr(this),this.i=null,d=Rr(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Bl(d,_){kr(d),_=Rr(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function ia(d,_){return kr(d),_=Rr(d,_),d.g.has(_)}n.forEach=function(d,_){kr(this),this.g.forEach(function(E,P){E.forEach(function(q){d.call(_,q,P,this)},this)},this)};function Gl(d,_){kr(d);let E=[];if(typeof _=="string")ia(d,_)&&(E=E.concat(d.g.get(Rr(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}n.set=function(d,_){return kr(this),this.i=null,d=Rr(this,d),ia(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Gl(this,d),d.length>0?String(d[0]):_):_};function Wl(d,_,E){Bl(d,_),E.length>0&&(d.i=null,d.g.set(Rr(d,_),T(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let P=0;P<_.length;P++){var E=_[P];const q=Cr(E);E=Gl(this,E);for(let Z=0;Z<E.length;Z++){let ue=q;E[Z]!==""&&(ue+="="+Cr(E[Z])),d.push(ue)}}return this.i=d.join("&")};function Hl(d){const _=new Ke;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Rr(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function oa(d,_){_&&!d.j&&(kr(d),d.i=null,d.g.forEach(function(E,P){const q=P.toLowerCase();P!=q&&(Bl(this,P),Wl(this,q,E))},d)),d.j=_}function Pr(d,_){const E=new Ys;if(u.Image){const P=new Image;P.onload=y(Gt,E,"TestLoadImage: loaded",!0,_,P),P.onerror=y(Gt,E,"TestLoadImage: error",!1,_,P),P.onabort=y(Gt,E,"TestLoadImage: abort",!1,_,P),P.ontimeout=y(Gt,E,"TestLoadImage: timeout",!1,_,P),u.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else _(!1)}function jr(d,_){const E=new Ys,P=new AbortController,q=setTimeout(()=>{P.abort(),Gt(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:P.signal}).then(Z=>{clearTimeout(q),Z.ok?Gt(E,"TestPingServer: ok",!0,_):Gt(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Gt(E,"TestPingServer: error",!1,_)})}function Gt(d,_,E,P,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),P(E)}catch{}}function ao(){this.g=new Xi}function ps(d){this.i=d.Sb||null,this.h=d.ab||!1}v(ps,Hs),ps.prototype.g=function(){return new Nn(this.i,this.h)};function Nn(d,_){At.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Nn,At),n=Nn.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,or(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?ei(this):or(this),this.readyState==3&&Lu(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,ei(this))},n.Na=function(d){this.g&&(this.response=d,ei(this))},n.ga=function(){this.g&&ei(this)};function ei(d){d.readyState=4,d.l=null,d.j=null,d.B=null,or(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function or(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Vu(d){let _="";return X(d,function(E,P){_+=P,_+=":",_+=E,_+=`\r
`}),_}function aa(d,_,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Vu(E),typeof d=="string"?E!=null&&Cr(E):Ze(d,_,E))}function rt(d){At.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(rt,At);var Fu=/^https?$/i,Yf=["POST","PUT"];n=rt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ku.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Z){ti(this,Z);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var q in P)E.set(q,P[q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Z of P.keys())E.set(Z,P.get(Z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Yf,_,void 0)>=0)||P||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ue]of E)this.g.setRequestHeader(Z,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ti(this,Z)}};function ti(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,ni(d),gs(d)}function ni(d){d.A||(d.A=!0,Et(d,"complete"),Et(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Et(this,"complete"),Et(this,"abort"),gs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ms(this):this.Xa())},n.Xa=function(){ms(this)};function ms(d){if(d.h&&typeof a<"u"){if(d.v&&Dr(d)==4)setTimeout(d.Ca.bind(d),0);else if(Et(d,"readystatechange"),Dr(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var P;if(P=Z===0){let ue=String(d.D).match(Ou)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),P=!Fu.test(ue?ue.toLowerCase():"")}E=P}if(E)Et(d,"complete"),Et(d,"success");else{d.o=6;try{var q=Dr(d)>2?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.ca()+"]",ni(d)}}finally{gs(d)}}}}function gs(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||Et(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Dr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Su(_)}};function Uu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ql(d){const _={};d=(d.g&&Dr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(N(d[P]))continue;var E=ta(d[P]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[q]||[];_[q]=Z,Z.push(E)}se(_,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function la(d){this.za=0,this.i=[],this.j=new Ys,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,d),this.Za=Mr("retryDelaySeedMs",1e4,d),this.Ta=Mr("forwardChannelMaxRetries",2,d),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ra(d&&d.concurrentRequestLimit),this.Ba=new ao,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=la.prototype,n.ka=8,n.I=1,n.connect=function(d,_,E,P){yt(0),this.W=d,this.H=_||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Ql(this,null,this.W),ys(this)};function ca(d){if(ua(d),d.I==3){var _=d.V++,E=Bn(d.J);if(Ze(E,"SID",d.M),Ze(E,"RID",_),Ze(E,"TYPE","terminate"),Or(d,E),_=new $n(d,d.j,_),_.M=2,_.A=fs(Bn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=$u(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Zi(_)}uo(d)}function An(d){d.g&&(co(d),d.g.cancel(),d.g=null)}function ua(d){An(d),d.v&&(u.clearTimeout(d.v),d.v=null),da(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ys(d){if(!Ll(d.h)&&!d.m){d.m=!0;var _=d.Ea;K||b(),ee||(K(),ee=!0),D.add(_,d),d.D=0}}function zu(d,_){return to(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Qs(m(d.Ea,d,_),fa(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const q=new $n(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=U(Z),ye(Z,this.U)):Z=this.U),this.u!==null||this.R||(q.J=Z,Z=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(_+=P,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Kl(this,q,_),E=Bn(this.J),Ze(E,"RID",d),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),Or(this,E),Z&&(this.R?_="headers="+Cr(Vu(Z))+"&"+_:this.u&&aa(E,this.u,Z)),sa(this.h,q),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",_),Ze(E,"SID","null"),q.U=!0,ir(q,E,null)):ir(q,E,_),this.I=2}}else this.I==3&&(d?lo(this,d):this.i.length==0||Ll(this.h)||lo(this))};function lo(d,_){var E;_?E=_.l:E=d.V++;const P=Bn(d.J);Ze(P,"SID",d.M),Ze(P,"RID",E),Ze(P,"AID",d.K),Or(d,P),d.u&&d.o&&aa(P,d.u,d.o),E=new $n(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Kl(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),sa(d.h,E),ir(E,P,_)}function Or(d,_){d.H&&X(d.H,function(E,P){Ze(_,P,E)}),d.l&&X({},function(E,P){Ze(_,P,E)})}function Kl(d,_,E){E=Math.min(d.i.length,E);const P=d.l?m(d.l.Ka,d.l,d):null;e:{var q=d.i;let Oe=-1;for(;;){const Tt=["count="+E];Oe==-1?E>0?(Oe=q[0].g,Tt.push("ofs="+Oe)):Oe=0:Tt.push("ofs="+Oe);let nt=!0;for(let kt=0;kt<E;kt++){var Z=q[kt].g;const Rn=q[kt].map;if(Z-=Oe,Z<0)Oe=Math.max(0,q[kt].g-100),nt=!1;else try{Z="req"+Z+"_"||"";try{var ue=Rn instanceof Map?Rn:Object.entries(Rn);for(const[vs,Vr]of ue){let Fr=Vr;h(Vr)&&(Fr=Ws(Vr)),Tt.push(Z+vs+"="+encodeURIComponent(Fr))}}catch(vs){throw Tt.push(Z+"type="+encodeURIComponent("_badmap")),vs}}catch{P&&P(Rn)}}if(nt){ue=Tt.join("&");break e}}ue=void 0}return d=d.i.splice(0,E),_.G=d,ue}function en(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;K||b(),ee||(K(),ee=!0),D.add(_,d),d.A=0}}function Lr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Qs(m(d.Da,d),fa(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ri(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Qs(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),An(this),ri(this))};function co(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function ri(d){d.g=new $n(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=Bn(d.na);Ze(_,"RID","rpc"),Ze(_,"SID",d.M),Ze(_,"AID",d.K),Ze(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ze(_,"TO",d.ia),Ze(_,"TYPE","xmlhttp"),Or(d,_),d.u&&d.o&&aa(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=fs(Bn(_)),E.u=null,E.R=!0,Ml(E,d)}n.Va=function(){this.C!=null&&(this.C=null,An(this),Lr(this),yt(19))};function da(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ha(d,_){var E=null;if(d.g==_){da(d),co(d),d.g=null;var P=2}else if(Vl(d.h,_))E=_.G,no(d.h,_),P=1;else return;if(d.I!=0){if(_.o)if(P==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var q=d.D;P=Ks(),Et(P,new jl(P,E)),ys(d)}else en(d);else if(q=_.m,q==3||q==0&&_.X>0||!(P==1&&zu(d,_)||P==2&&Lr(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),q){case 1:kn(d,5);break;case 4:kn(d,10);break;case 3:kn(d,6);break;default:kn(d,2)}}}function fa(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function kn(d,_){if(d.j.info("Error code "+_),_==2){var E=m(d.bb,d),P=d.Ua;const q=!P;P=new Nr(P||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ro(P,"https"),fs(P),q?Pr(P.toString(),E):jr(P.toString(),E)}else yt(2);d.I=0,d.l&&d.l.pa(_),uo(d),ua(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function uo(d){if(d.I=0,d.ja=[],d.l){const _=In(d.h);(_.length!=0||d.i.length!=0)&&(C(d.ja,_),C(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function Ql(d,_,E){var P=E instanceof Nr?Bn(E):new Nr(E);if(P.g!="")_&&(P.g=_+"."+P.g),Ar(P,P.u);else{var q=u.location;P=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const Z=new Nr(null);P&&ro(Z,P),_&&(Z.g=_),q&&Ar(Z,q),E&&(Z.h=E),P=Z}return E=d.G,_=d.wa,E&&_&&Ze(P,E,_),Ze(P,"VER",d.ka),Or(d,P),P}function $u(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new rt(new ps({ab:E})):new rt(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}n=Bu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function pa(){}pa.prototype.g=function(d,_){return new Wt(d,_)};function Wt(d,_){At.call(this),this.g=new la(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!N(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new si(this)}v(Wt,At),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){ca(this.g)},Wt.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Ws(d),d=E);_.i.push(new Kf(_.Ya++,d)),_.I==3&&ys(_)},Wt.prototype.N=function(){this.g.l=null,delete this.j,ca(this.g),delete this.g,Wt.Z.N.call(this)};function Gu(d){Jo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const E in _){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}v(Gu,Jo);function Wu(){Pl.call(this),this.status=1}v(Wu,Pl);function si(d){this.g=d}v(si,Bu),si.prototype.ra=function(){Et(this.g,"a")},si.prototype.qa=function(d){Et(this.g,new Gu(d))},si.prototype.pa=function(d){Et(this.g,new Wu)},si.prototype.oa=function(){Et(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,PT=function(){return new pa},RT=function(){return Ks()},kT=sr,mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,uh=Xs,Js.COMPLETE="complete",AT=Js,Iu.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",At.prototype.listen=At.prototype.J,Cc=Iu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,NT=rt}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const Bx="@firebase/firestore",Gx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new py("@firebase/firestore");function Ua(){return Do.logLevel}function ve(n,...e){if(Do.logLevel<=We.DEBUG){const t=e.map(yy);Do.debug(`Firestore (${El}): ${n}`,...t)}}function Vs(n,...e){if(Do.logLevel<=We.ERROR){const t=e.map(yy);Do.error(`Firestore (${El}): ${n}`,...t)}}function al(n,...e){if(Do.logLevel<=We.WARN){const t=e.map(yy);Do.warn(`Firestore (${El}): ${n}`,...t)}}function yy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,jT(n,r,t)}function jT(n,e,t){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Vs(r),new Error(r)}function tt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||jT(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ln.UNAUTHENTICATED)))}shutdown(){}}class B4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class G4{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let a=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ps,e.enqueueRetryable((()=>i(this.currentUser)))};const u=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},h=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ps)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new DT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class W4{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H4{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new W4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=K4(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function He(n,e){return n<e?-1:n>e?1:0}function gg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),a=e.charAt(r);if(i!==a)return Bm(i)===Bm(a)?He(i,a):Bm(i)?1:-1}return He(n.length,e.length)}const Q4=55296,Y4=57343;function Bm(n){const e=n.charCodeAt(0);return e>=Q4&&e<=Y4}function ll(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="__name__";class Gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Gr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return He(e.length,t.length)}static compareSegments(e,t){const r=Gr.isNumericId(e),i=Gr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):gg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pi.fromString(e.substring(4,e.length-2))}}class it extends Gr{construct(e,t,r){return new it(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const X4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Gr{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return X4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hx}static keyField(){return new Yt([Hx])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(it.fromString(e))}static fromName(e){return new Ie(it.fromString(e).popFirst(5))}static empty(){return new Ie(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,e,t){if(!t)throw new fe(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function J4(n,e,t,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qx(n){if(!Ie.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kx(n){if(Ie.isDocumentKey(n))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function OT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(n);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Z4(n,e){if(e<=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n,e){const t={typeString:n};return e&&(t.value=e),t}function fu(n,e){if(!OT(n))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(i&&typeof u!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=-62135596800,Yx=1e6;class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yx);return new Be(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qx)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yx}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fu(e,Be._jsonSchema))return new Be(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:Dt("string",Be._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new Be(0,0))}static max(){return new Me(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=-1;function eM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Be(t+1,0):new Be(t,r));return new Vi(i,Ie.empty(),e)}function tM(n){return new Vi(n.readTime,n.key,Kc)}class Vi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vi(Me.min(),Ie.empty(),Kc)}static max(){return new Vi(Me.max(),Ie.empty(),Kc)}}function nM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==rM)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,r)=>{t(e)}))}static reject(e){return new ie(((t,r)=>{r(e)}))}static waitFor(e){return new ie(((t,r)=>{let i=0,a=0,u=!1;e.forEach((h=>{++i,h.next((()=>{++a,u&&a===i&&t()}),(p=>r(p)))})),u=!0,a===i&&t()}))}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next((i=>i?ie.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,a)=>{r.push(t.call(this,i,a))})),this.waitFor(r)}static mapArray(e,t){return new ie(((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let p=0;p<a;p++){const m=p;t(e[m]).next((y=>{u[m]=y,++h,h===a&&r(u)}),(y=>i(y)))}}))}static doWhile(e,t){return new ie(((r,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):r()};a()}))}}function iM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_f.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-1;function xf(n){return n==null}function Nh(n){return n===0&&1/n==-1/0}function oM(n){return typeof n=="number"&&Number.isInteger(n)&&!Nh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function aM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xx(e)),e=lM(n.get(t),e);return Xx(e)}function lM(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case LT:t+="";break;default:t+=a}}return t}function Xx(n){return n+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Kt.RED,this.left=i??Kt.EMPTY,this.right=a??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Kt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zx(this.data.getIterator())}getIteratorFrom(e){return new Zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class Zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Vt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FT("Invalid base64 string: "+a):a}})(e);return new Zt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a})(e);return new Zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const cM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=cM.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ui(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="server_timestamp",zT="__type__",$T="__previous_value__",BT="__local_write_time__";function _y(n){return(n?.mapValue?.fields||{})[zT]?.stringValue===UT}function Ef(n){const e=n.mapValue.fields[$T];return _y(e)?Ef(e):e}function Qc(n){const e=Fi(n.mapValue.fields[BT].timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t,r,i,a,u,h,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Ah="(default)";class Yc{constructor(e,t){this.projectId=e,this.database=t||Ah}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",dM="__max__",Jd={mapValue:{}},WT="__vector__",kh="value";function zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_y(n)?4:fM(n)?9007199254740991:hM(n)?10:11:Re(28295,{value:n})}function is(n,e){if(n===e)return!0;const t=zi(n);if(t!==zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qc(n).isEqual(Qc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Fi(i.timestampValue),h=Fi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,a){return Ui(i.bytesValue).isEqual(Ui(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)})(n,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=St(i.doubleValue),h=St(a.doubleValue);return u===h?Nh(u)===Nh(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return ll(n.arrayValue.values||[],e.arrayValue.values||[],is);case 10:case 11:return(function(i,a){const u=i.mapValue.fields||{},h=a.mapValue.fields||{};if(Jx(u)!==Jx(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!is(u[p],h[p])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Xc(n,e){return(n.values||[]).find((t=>is(t,e)))!==void 0}function cl(n,e){if(n===e)return 0;const t=zi(n),r=zi(e);if(t!==r)return He(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const h=St(a.integerValue||a.doubleValue),p=St(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return e0(n.timestampValue,e.timestampValue);case 4:return e0(Qc(n),Qc(e));case 5:return gg(n.stringValue,e.stringValue);case 6:return(function(a,u){const h=Ui(a),p=Ui(u);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const h=a.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=He(h[m],p[m]);if(y!==0)return y}return He(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const h=He(St(a.latitude),St(u.latitude));return h!==0?h:He(St(a.longitude),St(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return t0(n.arrayValue,e.arrayValue);case 10:return(function(a,u){const h=a.fields||{},p=u.fields||{},m=h[kh]?.arrayValue,y=p[kh]?.arrayValue,v=He(m?.values?.length||0,y?.values?.length||0);return v!==0?v:t0(m,y)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Jd.mapValue&&u===Jd.mapValue)return 0;if(a===Jd.mapValue)return 1;if(u===Jd.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const x=gg(p[v],y[v]);if(x!==0)return x;const T=cl(h[p[v]],m[y[v]]);if(T!==0)return T}return He(p.length,y.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function e0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=Fi(n),r=Fi(e),i=He(t.seconds,r.seconds);return i!==0?i:He(t.nanos,r.nanos)}function t0(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=cl(t[i],r[i]);if(a)return a}return He(t.length,r.length)}function ul(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Fi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=yg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${yg(t.fields[u])}`;return i+"}"})(n.mapValue):Re(61005,{value:n})}function dh(n){switch(zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(n);return e?16+dh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+dh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Wi(r.fields,((a,u)=>{i+=a.length+dh(u)})),i})(n.mapValue);default:throw Re(13486,{value:n})}}function n0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vg(n){return!!n&&"integerValue"in n}function xy(n){return!!n&&"arrayValue"in n}function r0(n){return!!n&&"nullValue"in n}function s0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hh(n){return!!n&&"mapValue"in n}function hM(n){return(n?.mapValue?.fields||{})[GT]?.stringValue===WT}function Pc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Pc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pc(n.arrayValue.values[t]);return e}return{...n}}function fM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Pc(u):i.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Wi(t,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Tn(Pc(this.value))}}function HT(n){const e=[];return Wi(n.fields,((t,r)=>{const i=new Yt([t]);if(hh(r)){const a=HT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)})),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,i,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,Me.min(),Me.min(),Me.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new cn(e,1,t,Me.min(),r,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Me.min(),Me.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Me.min(),Me.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function i0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(u.referenceValue),t.key):r=cl(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function o0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!is(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function pM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class jt extends qT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gM(e,t,r):t==="array-contains"?new wM(e,r):t==="in"?new _M(e,r):t==="not-in"?new xM(e,r):t==="array-contains-any"?new EM(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new yM(e,r):new vM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(cl(t,this.value)):t!==null&&zi(this.value)===zi(t)&&this.matchesComparison(cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends qT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vr(e,t)}matches(e){return KT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(n){return n.op==="and"}function QT(n){return mM(n)&&KT(n)}function mM(n){for(const e of n.filters)if(e instanceof vr)return!1;return!0}function wg(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+ul(n.value);if(QT(n))return n.filters.map((e=>wg(e))).join(",");{const e=n.filters.map((t=>wg(t))).join(",");return`${n.op}(${e})`}}function YT(n,e){return n instanceof jt?(function(r,i){return i instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&is(r.value,i.value)})(n,e):n instanceof vr?(function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,u,h)=>a&&YT(u,i.filters[h])),!0):!1})(n,e):void Re(19439)}function XT(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ul(t.value)}`})(n):n instanceof vr?(function(t){return t.op.toString()+" {"+t.getFilters().map(XT).join(" ,")+"}"})(n):"Filter"}class gM extends jt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class yM extends jt{constructor(e,t){super(e,"in",t),this.keys=JT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class vM extends jt{constructor(e,t){super(e,"not-in",t),this.keys=JT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function JT(n,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class wM extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xy(t)&&Xc(t.arrayValue,this.value)}}class _M extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xc(this.value.arrayValue,t)}}class xM extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xc(this.value.arrayValue,t)}}class EM extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Xc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function a0(n,e=null,t=[],r=[],i=null,a=null,u=null){return new TM(n,e,t,r,i,a,u)}function Ey(n){const e=Ve(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>wg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ul(r))).join(",")),e.Te=t}return e.Te}function Ty(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!YT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o0(n.startAt,e.startAt)&&o0(n.endAt,e.endAt)}function _g(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bM(n,e,t,r,i,a,u,h){return new Sl(n,e,t,r,i,a,u,h)}function by(n){return new Sl(n)}function l0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZT(n){return n.collectionGroup!==null}function jc(n){const e=Ve(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Vt(Yt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Jc(a,r))})),t.has(Yt.keyField().canonicalString())||e.Ie.push(new Jc(Yt.keyField(),r))}return e.Ie}function Yr(n){const e=Ve(n);return e.Ee||(e.Ee=SM(e,jc(n))),e.Ee}function SM(n,e){if(n.limitType==="F")return a0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Jc(i.field,a)}));const t=n.endAt?new Rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rh(n.startAt.position,n.startAt.inclusive):null;return a0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function xg(n,e){const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ph(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tf(n,e){return Ty(Yr(n),Yr(e))&&n.limitType===e.limitType}function eb(n){return`${Ey(Yr(n))}|lt:${n.limitType}`}function za(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>XT(i))).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>ul(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>ul(i))).join(",")),`Target(${r})`})(Yr(n))}; limitType=${n.limitType})`}function bf(n,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,i){for(const a of jc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(u,h,p){const m=i0(u,h,p);return u.inclusive?m<=0:m<0})(r.startAt,jc(r),i)||r.endAt&&!(function(u,h,p){const m=i0(u,h,p);return u.inclusive?m>=0:m>0})(r.endAt,jc(r),i))})(n,e)}function IM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tb(n){return(e,t)=>{let r=!1;for(const i of jc(n)){const a=CM(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function CM(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(a,u,h){const p=u.data.field(a),m=h.data.field(a);return p!==null&&m!==null?cl(p,m):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,((t,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new mt(Ie.comparator);function Fs(){return NM}const nb=new mt(Ie.comparator);function Nc(...n){let e=nb;for(const t of n)e=e.insert(t.key,t);return e}function rb(n){let e=nb;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Co(){return Dc()}function sb(){return Dc()}function Dc(){return new Go((n=>n.toString()),((n,e)=>n.isEqual(e)))}const AM=new mt(Ie.comparator),kM=new Vt(Ie.comparator);function qe(...n){let e=kM;for(const t of n)e=e.add(t);return e}const RM=new Vt(He);function PM(){return RM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function ib(n){return{integerValue:""+n}}function jM(n,e){return oM(e)?ib(e):Sy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function DM(n,e,t){return n instanceof jh?(function(i,a){const u={fields:{[zT]:{stringValue:UT},[BT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&_y(a)&&(a=Ef(a)),a&&(u.fields[$T]=a),{mapValue:u}})(t,e):n instanceof Zc?ab(n,e):n instanceof eu?lb(n,e):(function(i,a){const u=ob(i,a),h=c0(u)+c0(i.Ae);return vg(u)&&vg(i.Ae)?ib(h):Sy(i.serializer,h)})(n,e)}function MM(n,e,t){return n instanceof Zc?ab(n,e):n instanceof eu?lb(n,e):t}function ob(n,e){return n instanceof Dh?(function(r){return vg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class jh extends Sf{}class Zc extends Sf{constructor(e){super(),this.elements=e}}function ab(n,e){const t=cb(e);for(const r of n.elements)t.some((i=>is(i,r)))||t.push(r);return{arrayValue:{values:t}}}class eu extends Sf{constructor(e){super(),this.elements=e}}function lb(n,e){let t=cb(e);for(const r of n.elements)t=t.filter((i=>!is(i,r)));return{arrayValue:{values:t}}}class Dh extends Sf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function c0(n){return St(n.integerValue||n.doubleValue)}function cb(n){return xy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OM(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Zc&&i instanceof Zc||r instanceof eu&&i instanceof eu?ll(r.elements,i.elements,is):r instanceof Dh&&i instanceof Dh?is(r.Ae,i.Ae):r instanceof jh&&i instanceof jh})(n.transform,e.transform)}class LM{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class If{}function ub(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Iy(n.key,tr.none()):new pu(n.key,n.data,tr.none());{const t=n.data,r=Tn.empty();let i=new Vt(Yt.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Hi(n.key,r,new Ln(i.toArray()),tr.none())}}function VM(n,e,t){n instanceof pu?(function(i,a,u){const h=i.value.clone(),p=d0(i.fieldTransforms,a,u.transformResults);h.setAll(p),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Hi?(function(i,a,u){if(!fh(i.precondition,a))return void a.convertToUnknownDocument(u.version);const h=d0(i.fieldTransforms,a,u.transformResults),p=a.data;p.setAll(db(i)),p.setAll(h),a.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):(function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Mc(n,e,t,r){return n instanceof pu?(function(a,u,h,p){if(!fh(a.precondition,u))return h;const m=a.value.clone(),y=h0(a.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Hi?(function(a,u,h,p){if(!fh(a.precondition,u))return h;const m=h0(a.fieldTransforms,p,u),y=u.data;return y.setAll(db(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(a,u,h){return fh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function FM(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=ob(r.transform,i||null);a!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,a))}return t||null}function u0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,((a,u)=>OM(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pu extends If{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends If{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function db(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function d0(n,e,t){const r=new Map;tt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,MM(u,h,t[i]))}return r}function h0(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,DM(a,u,e))}return r}class Iy extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UM extends If{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VM(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=sb();return this.mutations.forEach((i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const p=ub(u,h);p!==null&&r.set(i.key,p),u.isValidDocument()||u.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((t,r)=>u0(t,r)))&&ll(this.baseMutations,e.baseMutations,((t,r)=>u0(t,r)))}}class Cy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return AM})();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Cy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $M=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ye;function GM(n){switch(n){case ne.OK:return Re(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function hb(n){if(n===void 0)return Vs("GRPC error has no .code"),ne.UNKNOWN;switch(n){case Pt.OK:return ne.OK;case Pt.CANCELLED:return ne.CANCELLED;case Pt.UNKNOWN:return ne.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ne.INTERNAL;case Pt.UNAVAILABLE:return ne.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ne.NOT_FOUND;case Pt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Pt.ABORTED:return ne.ABORTED;case Pt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Pt.DATA_LOSS:return ne.DATA_LOSS;default:return Re(39323,{code:n})}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new Pi([4294967295,4294967295],0);function f0(n){const e=WM().encode(n),t=new CT;return t.update(e),new Uint8Array(t.digest())}function p0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Pi([t,r],0),new Pi([i,a],0)]}class Ny{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Pi.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Pi.fromNumber(r)));return i.compare(HM)===1&&(i=new Pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=f0(e),[r,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ny(a,i,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=f0(e),[r,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cf(Me.min(),i,new mt(He),Fs(),qe())}}class mu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mu(r,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class fb{constructor(e,t){this.targetId=e,this.Ce=t}}class pb{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class m0{constructor(){this.ve=0,this.Fe=g0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),r=qe();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Re(38017,{changeType:a})}})),new mu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=g0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fs(),this.Je=Zd(),this.He=Zd(),this.Ye=new mt(He)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(_g(a))if(r===0){const u=new Ie(a.path);this.et(t,u,cn.newNoDocument(u,Me.min()))}else tt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let u,h;try{u=Ui(r).toUint8Array()}catch(p){if(p instanceof FT)return al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Ny(u,i,a)}catch(p){return al(p instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const h=this.ot(u);if(h){if(a.current&&_g(h.target)){const p=new Ie(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,cn.newNoDocument(p,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=qe();this.He.forEach(((a,u)=>{let h=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const i=new Cf(e,t,this.Ye,this.je,r);return this.je=Fs(),this.Je=Zd(),this.He=Zd(),this.Ye=new mt(He),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new m0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(He),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(He),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new m0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zd(){return new mt(Ie.comparator)}function g0(){return new mt(Ie.comparator)}const KM={asc:"ASCENDING",desc:"DESCENDING"},QM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YM={and:"AND",or:"OR"};class XM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function Mh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function JM(n,e){return Mh(n,e.toTimestamp())}function Xr(n){return tt(!!n,49232),Me.fromTimestamp((function(t){const r=Fi(t);return new Be(r.seconds,r.nanos)})(n))}function Ay(n,e){return Tg(n,e).canonicalString()}function Tg(n,e){const t=(function(i){return new it(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gb(n){const e=it.fromString(n);return tt(xb(e),10190,{key:e.toString()}),e}function bg(n,e){return Ay(n.databaseId,e.path)}function Gm(n,e){const t=gb(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(vb(t))}function yb(n,e){return Ay(n.databaseId,e)}function ZM(n){const e=gb(n);return e.length===4?it.emptyPath():vb(e)}function Sg(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vb(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function y0(n,e,t){return{name:bg(n,e),fields:t.value.mapValue.fields}}function eO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(tt(y===void 0||typeof y=="string",58123),Zt.fromBase64String(y||"")):(tt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Zt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?ne.UNKNOWN:hb(m.code);return new fe(y,m.message||"")})(u);t=new pb(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gm(n,r.document.name),a=Xr(r.document.updateTime),u=r.document.createTime?Xr(r.document.createTime):Me.min(),h=new Tn({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(i,a,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new ph(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gm(n,r.document),a=r.readTime?Xr(r.readTime):Me.min(),u=cn.newNoDocument(i,a),h=r.removedTargetIds||[];t=new ph([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gm(n,r.document),a=r.removedTargetIds||[];t=new ph([],a,i,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new BM(i,a),h=r.targetId;t=new fb(h,u)}}return t}function tO(n,e){let t;if(e instanceof pu)t={update:y0(n,e.key,e.value)};else if(e instanceof Iy)t={delete:bg(n,e.key)};else if(e instanceof Hi)t={update:y0(n,e.key,e.data),updateMask:uO(e.fieldMask)};else{if(!(e instanceof UM))return Re(16599,{Vt:e.type});t={verify:bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const h=u.transform;if(h instanceof jh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof eu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Dh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Re(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:JM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)})(n,e.precondition)),t}function nO(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map((t=>(function(i,a){let u=i.updateTime?Xr(i.updateTime):Xr(a);return u.isEqual(Me.min())&&(u=Xr(a)),new LM(u,i.transformResults||[])})(t,e)))):[]}function rO(n,e){return{documents:[yb(n,e.path)]}}function sO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yb(n,i);const a=(function(m){if(m.length!==0)return _b(vr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:$a(x.field),direction:aO(x.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Eg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:i}}function iO(n){let e=ZM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){tt(r===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(v){const x=wb(v);return x instanceof vr&&QT(x)?x.getFilters():[x]})(t.where));let u=[];t.orderBy&&(u=(function(v){return v.map((x=>(function(C){return new Jc(Ba(C.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,xf(x)?null:x})(t.limit));let p=null;t.startAt&&(p=(function(v){const x=!!v.before,T=v.values||[];return new Rh(T,x)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const x=!v.before,T=v.values||[];return new Rh(T,x)})(t.endAt)),bM(e,i,u,a,h,"F",p,m)}function oO(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ba(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ba(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ba(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Ba(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vr.create(t.compositeFilter.filters.map((r=>wb(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function aO(n){return KM[n]}function lO(n){return QM[n]}function cO(n){return YM[n]}function $a(n){return{fieldPath:n.canonicalString()}}function Ba(n){return Yt.fromServerFormat(n.fieldPath)}function _b(n){return n instanceof jt?(function(t){if(t.op==="=="){if(s0(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NAN"}};if(r0(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(s0(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NAN"}};if(r0(t.value))return{unaryFilter:{field:$a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(t.field),op:lO(t.op),value:t.value}}})(n):n instanceof vr?(function(t){const r=t.getFilters().map((i=>_b(i)));return r.length===1?r[0]:{compositeFilter:{op:cO(t.op),filters:r}}})(n):Re(54877,{filter:n})}function uO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,r,i,a=Me.min(),u=Me.min(),h=Zt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.yt=e}}function hO(n){const e=iO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.Cn=new pO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Vi.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class pO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vt(it.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eb=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(Eb,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="LruGarbageCollector",mO=1048576;function _0([n,e],[t,r]){const i=He(n,t);return i===0?He(e,r):i}class gO{constructor(e){this.Ir=e,this.buffer=new Vt(_0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(w0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){bl(t)?ve(w0,"Ignoring IndexedDB error during garbage collection: ",t):await Tl(t)}await this.Vr(3e5)}))}}class vO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(_f.ce);const r=new gO(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(v0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,a,u,h,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,u=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(a=v,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Ua()<=We.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function wO(n,e){return new vO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.changes=new Go((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Mc(r.mutation,i,Ln.empty(),Be.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,qe()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=qe()){const i=Co();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((a=>{let u=Nc();return a.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Co();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,qe())))}populateOverlays(e,t,r){const i=[];return r.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,i){let a=Fs();const u=Dc(),h=(function(){return Dc()})();return t.forEach(((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof Hi)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Mc(y.mutation,m,y.mutation.getFieldMask(),Be.now())):u.set(m.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new xO(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Dc();let i=new mt(((u,h)=>u-h)),a=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let y=r.get(p)||Ln.empty();y=h.applyToLocalView(m,y),r.set(p,y);const v=(i.get(h.batchId)||qe()).add(p);i=i.insert(h.batchId,v)}))})).next((()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,v=sb();y.forEach((x=>{if(!a.has(x)){const T=ub(t.get(x),r.get(x));T!==null&&v.set(x,T),a=a.add(x)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(Co());let h=Kc,p=a;return u.next((m=>ie.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),a.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{p=p.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,qe()))).next((y=>({batchId:h,changes:rb(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((r=>{let i=Nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let u=Nc();return this.indexManager.getCollectionParents(e,a).next((h=>ie.forEach(h,(p=>{const m=(function(v,x){return new Sl(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((y=>{y.forEach(((v,x)=>{u=u.insert(v,x)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i)))).next((u=>{a.forEach(((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,cn.newInvalidDocument(y)))}));let h=Nc();return u.forEach(((p,m)=>{const y=a.get(p);y!==void 0&&Mc(y.mutation,m,Ln.empty(),Be.now()),bf(t,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Xr(i.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:hO(i.bundledQuery),readTime:Xr(i.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.overlays=new mt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Co();return ie.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,a)=>{this.St(e,t,a)})),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=Co(),a=t.length+1,u=new Ie(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new mt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Co(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Co(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=i)););return ie.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $M(t,r));let a=this.qr.get(t);a===void 0&&(a=qe(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(){this.Qr=new Vt($t.$r),this.Ur=new Vt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $t(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ie(new it([])),r=new $t(t,e),i=new $t(t,e+1),a=[];return this.Ur.forEachInRange([r,i],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new it([])),r=new $t(t,e),i=new $t(t,e+1);let a=qe();return this.Ur.forEachInRange([r,i],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new $t(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||He(e.Yr,t.Yr)}static Kr(e,t){return He(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt($t.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new zM(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Zr=this.Zr.add(new $t(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?wy:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(u=>{const h=this.Xr(u.Yr);a.push(h)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(He);return t.forEach((i=>{const a=new $t(i,0),u=new $t(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(h=>{r=r.add(h.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const u=new $t(new Ie(a),0);let h=new Vt(He);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(h=h.add(p.Yr)),!0)}),u),ie.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){tt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(t.mutations,(i=>{const a=new $t(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $t(t,0),i=this.Zr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.ri=e,this.docs=(function(){return new mt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=Fs();return t.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))})),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Fs();const u=t.path,h=new Ie(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||nM(tM(y),r)<=0||(i.has(y.key)||bf(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Re(9500)}ii(e,t){return ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new NO(this)}getSize(e){return ie.resolve(this.size)}}class NO extends _O{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.persistence=e,this.si=new Go((t=>Ey(t)),Ty),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new ky,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),ie.waitFor(a).next((()=>i))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((u=>{a.push(i.markPotentiallyOrphaned(e,u))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.ui={},this.overlays={},this.ci=new _f(0),this.li=!1,this.li=!0,this.hi=new SO,this.referenceDelegate=e(this),this.Pi=new AO(this),this.indexManager=new fO,this.remoteDocumentCache=(function(i){return new CO(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new dO(t),this.Ii=new TO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new IO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const i=new kO(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class kO extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Ri=new ky,this.Vi=null}static mi(e){return new Ry(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const i=Ie.fromPath(r);return this.gi(e,i).next((a=>{a||t.removeEntry(i,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Oh{constructor(e,t){this.persistence=e,this.pi=new Go((r=>aM(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=wO(this,t)}static mi(e,t){return new Oh(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?ie.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,a.removeEntry(u,Me.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dh(e.data.value)),t}br(e,t,r){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=qe(),i=qe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Py(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bD()?8:iM(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,i,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new RO;return this.Ss(e,t,u).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>a.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Ua()<=We.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Ua()<=We.DEBUG&&ve("QueryEngine","Query:",za(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ua()<=We.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(t))):ie.resolve())}ys(e,t){if(l0(t))return ie.resolve(null);let r=Yr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Ph(t,null,"F"),r=Yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=qe(...a);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(t,h);return this.Cs(t,m,u,p.readTime)?this.ys(e,Ph(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,r,i){return l0(t)||i.isEqual(Me.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,i)?ie.resolve(null):(Ua()<=We.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(t)),this.vs(e,u,t,eM(i,Kc)).next((h=>h)))}))}Ds(e,t){let r=new Vt(tb(e));return t.forEach(((i,a)=>{bf(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Ua()<=We.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",za(t)),this.ps.getDocumentsMatchingQuery(e,t,Vi.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",jO=3e8;class DO{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new mt(He),this.xs=new Go((a=>Ey(a)),Ty),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function MO(n,e,t,r){return new DO(n,e,t,r)}async function bb(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],h=[];let p=qe();for(const m of i){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of a){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function OO(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const v=m.batch,x=v.keys();let T=ie.resolve();return x.forEach((C=>{T=T.next((()=>y.getEntry(p,C))).next((A=>{const k=m.docVersions.get(C);tt(k!==null,48541),A.version.compareTo(k)<0&&(v.applyToRemoteDocument(A,m),A.isValidDocument()&&(A.setReadTime(m.commitVersion),y.addEntry(A)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=qe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Sb(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function LO(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const x=i.get(v);if(!x)return;h.push(t.Pi.removeMatchingKeys(a,y.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,y.addedDocuments,v))));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Zt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,r)),i=i.insert(v,T),(function(A,k,M){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=jO?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(x,T,y)&&h.push(t.Pi.updateTargetData(a,T))}));let p=Fs(),m=qe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),h.push(VO(a,u,e.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!r.isEqual(Me.min())){const y=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(y)}return ie.waitFor(h).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(t.Ms=i,a)))}function VO(n,e,t){let r=qe(),i=qe();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=Fs();return t.forEach(((h,p)=>{const m=a.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(Me.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):ve(jy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{ks:u,qs:i}}))}function FO(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function UO(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((a=>a?(i=a,ie.resolve(i)):t.Pi.allocateTargetId(r).next((u=>(i=new Ni(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Ig(n,e,t){const r=Ve(n),i=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!bl(u))throw u;ve(jy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function x0(n,e,t){const r=Ve(n);let i=Me.min(),a=qe();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,y){const v=Ve(p),x=v.xs.get(y);return x!==void 0?ie.resolve(v.Ms.get(x)):v.Pi.getTargetData(m,y)})(r,u,Yr(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?i:Me.min(),t?a:qe()))).next((h=>(zO(r,IM(e),h),{documents:h,Qs:a})))))}function zO(n,e,t){let r=n.Os.get(e)||Me.min();t.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class E0{constructor(){this.activeTargetIds=PM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $O{constructor(){this.Mo=new E0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="ConnectivityMonitor";class b0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(T0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(T0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Cg(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",GO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ah?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,a){const u=Cg(),h=this.zo(e,t.toUriEncodedString());ve(Wm,`Sending RPC '${e}' ${u}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:m}=new URL(h),y=Gi(m);return this.Jo(e,h,p,r,y).then((v=>(ve(Wm,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw al(Wm,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,t,r,i,a,u){return this.Go(e,t,r,i,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const r=GO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class qO extends WO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const u=Cg();return new Promise(((h,p)=>{const m=new NT;m.setWithCredentials(!0),m.listenOnce(AT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case uh.NO_ERROR:const v=m.getResponseJson();ve(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case uh.TIMEOUT:ve(an,`RPC '${e}' ${u} timed out`),p(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const x=m.getStatus();if(ve(an,`RPC '${e}' ${u} failed with status:`,x,"response text:",m.getResponseText()),x>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T?.error;if(C&&C.status&&C.message){const A=(function(M){const W=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(C.status);p(new fe(A,C.message))}else p(new fe(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(an,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(i);ve(an,`RPC '${e}' ${u} sending request:`,i),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const i=Cg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=PT(),h=RT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=a.join("");ve(an,`Creating RPC '${e}' stream ${i}: ${y}`,p);const v=u.createWebChannel(y,p);this.I_(v);let x=!1,T=!1;const C=new HO({Yo:k=>{T?ve(an,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(x||(ve(an,`Opening RPC '${e}' stream ${i} transport.`),v.open(),x=!0),ve(an,`RPC '${e}' stream ${i} sending:`,k),v.send(k))},Zo:()=>v.close()}),A=(k,M,W)=>{k.listen(M,($=>{try{W($)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(v,Cc.EventType.OPEN,(()=>{T||(ve(an,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),A(v,Cc.EventType.CLOSE,(()=>{T||(T=!0,ve(an,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(v))})),A(v,Cc.EventType.ERROR,(k=>{T||(T=!0,al(an,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),C.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),A(v,Cc.EventType.MESSAGE,(k=>{if(!T){const M=k.data[0];tt(!!M,16349);const W=M,$=W?.error||W[0]?.error;if($){ve(an,`RPC '${e}' stream ${i} received error:`,$);const B=$.status;let K=(function(b){const j=Pt[b];if(j!==void 0)return hb(j)})(B),ee=$.message;K===void 0&&(K=ne.INTERNAL,ee="Unknown error status: "+B+" with message "+$.message),T=!0,C.a_(new fe(K,ee)),v.close()}else ve(an,`RPC '${e}' stream ${i} received:`,M),C.u_(M)}})),A(h,kT.STAT_EVENT,(k=>{k.stat===mg.PROXY?ve(an,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===mg.NOPROXY&&ve(an,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n){return new XM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class Cb{constructor(e,t,r,i,a,u,h,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ib(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Vs(t.toString()),Vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KO extends Cb{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=eO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Me.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Me.min():u.readTime?Xr(u.readTime):Me.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Sg(this.serializer),t.addTarget=(function(a,u){let h;const p=u.target;if(h=_g(p)?{documents:rO(a,p)}:{query:sO(a,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=mb(a,u.resumeToken);const m=Eg(a,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Me.min())>0){h.readTime=Mh(a,u.snapshotVersion.toTimestamp());const m=Eg(a,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=oO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Sg(this.serializer),t.removeTarget=e,this.q_(t)}}class QO extends Cb{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=nO(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Sg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>tO(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{}class XO extends YO{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,Tg(t,r),i,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ne.UNKNOWN,a.toString())}))}Ho(e,t,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Tg(t,r),i,u,h,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Vs(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class ZO{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Wo(this)&&(ve(Mo,"Restarting streams for network reachability change."),await(async function(p){const m=Ve(p);m.Ea.add(4),await gu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Af(m)})(this))}))})),this.Ra=new JO(r,i)}}async function Af(n){if(Wo(n))for(const e of n.da)await e(!0)}async function gu(n){for(const e of n.da)await e(!1)}function Nb(n,e){const t=Ve(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ly(t)?Oy(t):Il(t).O_()&&My(t,e))}function Dy(n,e){const t=Ve(n),r=Il(t);t.Ia.delete(e),r.O_()&&Ab(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wo(t)&&t.Ra.set("Unknown"))}function My(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Il(n).Y_(e)}function Ab(n,e){n.Va.Ue(e),Il(n).Z_(e)}function Oy(n){n.Va=new qM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Il(n).start(),n.Ra.ua()}function Ly(n){return Wo(n)&&!Il(n).x_()&&n.Ia.size>0}function Wo(n){return Ve(n).Ea.size===0}function kb(n){n.Va=void 0}async function eL(n){n.Ra.set("Online")}async function tL(n){n.Ia.forEach(((e,t)=>{My(n,e)}))}async function nL(n,e){kb(n),Ly(n)?(n.Ra.ha(e),Oy(n)):n.Ra.set("Unknown")}async function rL(n,e,t){if(n.Ra.set("Online"),e instanceof pb&&e.state===2&&e.cause)try{await(async function(i,a){const u=a.cause;for(const h of a.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){ve(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lh(n,r)}else if(e instanceof ph?n.Va.Ze(e):e instanceof fb?n.Va.st(e):n.Va.tt(e),!t.isEqual(Me.min()))try{const r=await Sb(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,m)=>{const y=a.Ia.get(p);if(!y)return;a.Ia.set(p,y.withResumeToken(Zt.EMPTY_BYTE_STRING,y.snapshotVersion)),Ab(a,p);const v=new Ni(y.target,p,m,y.sequenceNumber);My(a,v)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){ve(Mo,"Failed to raise snapshot:",r),await Lh(n,r)}}async function Lh(n,e,t){if(!bl(e))throw e;n.Ea.add(1),await gu(n),n.Ra.set("Offline"),t||(t=()=>Sb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Mo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Af(n)}))}function Rb(n,e){return e().catch((t=>Lh(n,t,e)))}async function kf(n){const e=Ve(n),t=$i(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wy;for(;sL(e);)try{const i=await FO(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,iL(e,i)}catch(i){await Lh(e,i)}Pb(e)&&jb(e)}function sL(n){return Wo(n)&&n.Ta.length<10}function iL(n,e){n.Ta.push(e);const t=$i(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Pb(n){return Wo(n)&&!$i(n).x_()&&n.Ta.length>0}function jb(n){$i(n).start()}async function oL(n){$i(n).ra()}async function aL(n){const e=$i(n);for(const t of n.Ta)e.ea(t.mutations)}async function lL(n,e,t){const r=n.Ta.shift(),i=Cy.from(r,e,t);await Rb(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await kf(n)}async function cL(n,e){e&&$i(n).X_&&await(async function(r,i){if((function(u){return GM(u)&&u!==ne.ABORTED})(i.code)){const a=r.Ta.shift();$i(r).B_(),await Rb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await kf(r)}})(n,e),Pb(n)&&jb(n)}async function I0(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),ve(Mo,"RemoteStore received new credentials");const r=Wo(t);t.Ea.add(3),await gu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Af(t)}async function uL(n,e){const t=Ve(n);e?(t.Ea.delete(2),await Af(t)):e||(t.Ea.add(2),await gu(t),t.Ra.set("Unknown"))}function Il(n){return n.ma||(n.ma=(function(t,r,i){const a=Ve(t);return a.sa(),new KO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:eL.bind(null,n),t_:tL.bind(null,n),r_:nL.bind(null,n),H_:rL.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ly(n)?Oy(n):n.Ra.set("Unknown")):(await n.ma.stop(),kb(n))}))),n.ma}function $i(n){return n.fa||(n.fa=(function(t,r,i){const a=Ve(t);return a.sa(),new QO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:oL.bind(null,n),r_:cL.bind(null,n),ta:aL.bind(null,n),na:lL.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await kf(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Mo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new Vy(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,e){if(Vs("AsyncQueue",`${e}: ${n}`),bl(n))return new fe(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=Nc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.ga=new mt(Ie.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class hl{constructor(e,t,r,i,a,u,h,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new hl(e,t,Ka.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hL{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ve(t),a=i.queries;i.queries=N0(),a.forEach(((u,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function N0(){return new Go((n=>eb(n)),Tf)}async function Db(n,e){const t=Ve(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new dL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Fy(u,`Initialization of query '${za(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Uy(t)}async function Mb(n,e){const t=Ve(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function fL(n,e){const t=Ve(n);let r=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(i)&&(r=!0);u.wa=i}}r&&Uy(t)}function pL(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Uy(n){n.Ca.forEach((e=>{e.next()}))}var Ng,A0;(A0=Ng||(Ng={})).Ma="default",A0.Cache="cache";class Ob{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class mL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=tb(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new C0,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,v)=>{const x=i.get(y),T=bf(this.query,v)?v:null,C=!!x&&this.mutatedKeys.has(x.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;x&&T?x.data.isEqual(T.data)?C!==A&&(r.track({type:3,doc:T}),k=!0):this.su(x,T)||(r.track({type:2,doc:T}),k=!0,(p&&this.eu(T,p)>0||m&&this.eu(T,m)<0)&&(h=!0)):!x&&T?(r.track({type:0,doc:T}),k=!0):x&&!T&&(r.track({type:1,doc:x}),k=!0,(p||m)&&(h=!0)),k&&(T?(u=u.add(T),a=A?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(T,C){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:k})}};return A(T)-A(C)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,m=p!==this.Za;return this.Za=p,u.length!==0||m?{snapshot:new hl(this.query,e.tu,a,u,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Vb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Lb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zy="SyncEngine";class gL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class yL{constructor(e){this.key=e,this.hu=!1}}class vL{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Go((h=>eb(h)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Ie.comparator),this.Au=new Map,this.Ru=new ky,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wL(n,e,t=!0){const r=Gb(n);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Fb(r,e,t,!0),i}async function _L(n,e){const t=Gb(n);await Fb(t,e,!0,!1)}async function Fb(n,e,t,r){const i=await UO(n.localStore,Yr(e)),a=i.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await xL(n,e,a,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&Nb(n.remoteStore,i),h}async function xL(n,e,t,r,i){n.pu=(v,x,T)=>(async function(A,k,M,W){let $=k.view.ru(M);$.Cs&&($=await x0(A.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,$))));const B=W&&W.targetChanges.get(k.targetId),K=W&&W.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges($,A.isPrimaryClient,B,K);return R0(A,k.targetId,ee.au),ee.snapshot})(n,v,x,T);const a=await x0(n.localStore,e,!0),u=new mL(e,a.Qs),h=u.ru(a.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=u.applyChanges(h,n.isPrimaryClient,p);R0(n,t,m.au);const y=new gL(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function EL(n,e,t){const r=Ve(n),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((u=>!Tf(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ig(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Dy(r.remoteStore,i.targetId),Ag(r,i.targetId)})).catch(Tl)):(Ag(r,i.targetId),await Ig(r.localStore,i.targetId,!0))}async function TL(n,e){const t=Ve(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Dy(t.remoteStore,r.targetId))}async function bL(n,e,t){const r=RL(n);try{const i=await(function(u,h){const p=Ve(u),m=Be.now(),y=h.reduce(((T,C)=>T.add(C.key)),qe());let v,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let C=Fs(),A=qe();return p.Ns.getEntries(T,y).next((k=>{C=k,C.forEach(((M,W)=>{W.isValidDocument()||(A=A.add(M))}))})).next((()=>p.localDocuments.getOverlayedDocuments(T,C))).next((k=>{v=k;const M=[];for(const W of h){const $=FM(W,v.get(W.key).overlayedDocument);$!=null&&M.push(new Hi(W.key,$,HT($.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(T,m,M,h)})).next((k=>{x=k;const M=k.applyToLocalDocumentSet(v,A);return p.documentOverlayCache.saveOverlays(T,k.batchId,M)}))})).then((()=>({batchId:x.batchId,changes:rb(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(u,h,p){let m=u.Vu[u.currentUser.toKey()];m||(m=new mt(He)),m=m.insert(h,p),u.Vu[u.currentUser.toKey()]=m})(r,i.batchId,t),await yu(r,i.changes),await kf(r.remoteStore)}catch(i){const a=Fy(i,"Failed to persist write");t.reject(a)}}async function Ub(n,e){const t=Ve(n);try{const r=await LO(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const u=t.Au.get(a);u&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.hu=!0:i.modifiedDocuments.size>0?tt(u.hu,14607):i.removedDocuments.size>0&&(tt(u.hu,42227),u.hu=!1))})),await yu(t,r,e)}catch(r){await Tl(r)}}function k0(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((a,u)=>{const h=u.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(u,h){const p=Ve(u);p.onlineState=h;let m=!1;p.queries.forEach(((y,v)=>{for(const x of v.Sa)x.va(h)&&(m=!0)})),m&&Uy(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SL(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),a=i&&i.key;if(a){let u=new mt(Ie.comparator);u=u.insert(a,cn.newNoDocument(a,Me.min()));const h=qe().add(a),p=new Cf(Me.min(),new Map,new mt(He),u,h);await Ub(r,p),r.du=r.du.remove(a),r.Au.delete(e),$y(r)}else await Ig(r.localStore,e,!1).then((()=>Ag(r,e,t))).catch(Tl)}async function IL(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await OO(t.localStore,e);$b(t,r,null),zb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yu(t,i)}catch(i){await Tl(i)}}async function CL(n,e,t){const r=Ve(n);try{const i=await(function(u,h){const p=Ve(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((v=>(tt(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);$b(r,e,t),zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yu(r,i)}catch(i){await Tl(i)}}function zb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function $b(n,e,t){const r=Ve(n);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Bb(n,r)}))}function Bb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Dy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),$y(n))}function R0(n,e,t){for(const r of t)r instanceof Lb?(n.Ru.addReference(r.key,e),NL(n,r)):r instanceof Vb?(ve(zy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Bb(n,r.key)):Re(19791,{wu:r})}function NL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ve(zy,"New document in limbo: "+t),n.Eu.add(r),$y(n))}function $y(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(it.fromString(e)),r=n.fu.next();n.Au.set(r,new yL(t)),n.du=n.du.insert(t,r),Nb(n.remoteStore,new Ni(Yr(by(t.path)),r,"TargetPurposeLimboResolution",_f.ce))}}async function yu(n,e,t){const r=Ve(n),i=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{u.push(r.pu(p,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){i.push(m);const y=Py.As(p.targetId,m);a.push(y)}})))})),await Promise.all(u),r.Pu.H_(i),await(async function(p,m){const y=Ve(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ie.forEach(m,(x=>ie.forEach(x.Es,(T=>y.persistence.referenceDelegate.addReference(v,x.targetId,T))).next((()=>ie.forEach(x.ds,(T=>y.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))))))}catch(v){if(!bl(v))throw v;ve(jy,"Failed to update sequence numbers: "+v)}for(const v of m){const x=v.targetId;if(!v.fromCache){const T=y.Ms.get(x),C=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(x,A)}}})(r.localStore,a))}async function AL(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){ve(zy,"User change. New user:",e.toKey());const r=await bb(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((h=>{h.forEach((p=>{p.reject(new fe(ne.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(t,r.Ls)}}function kL(n,e){const t=Ve(n),r=t.Au.get(e);if(r&&r.hu)return qe().add(r.key);{let i=qe();const a=t.Iu.get(e);if(!a)return i;for(const u of a){const h=t.Tu.get(u);i=i.unionWith(h.view.nu)}return i}}function Gb(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SL.bind(null,e),e.Pu.H_=fL.bind(null,e.eventManager),e.Pu.yu=pL.bind(null,e.eventManager),e}function RL(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CL.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MO(this.persistence,new PO,e.initialUser,this.serializer)}Cu(e){return new Tb(Ry.mi,this.serializer)}Du(e){return new $O}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class PL extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){tt(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new Tb((r=>Oh.mi(r,t)),this.serializer)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await uL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hL})()}createDatastore(e){const t=Nf(e.databaseInfo.databaseId),r=(function(a){return new qO(a)})(e.databaseInfo);return(function(a,u,h,p){return new XO(a,u,h,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,a,u,h){return new ZO(r,i,a,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>k0(this.syncEngine,t,0)),(function(){return b0.v()?new b0:new BO})())}createSyncEngine(e,t){return(function(i,a,u,h,p,m,y){const v=new vL(i,a,u,h,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ve(t);ve(Mo,"RemoteStore shutting down."),r.Ea.add(5),await gu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class jL{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ve(Bi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ve(Bi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Fy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Bi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function P0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await DL(n);ve(Bi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>I0(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>I0(e.remoteStore,i))),n._onlineComponents=e}async function DL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Bi,"Using user provided OfflineComponentProvider");try{await qm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),await qm(n,new Vh)}}else ve(Bi,"Using default OfflineComponentProvider"),await qm(n,new PL(void 0));return n._offlineComponents}async function Hb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Bi,"Using user provided OnlineComponentProvider"),await P0(n,n._uninitializedComponentsProvider._online)):(ve(Bi,"Using default OnlineComponentProvider"),await P0(n,new kg))),n._onlineComponents}function ML(n){return Hb(n).then((e=>e.syncEngine))}async function qb(n){const e=await Hb(n),t=e.eventManager;return t.onListen=wL.bind(null,e.syncEngine),t.onUnlisten=EL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_L.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TL.bind(null,e.syncEngine),t}function OL(n,e,t={}){const r=new Ps;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,p,m){const y=new Wb({next:x=>{y.Nu(),u.enqueueAndForget((()=>Mb(a,v)));const T=x.docs.has(h);!T&&x.fromCache?m.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&p&&p.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Ob(by(h.path),y,{includeMetadataChanges:!0,qa:!0});return Db(a,v)})(await qb(n),n.asyncQueue,e,t,r))),r.promise}function LL(n,e,t={}){const r=new Ps;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,h,p,m){const y=new Wb({next:x=>{y.Nu(),u.enqueueAndForget((()=>Mb(a,v))),x.fromCache&&p.source==="server"?m.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),v=new Ob(h,y,{includeMetadataChanges:!0,qa:!0});return Db(a,v)})(await qb(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firestore.googleapis.com",D0=!0;class M0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qb,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mO)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new $4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=j0.get(t);r&&(ve("ComponentProvider","Removing Datastore"),j0.delete(t),r.terminate())})(this),Promise.resolve()}}function VL(n,e,t,r={}){n=yr(n,Rf);const i=Gi(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(hy(`https://${h}`),fy("Firestore",!0)),a.host!==Qb&&a.host!==h&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:h,ssl:i,emulatorOptions:r};if(!Po(p,u)&&(n._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=ln.MOCK_USER;else{m=xT(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(v)}n._authCredentials=new B4(new DT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(fu(t,Ct._jsonSchema))return new Ct(e,r||null,new Ie(it.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Dt("string",Ct._jsonSchemaVersion),referencePath:Dt("string")};class ji extends qi{constructor(e,t,r){super(e,t,by(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new Ie(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function Ns(n,e,...t){if(n=ut(n),MT("collection","path",e),n instanceof Rf){const r=it.fromString(e,...t);return Kx(r),new ji(n,null,r)}{if(!(n instanceof Ct||n instanceof ji))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return Kx(r),new ji(n.firestore,null,r)}}function As(n,e,...t){if(n=ut(n),arguments.length===1&&(e=vy.newId()),MT("doc","path",e),n instanceof Rf){const r=it.fromString(e,...t);return qx(r),new Ct(n,null,new Ie(r))}{if(!(n instanceof Ct||n instanceof ji))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(it.fromString(e,...t));return qx(r),new Ct(n.firestore,n instanceof ji?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ib(this,"async_queue_retry"),this._c=()=>{const r=Hm();r&&ve(O0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ps;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;ve(O0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Vs("INTERNAL UNHANDLED ERROR: ",V0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Vy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Re(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function V0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ho extends Rf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new L0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function FL(n,e){const t=typeof n=="object"?n:gy(),r=typeof n=="string"?n:Ah,i=vf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=vT("firestore");a&&VL(i,...a)}return i}function By(n){if(n._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UL(n),n._firestoreClient}function UL(n){const e=n._freezeSettings(),t=(function(i,a,u,h){return new uM(i,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Kb(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new jL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Zt.fromBase64String(e))}catch(t){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fu(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Dt("string",Xn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jr._jsonSchemaVersion}}static fromJSON(e){if(fu(e,Jr._jsonSchema))return new Jr(e.latitude,e.longitude)}}Jr._jsonSchemaVersion="firestore/geoPoint/1.0",Jr._jsonSchema={type:Dt("string",Jr._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fu(e,Zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Zr(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zr._jsonSchemaVersion="firestore/vectorValue/1.0",Zr._jsonSchema={type:Dt("string",Zr._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=/^__.*__$/;class $L{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}class Yb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class Wy{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xb(this.Ac)&&zL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nf(e)}Cc(e,t,r,i=!1){return new Wy({Ac:e,methodName:t,Dc:r,path:Yt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(n){const e=n._freezeSettings(),t=Nf(n._databaseId);return new BL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Jb(n,e,t,r,i,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,i);Hy("Data must be an object, but it was:",u,r);const h=Zb(r,u);let p,m;if(a.merge)p=new Ln(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const v of a.mergeFields){const x=Rg(e,v,t);if(!u.contains(x))throw new fe(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tS(y,x)||y.push(x)}p=new Ln(y),m=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=u.fieldTransforms;return new $L(new Tn(h),p,m)}class Df extends Gy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}function GL(n,e,t,r){const i=n.Cc(1,e,t);Hy("Data must be an object, but it was:",i,r);const a=[],u=Tn.empty();Wi(r,((p,m)=>{const y=qy(e,p,t);m=ut(m);const v=i.yc(y);if(m instanceof Df)a.push(y);else{const x=vu(m,v);x!=null&&(a.push(y),u.set(y,x))}}));const h=new Ln(a);return new Yb(u,h,i.fieldTransforms)}function WL(n,e,t,r,i,a){const u=n.Cc(1,e,t),h=[Rg(e,r,t)],p=[i];if(a.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)h.push(Rg(e,a[x])),p.push(a[x+1]);const m=[],y=Tn.empty();for(let x=h.length-1;x>=0;--x)if(!tS(m,h[x])){const T=h[x];let C=p[x];C=ut(C);const A=u.yc(T);if(C instanceof Df)m.push(T);else{const k=vu(C,A);k!=null&&(m.push(T),y.set(T,k))}}const v=new Ln(m);return new Yb(y,v,u.fieldTransforms)}function HL(n,e,t,r=!1){return vu(t,n.Cc(r?4:3,e))}function vu(n,e){if(eS(n=ut(n)))return Hy("Unsupported field value:",e,n),Zb(n,e);if(n instanceof Gy)return(function(r,i){if(!Xb(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let u=0;for(const h of r){let p=vu(h,i.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,i){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Be.fromDate(r);return{timestampValue:Mh(i.serializer,a)}}if(r instanceof Be){const a=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mh(i.serializer,a)}}if(r instanceof Jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:mb(i.serializer,r._byteString)};if(r instanceof Ct){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ay(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zr)return(function(u,h){return{mapValue:{fields:{[GT]:{stringValue:WT},[kh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Sy(h.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${wf(r)}`)})(n,e)}function Zb(n,e){const t={};return VT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,((r,i)=>{const a=vu(i,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function eS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof Jr||n instanceof Xn||n instanceof Ct||n instanceof Gy||n instanceof Zr)}function Hy(n,e,t){if(!eS(t)||!OT(t)){const r=wf(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Rg(n,e,t){if((e=ut(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return qy(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const qL=new RegExp("[~\\*/\\[\\]]");function qy(n,e,t){if(e.search(qL)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||u)&&(p+=" (found",a&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new fe(ne.INVALID_ARGUMENT,h+n+p)}function tS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KL extends nS{data(){return super.data()}}function Mf(n,e){return typeof e=="string"?qy(n,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class Qy extends Ky{}function fl(n,e,...t){let r=[];e instanceof Ky&&r.push(e),r=r.concat(t),(function(a){const u=a.filter((p=>p instanceof Yy)).length,h=a.filter((p=>p instanceof Of)).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Of extends Qy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Of(e,t,r)}_apply(e){const t=this._parse(e);return rS(e._query,t),new qi(e.firestore,e.converter,xg(e._query,t))}_parse(e){const t=jf(e.firestore);return(function(a,u,h,p,m,y,v){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){U0(v,y);const C=[];for(const A of v)C.push(F0(p,a,A));x={arrayValue:{values:C}}}else x=F0(p,a,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||U0(v,y),x=HL(h,u,v,y==="in"||y==="not-in");return jt.create(m,y,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function pl(n,e,t){const r=e,i=Mf("where",n);return Of._create(i,r,t)}class Yy extends Ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:vr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let u=i;const h=a.getFlattenedFilters();for(const p of h)rS(u,p),u=xg(u,p)})(e._query,t),new qi(e.firestore,e.converter,xg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xy extends Qy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xy(e,t)}_apply(e){const t=(function(i,a,u){if(i.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(a,u)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,(function(i,a){const u=i.explicitOrderBy.concat([a]);return new Sl(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Uh(n,e="asc"){const t=e,r=Mf("orderBy",n);return Xy._create(r,t)}class Jy extends Qy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Jy(e,t,r)}_apply(e){return new qi(e.firestore,e.converter,Ph(e._query,this._limit,this._limitType))}}function YL(n){return Z4("limit",n),Jy._create("limit",n,"F")}function F0(n,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&t.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(it.fromString(t));if(!Ie.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n0(n,new Ie(r))}if(t instanceof Ct)return n0(n,t._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function U0(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rS(n,e){const t=(function(i,a){for(const u of i)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XL{convertValue(e,t="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wi(e,((i,a)=>{r[i]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[kh].arrayValue?.values?.map((r=>St(r.doubleValue)));return new Zr(t)}convertGeoPoint(e){return new Jr(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ef(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Be(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=it.fromString(e);tt(xb(r),9688,{name:e});const i=new Yc(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(t)||Vs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ao extends nS{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ao._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ao._jsonSchema={type:Dt("string",Ao._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class mh extends Ao{data(e={}){return super.data(e)}}class Qa{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new mh(this._firestore,this._userDataWriter,r.key,r,new kc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map((h=>{const p=new mh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new kc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const p=new mh(i._firestore,i._userDataWriter,h.doc.key,h.doc,new kc(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:JL(h.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){n=yr(n,Ct);const e=yr(n.firestore,Ho);return OL(By(e),n._key).then((t=>tV(e,n,t)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Dt("string",Qa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class iS extends XL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function ml(n){n=yr(n,qi);const e=yr(n.firestore,Ho),t=By(e),r=new iS(e);return QL(n._query),LL(t,n._query).then((i=>new Qa(e,r,n,i)))}function ZL(n,e,t){n=yr(n,Ct);const r=yr(n.firestore,Ho),i=sS(n.converter,e);return Lf(r,[Jb(jf(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,tr.none())])}function Oc(n,e,t,...r){n=yr(n,Ct);const i=yr(n.firestore,Ho),a=jf(i);let u;return u=typeof(e=ut(e))=="string"||e instanceof Pf?WL(a,"updateDoc",n._key,e,t,r):GL(a,"updateDoc",n._key,e),Lf(i,[u.toMutation(n._key,tr.exists(!0))])}function eV(n){return Lf(yr(n.firestore,Ho),[new Iy(n._key,tr.none())])}function Pg(n,e){const t=yr(n.firestore,Ho),r=As(n),i=sS(n.converter,e);return Lf(t,[Jb(jf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then((()=>r))}function Lf(n,e){return(function(r,i){const a=new Ps;return r.asyncQueue.enqueueAndForget((async()=>bL(await ML(r),i,a))),a.promise})(By(n),e)}function tV(n,e,t){const r=t.docs.get(e._key),i=new iS(n);return new Ao(n,i,e._key,r,new kc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){El=i})(Bo),jo(new Li("firestore",((r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ho(new G4(r.getProvider("auth-internal")),new q4(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(m.options.projectId,y)})(u,i),u);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Qr(Bx,Gx,e),Qr(Bx,Gx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebasestorage.googleapis.com",aS="storageBucket",nV=120*1e3,rV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends ls{constructor(e,t,r=0){super(Km(e),`Firebase Storage: ${t} (${Km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Km(n){return"storage/"+n}function Zy(){const n="An unknown error occurred, please check the error payload for server response.";return new xt(_t.UNKNOWN,n)}function sV(n){return new xt(_t.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function iV(n){return new xt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function oV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(_t.UNAUTHENTICATED,n)}function aV(){return new xt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lV(n){return new xt(_t.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function cV(){return new xt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uV(){return new xt(_t.CANCELED,"User canceled the upload/download.")}function dV(n){return new xt(_t.INVALID_URL,"Invalid URL '"+n+"'.")}function hV(n){return new xt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function fV(){return new xt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aS+"' property when initializing the app?")}function pV(){return new xt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mV(){return new xt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gV(n){return new xt(_t.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jg(n){return new xt(_t.INVALID_ARGUMENT,n)}function lS(){return new xt(_t.APP_DELETED,"The Firebase app was deleted.")}function yV(n){return new xt(_t.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lc(n,e){return new xt(_t.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Tc(n){throw new xt(_t.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(r.path==="")return r;throw hV(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+i+u,"i"),p={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const y="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${y}/b/${i}/o${x}`,"i"),C={bucket:1,path:3},A=t===oS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",M=new RegExp(`^https?://${A}/${i}/${k}`,"i"),$=[{regex:h,indices:p,postModify:a},{regex:T,indices:C,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<$.length;B++){const K=$[B],ee=K.regex.exec(e);if(ee){const D=ee[K.indices.bucket];let b=ee[K.indices.path];b||(b=""),r=new Vn(D,b),K.postModify(r);break}}if(r==null)throw dV(e);return r}}class vV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n,e,t){let r=1,i=null,a=null,u=!1,h=0;function p(){return h===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function v(k){i=setTimeout(()=>{i=null,n(T,p())},k)}function x(){a&&clearTimeout(a)}function T(k,...M){if(m){x();return}if(k){x(),y.call(null,k,...M);return}if(p()||u){x(),y.call(null,k,...M);return}r<64&&(r*=2);let $;h===1?(h=2,$=0):$=(r+Math.random())*1e3,v($)}let C=!1;function A(k){C||(C=!0,x(),!m&&(i!==null?(k||(h=2),clearTimeout(i),v(0)):k||(h=1)))}return v(0),a=setTimeout(()=>{u=!0,A(!0)},t),A}function _V(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){return n!==void 0}function EV(n){return typeof n=="object"&&!Array.isArray(n)}function ev(n){return typeof n=="string"||n instanceof String}function z0(n){return tv()&&n instanceof Blob}function tv(){return typeof Blob<"u"}function $0(n,e,t,r){if(r<e)throw jg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function cS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ko;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ko||(ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t,r,i,a,u,h,p,m,y,v,x=!0,T=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=v,this.retry=x,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,A)=>{this.resolve_=C,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new th(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ko.NO_ERROR,p=a.getStatus();if(!h||TV(p,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===ko.ABORT;r(!1,new th(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new th(m,a))})},t=(r,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());xV(p)?a(p):a()}catch(p){u(p)}else if(h!==null){const p=Zy();p.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,p)):u(p)}else if(i.canceled){const p=this.appDelete_?lS():uV();u(p)}else{const p=cV();u(p)}};this.canceled_?t(!1,new th(!1,null,!0)):this.backoffId_=wV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_V(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function SV(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function IV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CV(n,e){e&&(n["X-Firebase-GMPID"]=e)}function NV(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AV(n,e,t,r,i,a,u=!0,h=!1){const p=cS(n.urlParams),m=n.url+p,y=Object.assign({},n.headers);return CV(y,e),SV(y,t),IV(y,a),NV(y,r),new bV(m,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RV(...n){const e=kV();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(tv())return new Blob(n);throw new xt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(n){if(typeof atob>"u")throw gV("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qm{constructor(e,t){this.data=e,this.contentType=t||null}}function DV(n,e){switch(n){case qr.RAW:return new Qm(uS(e));case qr.BASE64:case qr.BASE64URL:return new Qm(dS(n,e));case qr.DATA_URL:return new Qm(OV(e),LV(e))}throw Zy()}function uS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function MV(n){let e;try{e=decodeURIComponent(n)}catch{throw Lc(qr.DATA_URL,"Malformed data URL.")}return uS(e)}function dS(n,e){switch(n){case qr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Lc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Lc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=jV(e)}catch(i){throw i.message.includes("polyfill")?i:Lc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class hS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Lc(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=VV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function OV(n){const e=new hS(n);return e.base64?dS(qr.BASE64,e.rest):MV(e.rest)}function LV(n){return new hS(n).contentType}function VV(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t){let r=0,i="";z0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(z0(this.data_)){const r=this.data_,i=PV(r,e,t);return i===null?null:new Ti(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ti(r,!0)}}static getBlob(...e){if(tv()){const t=e.map(r=>r instanceof Ti?r.data_:r);return new Ti(RV.apply(null,t))}else{const t=e.map(u=>ev(u)?DV(qr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[a++]=u[h]}),new Ti(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n){let e;try{e=JSON.parse(n)}catch{return null}return EV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function UV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function pS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n,e){return e}class fn{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||zV}}let nh=null;function $V(n){return!ev(n)||n.length<2?n:pS(n)}function mS(){if(nh)return nh;const n=[];n.push(new fn("bucket")),n.push(new fn("generation")),n.push(new fn("metageneration")),n.push(new fn("name","fullPath",!0));function e(a,u){return $V(u)}const t=new fn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const i=new fn("size");return i.xform=r,n.push(i),n.push(new fn("timeCreated")),n.push(new fn("updated")),n.push(new fn("md5Hash",null,!0)),n.push(new fn("cacheControl",null,!0)),n.push(new fn("contentDisposition",null,!0)),n.push(new fn("contentEncoding",null,!0)),n.push(new fn("contentLanguage",null,!0)),n.push(new fn("contentType",null,!0)),n.push(new fn("metadata","customMetadata",!0)),nh=n,nh}function BV(n,e){function t(){const r=n.bucket,i=n.fullPath,a=new Vn(r,i);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function GV(n,e,t){const r={};r.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return BV(r,n),r}function gS(n,e,t){const r=fS(e);return r===null?null:GV(n,r,t)}function WV(n,e,t,r){const i=fS(e);if(i===null||!ev(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(m=>{const y=n.bucket,v=n.fullPath,x="/b/"+u(y)+"/o/"+u(v),T=Vf(x,t,r),C=cS({alt:"media",token:m});return T+C})[0]}function HV(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class nv{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){if(!n)throw Zy()}function qV(n,e){function t(r,i){const a=gS(n,i,e);return yS(a!==null),a}return t}function KV(n,e){function t(r,i){const a=gS(n,i,e);return yS(a!==null),WV(a,i,n.host,n._protocol)}return t}function vS(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=aV():i=oV():t.getStatus()===402?i=iV(n.bucket):t.getStatus()===403?i=lV(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function wS(n){const e=vS(n);function t(r,i){let a=e(r,i);return r.getStatus()===404&&(a=sV(n.path)),a.serverResponse=i.serverResponse,a}return t}function QV(n,e,t){const r=e.fullServerUrl(),i=Vf(r,n.host,n._protocol),a="GET",u=n.maxOperationRetryTime,h=new nv(i,a,KV(n,t),u);return h.errorHandler=wS(e),h}function YV(n,e){const t=e.fullServerUrl(),r=Vf(t,n.host,n._protocol),i="DELETE",a=n.maxOperationRetryTime;function u(p,m){}const h=new nv(r,i,u,a);return h.successCodes=[200,204],h.errorHandler=wS(e),h}function XV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function JV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=XV(null,e)),r}function ZV(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let $="";for(let B=0;B<2;B++)$=$+Math.random().toString().slice(2);return $}const p=h();u["Content-Type"]="multipart/related; boundary="+p;const m=JV(e,r,i),y=HV(m,t),v="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+p+"--",T=Ti.getBlob(v,r,x);if(T===null)throw pV();const C={name:m.fullPath},A=Vf(a,n.host,n._protocol),k="POST",M=n.maxUploadRetryTime,W=new nv(A,k,qV(n,t),M);return W.urlParams=C,W.headers=u,W.body=T.uploadData(),W.errorHandler=vS(e),W}class e3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,a){if(this.sent_)throw Tc("cannot .send() more than once");if(Gi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t3 extends e3{initXhr(){this.xhr_.responseType="text"}}function rv(){return new t3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oo(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pS(this._location.path)}get storage(){return this._service}get parent(){const e=FV(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new Oo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw yV(e)}}function n3(n,e,t){n._throwIfRoot("uploadBytes");const r=ZV(n.storage,n._location,mS(),new Ti(e,!0),t);return n.storage.makeRequestWithTokens(r,rv).then(i=>({metadata:i,ref:n}))}function r3(n){n._throwIfRoot("getDownloadURL");const e=QV(n.storage,n._location,mS());return n.storage.makeRequestWithTokens(e,rv).then(t=>{if(t===null)throw mV();return t})}function s3(n){n._throwIfRoot("deleteObject");const e=YV(n.storage,n._location);return n.storage.makeRequestWithTokens(e,rv)}function i3(n,e){const t=UV(n._location.path,e),r=new Vn(n._location.bucket,t);return new Oo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n){return/^[A-Za-z]+:\/\//.test(n)}function a3(n,e){return new Oo(n,e)}function _S(n,e){if(n instanceof sv){const t=n;if(t._bucket==null)throw fV();const r=new Oo(t,t._bucket);return e!=null?_S(r,e):r}else return e!==void 0?i3(n,e):n}function l3(n,e){if(e&&o3(e)){if(n instanceof sv)return a3(n,e);throw jg("To use ref(service, url), the first argument must be a Storage instance.")}else return _S(n,e)}function B0(n,e){const t=e?.[aS];return t==null?null:Vn.makeFromBucketSpec(t,n)}function c3(n,e,t,r={}){n.host=`${e}:${t}`;const i=Gi(e);i&&(hy(`https://${n.host}/b`),fy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:xT(a,n.app.options.projectId))}class sv{constructor(e,t,r,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=oS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nV,this._maxUploadRetryTime=rV,this._requests=new Set,i!=null?this._bucket=Vn.makeFromBucketSpec(i,this._host):this._bucket=B0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=B0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oo(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new vV(lS());{const u=AV(e,this._appId,r,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const G0="@firebase/storage",W0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="storage";function iv(n,e,t){return n=ut(n),n3(n,e,t)}function ov(n){return n=ut(n),r3(n)}function Dg(n){return n=ut(n),s3(n)}function Ya(n,e){return n=ut(n),l3(n,e)}function u3(n=gy(),e){n=ut(n);const r=vf(n,xS).getImmediate({identifier:e}),i=vT("storage");return i&&d3(r,...i),r}function d3(n,e,t,r={}){c3(n,e,t,r)}function h3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new sv(t,r,i,e,Bo)}function f3(){jo(new Li(xS,h3,"PUBLIC").setMultipleInstances(!0)),Qr(G0,W0,""),Qr(G0,W0,"esm2020")}f3();var p3="firebase",m3="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(p3,m3,"app");function ES(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g3=ES,TS=new du("auth","Firebase",ES());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new py("@firebase/auth");function y3(n,...e){$h.logLevel<=We.WARN&&$h.warn(`Auth (${Bo}): ${n}`,...e)}function gh(n,...e){$h.logLevel<=We.ERROR&&$h.error(`Auth (${Bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n,...e){throw av(n,...e)}function es(n,...e){return av(n,...e)}function bS(n,e,t){const r={...g3(),[e]:t};return new du("auth","Firebase",r).create(e,{appName:n.name})}function js(n){return bS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function av(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return TS.create(n,...e)}function ke(n,e,...t){if(!n)throw av(e,...t)}function ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gh(e),new Error(e)}function Us(n,e){n||ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){return typeof self<"u"&&self.location?.href||""}function v3(){return H0()==="http:"||H0()==="https:"}function H0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v3()||xD()||"connection"in navigator)?navigator.onLine:!0}function _3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=vD()||ED()}get(){return w3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n,e){Us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T3=new wu(3e4,6e4);function Ki(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $s(n,e,t,r,i={}){return IS(n,i,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=hu({key:n.config.apiKey,...u}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...a};return _D()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(m.credentials="include"),SS.fetch()(await CS(n,n.config.apiHost,t,h),m)})}async function IS(n,e,t){n._canInitEmulator=!1;const r={...x3,...e};try{const i=new S3(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw rh(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(n,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw rh(n,"email-already-in-use",u);if(p==="USER_DISABLED")throw rh(n,"user-disabled",u);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw bS(n,y,m);wr(n,y)}}catch(i){if(i instanceof ls)throw i;wr(n,"network-request-failed",{message:String(i)})}}async function _u(n,e,t,r,i={}){const a=await $s(n,e,t,r,i);return"mfaPendingCredential"in a&&wr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function CS(n,e,t,r){const i=`${e}${t}?${r}`,a=n,u=a.config.emulator?lv(n.config,i):`${n.config.apiScheme}://${i}`;return E3.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function b3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class S3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),T3.get())})}}function rh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=es(n,e,r);return i.customData._tokenResponse=t,i}function q0(n){return n!==void 0&&n.enterprise!==void 0}class I3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return b3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C3(n,e){return $s(n,"GET","/v2/recaptchaConfig",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(n,e){return $s(n,"POST","/v1/accounts:delete",e)}async function Bh(n,e){return $s(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function A3(n,e=!1){const t=ut(n),r=await t.getIdToken(e),i=cv(r);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a?.sign_in_provider;return{claims:i,token:r,authTime:Vc(Ym(i.auth_time)),issuedAtTime:Vc(Ym(i.iat)),expirationTime:Vc(Ym(i.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ym(n){return Number(n)*1e3}function cv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=gT(t);return i?JSON.parse(i):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K0(n){const e=cv(n);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ls&&k3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function k3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gh(n){const e=n.auth,t=await n.getIdToken(),r=await gl(n,Bh(e,{idToken:t}));ke(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const a=i.providerUserInfo?.length?NS(i.providerUserInfo):[],u=j3(n.providerData,a),h=n.isAnonymous,p=!(n.email&&i.passwordHash)&&!u?.length,m=h?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function P3(n){const e=ut(n);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function j3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(n,e){const t=await IS(n,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,u=await CS(n,i,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return n.emulatorConfig&&Gi(n.emulatorConfig.host)&&(p.credentials="include"),SS.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function M3(n,e){return $s(n,"POST","/v2/accounts:revokeToken",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=K0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await D3(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,u=new Xa;return r&&(ke(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(ke(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new R3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Og(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return A3(this,e)}reload(){return P3(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await gl(this,N3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:C,stsTokenManager:A}=t;ke(v&&A,e,"internal-error");const k=Xa.fromJSON(this.name,A);ke(typeof v=="string",e,"internal-error"),xi(r,e.name),xi(i,e.name),ke(typeof x=="boolean",e,"internal-error"),ke(typeof T=="boolean",e,"internal-error"),xi(a,e.name),xi(u,e.name),xi(h,e.name),xi(p,e.name),xi(m,e.name),xi(y,e.name);const M=new fr({uid:v,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:T,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(M.providerData=C.map(W=>({...W}))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new Xa;i.updateFromServerResponse(t);const a=new fr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NS(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!a?.length,h=new Xa;h.updateFromIdToken(r);const p=new fr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Og(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;function Rs(n){Us(n instanceof Function,"Expected a class definition");let e=Q0.get(n);return e?(Us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Q0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AS.type="NONE";const Y0=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ja{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=yh(this.userKey,i.apiKey,a),this.fullPersistenceKey=yh("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bh(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ja(Rs(Y0),e,r);const i=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||Rs(Y0);const u=yh(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let v;if(typeof y=="string"){const x=await Bh(e,{idToken:y}).catch(()=>{});if(!x)break;v=await fr._fromGetAccountInfoResponse(e,x,y)}else v=fr._fromJSON(e,y);m!==a&&(h=v),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ja(a,e,r):(a=p[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Ja(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MS(e))return"Blackberry";if(OS(e))return"Webos";if(RS(e))return"Safari";if((e.includes("chrome/")||PS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function kS(n=un()){return/firefox\//i.test(n)}function RS(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PS(n=un()){return/crios\//i.test(n)}function jS(n=un()){return/iemobile/i.test(n)}function DS(n=un()){return/android/i.test(n)}function MS(n=un()){return/blackberry/i.test(n)}function OS(n=un()){return/webos/i.test(n)}function uv(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function O3(n=un()){return uv(n)&&!!window.navigator?.standalone}function L3(){return TD()&&document.documentMode===10}function LS(n=un()){return uv(n)||DS(n)||OS(n)||MS(n)||/windows phone/i.test(n)||jS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e=[]){let t;switch(n){case"Browser":t=X0(un());break;case"Worker":t=`${X0(un())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const p=e(a);u(p)}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F3(n,e={}){return $s(n,"GET","/v2/passwordPolicy",Ki(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=6;class z3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??U3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J0(this),this.idTokenSubscription=new J0(this),this.beforeStateQueue=new V3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bh(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(js(this));const t=e?ut(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F3(this),t=new z3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await M3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,i);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&y3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function qo(n){return ut(n)}class J0{constructor(e){this.auth=e,this.observer=null,this.addObserver=RD(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function B3(n){Ff=n}function FS(n){return Ff.loadJS(n)}function G3(){return Ff.recaptchaEnterpriseScript}function W3(){return Ff.gapiScript}function H3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class q3{constructor(){this.enterprise=new K3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class K3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Q3="recaptcha-enterprise",US="NO_RECAPTCHA";class Y3{constructor(e){this.type=Q3,this.auth=qo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{C3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new I3(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function i(a,u,h){const p=window.grecaptcha;q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(US)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new q3().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&q0(window.grecaptcha))i(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=G3();p.length!==0&&(p+=h),FS(p).then(()=>{i(h,a,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Z0(n,e,t,r=!1,i=!1){const a=new Y3(n);let u;if(i)u=US;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Lg(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Z0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Z0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(n,e){const t=vf(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Po(a,e??{}))return i;wr(i,"already-initialized")}return t.initialize({options:e})}function J3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Z3(n,e,t){const r=qo(n);ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=zS(e),{host:u,port:h}=eF(e),p=h===null?"":`:${h}`,m={url:`${a}//${u}${p}/`},y=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ke(Po(m,r.config.emulator)&&Po(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Gi(u)?(hy(`${a}//${u}${p}`),fy("Auth",!0)):tF()}function zS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function eF(n){const e=zS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:eE(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:eE(u)}}}function eE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tF(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,t){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function nF(n,e){return $s(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(n,e){return _u(n,"POST","/v1/accounts:signInWithPassword",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(n,e){return _u(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}async function iF(n,e){return _u(n,"POST","/v1/accounts:signInWithEmailLink",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends dv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new tu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new tu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,t,"signInWithPassword",rF);case"emailLink":return sF(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lg(e,r,"signUpPassword",nF);case"emailLink":return iF(e,{idToken:t,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(n,e){return _u(n,"POST","/v1/accounts:signInWithIdp",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF="http://localhost";class Lo extends dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=t;if(!r||!i)return null;const u=new Lo(r,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Za(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Za(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}buildRequest(){const e={requestUri:oF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lF(n){const e=Sc(Ic(n)).link,t=e?Sc(Ic(e)).deep_link_id:null,r=Sc(Ic(n)).deep_link_id;return(r?Sc(Ic(r)).link:null)||r||t||e||n}class hv{constructor(e){const t=Sc(Ic(e)),r=t.apiKey??null,i=t.oobCode??null,a=aF(t.mode??null);ke(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=lF(e);try{return new hv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,t){return tu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hv.parseLink(t);return ke(r,"argument-error"),tu._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends $S{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends xu{constructor(){super("facebook.com")}static credential(e){return Lo._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lo._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Si.credential(t,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xu{constructor(){super("github.com")}static credential(e){return Lo._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.GITHUB_SIGN_IN_METHOD="github.com";Ii.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends xu{constructor(){super("twitter.com")}static credential(e,t){return Lo._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.TWITTER_SIGN_IN_METHOD="twitter.com";Ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(n,e){return _u(n,"POST","/v1/accounts:signUp",Ki(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await fr._fromIdTokenResponse(e,r,i),u=tE(r);return new Vo({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=tE(r);return new Vo({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function tE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends ls{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Wh(e,t,r,i)}}function BS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(n,a,e,r):a})}async function uF(n,e,t=!1){const r=await gl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(n,e,t=!1){const{auth:r}=n;if(On(r.app))return Promise.reject(js(r));const i="reauthenticate";try{const a=await gl(n,BS(r,i,e,n),t);ke(a.idToken,r,"internal-error");const u=cv(a.idToken);ke(u,r,"internal-error");const{sub:h}=u;return ke(n.uid===h,r,"user-mismatch"),Vo._forOperation(n,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&wr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(n,e,t=!1){if(On(n.app))return Promise.reject(js(n));const r="signIn",i=await BS(n,r,e),a=await Vo._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function hF(n,e){return GS(qo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(n){const e=qo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fF(n,e,t){if(On(n.app))return Promise.reject(js(n));const r=qo(n),u=await Lg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cF).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&WS(n),p}),h=await Vo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function pF(n,e,t){return On(n.app)?Promise.reject(js(n)):hF(ut(n),Cl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WS(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(n,e){return $s(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gF(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=ut(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await gl(r,mF(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function yF(n,e,t,r){return ut(n).onIdTokenChanged(e,t,r)}function vF(n,e,t){return ut(n).beforeAuthStateChanged(e,t)}function wF(n,e,t,r){return ut(n).onAuthStateChanged(e,t,r)}function _F(n){return ut(n).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1e3,EF=10;class qS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);L3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,EF):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qS.type="LOCAL";const TF=qS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KS.type="SESSION";const QS=KS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async m=>m(t.origin,a)),p=await bF(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((h,p)=>{const m=fv("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(x.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return window}function IF(n){ts().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function CF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NF(){return navigator?.serviceWorker?.controller||null}function AF(){return YS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebaseLocalStorageDb",kF=1,qh="firebaseLocalStorage",JS="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zf(n,e){return n.transaction([qh],e?"readwrite":"readonly").objectStore(qh)}function RF(){const n=indexedDB.deleteDatabase(XS);return new Eu(n).toPromise()}function Vg(){const n=indexedDB.open(XS,kF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qh,{keyPath:JS})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qh)?e(r):(r.close(),await RF(),e(await Vg()))})})}async function nE(n,e,t){const r=zf(n,!0).put({[JS]:e,value:t});return new Eu(r).toPromise()}async function PF(n,e){const t=zf(n,!1).get(e),r=await new Eu(t).toPromise();return r===void 0?null:r.value}function rE(n,e){const t=zf(n,!0).delete(e);return new Eu(t).toPromise()}const jF=800,DF=3;class ZS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>DF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(AF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CF(),!this.activeServiceWorker)return;this.sender=new SF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vg();return await nE(e,Hh,"1"),await rE(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>PF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zf(i,!1).getAll();return new Eu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZS.type="LOCAL";const MF=ZS;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(n,e){return e?Rs(e):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Za(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LF(n){return GS(n.auth,new pv(n),n.bypassAuthState)}function VF(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),dF(t,new pv(n),n.bypassAuthState)}async function FF(n){const{auth:e,user:t}=n;return ke(t,e,"internal-error"),uF(t,new pv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LF;case"linkViaPopup":case"linkViaRedirect":return FF;case"reauthViaPopup":case"reauthViaRedirect":return VF;default:wr(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new wu(2e3,1e4);class Ga extends eI{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(es(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(es(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(es(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UF.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="pendingRedirect",vh=new Map;class $F extends eI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const r=await BF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BF(n,e){const t=HF(e),r=WF(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function GF(n,e){vh.set(n._key(),e)}function WF(n){return Rs(n._redirectPersistence)}function HF(n){return yh(zF,n.config.apiKey,n.name)}async function qF(n,e,t=!1){if(On(n.app))return Promise.reject(js(n));const r=qo(n),i=OF(r,e),u=await new $F(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=600*1e3;class QF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!tI(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(es(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KF&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(n,e={}){return $s(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZF=/^https?/;async function e6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await XF(n);for(const t of e)try{if(t6(t))return}catch{}wr(n,"unauthorized-domain")}function t6(n){const e=Mg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!ZF.test(t))return!1;if(JF.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new wu(3e4,6e4);function iE(){const n=ts().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function r6(n){return new Promise((e,t)=>{function r(){iE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iE(),t(es(n,"network-request-failed"))},timeout:n6.get()})}if(ts().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ts().gapi?.load)r();else{const i=H3("iframefcb");return ts()[i]=()=>{gapi.load?r():t(es(n,"network-request-failed"))},FS(`${W3()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw wh=null,e})}let wh=null;function s6(n){return wh=wh||r6(n),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new wu(5e3,15e3),o6="__/auth/iframe",a6="emulator/auth/iframe",l6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u6(n){const e=n.config;ke(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lv(e,a6):`https://${n.config.authDomain}/${o6}`,r={apiKey:e.apiKey,appName:n.name,v:Bo},i=c6.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${hu(r).slice(1)}`}async function d6(n){const e=await s6(n),t=ts().gapi;return ke(t,n,"internal-error"),e.open({where:document.body,url:u6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const u=es(n,"network-request-failed"),h=ts().setTimeout(()=>{a(u)},i6.get());function p(){ts().clearTimeout(h),i(r)}r.ping(p).then(p,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f6=500,p6=600,m6="_blank",g6="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y6(n,e,t,r=f6,i=p6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...h6,width:r.toString(),height:i.toString(),top:a,left:u},m=un().toLowerCase();t&&(h=PS(m)?m6:t),kS(m)&&(e=e||g6,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[T,C])=>`${x}${T}=${C},`,"");if(O3(m)&&h!=="_self")return v6(e||"",h),new oE(null);const v=window.open(e||"",h,y);ke(v,n,"popup-blocked");try{v.focus()}catch{}return new oE(v)}function v6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__/auth/handler",_6="emulator/auth/handler",x6=encodeURIComponent("fac");async function aE(n,e,t,r,i,a){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Bo,eventId:i};if(e instanceof $S){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",kD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof xu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await n._getAppCheckToken(),m=p?`#${x6}=${encodeURIComponent(p)}`:"";return`${E6(n)}?${hu(h).slice(1)}${m}`}function E6({config:n}){return n.emulator?lv(n,_6):`https://${n.authDomain}/${w6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class T6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QS,this._completeRedirectFn=qF,this._overrideRedirectResult=GF}async _openPopup(e,t,r,i){Us(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await aE(e,t,r,Mg(),i);return y6(e,a,fv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await aE(e,t,r,Mg(),i);return IF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Us(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await d6(e),r=new QF(e);return t.register("authEvent",i=>(ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xm,{type:Xm},i=>{const a=i?.[0]?.[Xm];a!==void 0&&t(!!a),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=e6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LS()||RS()||uv()}}const b6=T6;var lE="@firebase/auth",cE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C6(n){jo(new Li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ke(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(n)},m=new $3(r,i,a,p);return J3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jo(new Li("auth-internal",e=>{const t=qo(e.getProvider("auth").getImmediate());return(r=>new S6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(lE,cE,I6(n)),Qr(lE,cE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=300,A6=_T("authIdTokenMaxAge")||N6;let uE=null;const k6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>A6)return;const i=t?.token;uE!==i&&(uE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R6(n=gy()){const e=vf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=X3(n,{popupRedirectResolver:b6,persistence:[MF,TF,QS]}),r=_T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=k6(a.toString());vF(t,u,()=>u(t.currentUser)),yF(t,h=>u(h))}}const i=yT("auth");return i&&Z3(t,`http://${i}`),t}function P6(){return document.getElementsByTagName("head")?.[0]??document}B3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=es("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",P6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C6("Browser");const j6={apiKey:"AIzaSyAtiguc8T9bmnM5LfUn2r7tJ6njrs_LSXo",authDomain:"muraldb-935aa.firebaseapp.com",projectId:"muraldb-935aa",storageBucket:"muraldb-935aa.firebasestorage.app",messagingSenderId:"588012525327",appId:"1:588012525327:web:46f1c8e1f3e8a2cc91907a"},mv=bT(j6),sh=R6(mv),Qt=FL(mv),el=u3(mv),Jn={async createGallery(n,e,t="",r=[]){try{const i={name:e,description:t,userId:n,images:[],tags:r,createdAt:Be.now(),updatedAt:Be.now(),isPublic:!1};return(await Pg(Ns(Qt,"galleries"),i)).id}catch(i){throw console.error("Error creating gallery:",i),i}},async getUserGalleries(n){try{const e=fl(Ns(Qt,"galleries"),pl("userId","==",n),Uh("updatedAt","desc"));return(await ml(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error getting galleries:",e),[]}},async updateGallery(n,e){try{const t=As(Qt,"galleries",n);await Oc(t,{...e,updatedAt:Be.now()})}catch(t){throw console.error("Error updating gallery:",t),t}},async deleteGallery(n){try{await eV(As(Qt,"galleries",n))}catch(e){throw console.error("Error deleting gallery:",e),e}},async uploadImage(n,e,t=[]){try{const r=Ya(el,`galleries/${n}/${Date.now()}_${e.name}`),i=await iv(r,e),a=await ov(i.ref),u={id:`img_${Date.now()}`,name:e.name,url:a,storageRef:i.ref.fullPath,size:e.size,type:e.type,tags:t,uploadedAt:Be.now()},h=As(Qt,"galleries",n),p=await zh(h);if(p.exists()){const y=[...p.data().images,u];await Oc(h,{images:y,updatedAt:Be.now()})}return u}catch(r){throw console.error("Error uploading image:",r),r}},async removeImage(n,e){try{const t=As(Qt,"galleries",n),r=await zh(t);if(r.exists()){const i=r.data(),a=i.images.find(u=>u.id===e);if(a){const u=Ya(el,a.storageRef);await Dg(u);const h=i.images.filter(p=>p.id!==e);await Oc(t,{images:h,updatedAt:Be.now()})}}}catch(t){throw console.error("Error removing image:",t),t}}},Jm={async createFolder(n,e,t=""){try{const r={name:e,description:t,userId:n,documents:[],createdAt:Be.now(),updatedAt:Be.now()};return(await Pg(Ns(Qt,"folders"),r)).id}catch(r){throw console.error("Error creating folder:",r),r}},async getUserFolders(n){try{const e=fl(Ns(Qt,"folders"),pl("userId","==",n),Uh("updatedAt","desc"));return(await ml(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error getting folders:",e),[]}},async uploadDocument(n,e,t,r=[]){try{const i=Ya(el,`documents/${n}/${Date.now()}_${e.name}`),a=await iv(i,e),u=await ov(a.ref),h={name:e.name,url:u,storageRef:a.ref.fullPath,size:e.size,type:e.type,folderId:t,userId:n,tags:r,uploadedAt:Be.now()},p=await Pg(Ns(Qt,"documents"),h);if(t){const m=As(Qt,"folders",t),y=await zh(m);if(y.exists()){const x=[...y.data().documents,p.id];await Oc(m,{documents:x,updatedAt:Be.now()})}}return p.id}catch(i){throw console.error("Error uploading document:",i),i}},async getUserDocuments(n){try{const e=fl(Ns(Qt,"documents"),pl("userId","==",n),Uh("uploadedAt","desc"));return(await ml(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){return console.error("Error getting documents:",e),[]}}},D6={async getRecentUploads(n,e=9){try{const t=fl(Ns(Qt,"documents"),pl("userId","==",n),Uh("uploadedAt","desc"),YL(e)),i=(await ml(t)).docs.map(m=>({id:m.id,...m.data()})),a=fl(Ns(Qt,"galleries"),pl("userId","==",n)),u=await ml(a),h=[];u.docs.forEach(m=>{const y=m.data();h.push(...y.images)});const p=[...i,...h];return p.sort((m,y)=>{const v=("uploadedAt"in m,m.uploadedAt);return("uploadedAt"in y,y.uploadedAt).toDate().getTime()-v.toDate().getTime()}),p.slice(0,e)}catch(t){return console.error("Error getting recent uploads:",t),[]}}};function M6({onNavigate:n,user:e}){const[t,r]=S.useState([]),[i,a]=S.useState(!0);S.useEffect(()=>{(async()=>{try{const x=await D6.getRecentUploads(e.uid,9);r(x)}catch(x){console.error("Error loading recent uploads:",x)}finally{a(!1)}})()},[e.uid]);const u=v=>{const x=new Date,T=v.toDate(),C=Math.floor((x.getTime()-T.getTime())/(1e3*60));return C<1?"Just now":C<60?`${C}m ago`:C<1440?`${Math.floor(C/60)}h ago`:C<10080?`${Math.floor(C/1440)}d ago`:T.toLocaleDateString("en-US",{month:"short",day:"numeric",year:T.getFullYear()!==x.getFullYear()?"numeric":void 0})},h=v=>"uploadedAt"in v&&v.type.startsWith("image/")?c.jsx(uu,{src:v.url,alt:v.name,className:"w-full h-full object-cover"}):c.jsx(Ai,{fileType:ch(v.name),className:"h-8 w-8"}),p=v=>{const x=["Bytes","KB","MB","GB"];if(v===0)return"0 Bytes";const T=Math.floor(Math.log(v)/Math.log(1024));return Math.round(v/Math.pow(1024,T)*100)/100+" "+x[T]},m=(v,x)=>{x.stopPropagation();const T=document.createElement("a");T.href=v.url,T.download=v.name,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T)},y=v=>{if(!n)return;const x="uploadedAt"in v&&v.type.startsWith("image/");n(x?"art":"documents")};return i?c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qd,{className:"h-5 w-5 text-primary"}),c.jsx(Bt,{children:"Recent Uploads"})]}),c.jsx(Jt,{children:"Loading your recent uploads..."})]}),c.jsx(pt,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(er,{className:"h-8 w-8 mx-auto animate-spin mb-4 text-primary"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]}):t.length===0?c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qd,{className:"h-5 w-5 text-primary"}),c.jsx(Bt,{children:"Recent Uploads"})]}),c.jsx(Jt,{children:"Your most recently uploaded files will appear here"})]}),c.jsx(pt,{children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-muted rounded-full mx-auto mb-4",children:c.jsx(qd,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx("p",{className:"text-muted-foreground",children:"Nothing uploaded yet. Get started!"})]})})]}):c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qd,{className:"h-5 w-5 text-primary"}),c.jsx(Bt,{children:"Recent Uploads"})]}),c.jsx(Jt,{children:"Your 9 most recently uploaded files"})]}),c.jsx(pt,{children:c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(v=>c.jsxs("div",{className:"group relative border rounded-lg p-3 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>y(v),children:[c.jsx("div",{className:"w-full h-24 bg-muted rounded-md border flex items-center justify-center mb-3 overflow-hidden",children:h(v)}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-medium text-sm truncate",title:v.name,children:v.name}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:p(v.size)}),c.jsx("span",{children:u(("uploadedAt"in v,v.uploadedAt))})]}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"uploadedAt"in v&&v.type.startsWith("image/")?"Gallery Image":"Document"}),v.tags&&v.tags.length>0&&c.jsx("div",{className:"pt-1",children:c.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.tags.slice(0,2).map((x,T)=>c.jsx("span",{className:"inline-block bg-primary/10 text-primary text-xs px-1.5 py-0.5 rounded",children:x},T)),v.tags.length>2&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",v.tags.length-2," more"]})]})})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[c.jsx(re,{size:"sm",variant:"secondary",onClick:x=>m(v,x),className:"h-7 w-7 p-0",title:"Download",children:c.jsx(Wc,{className:"h-3 w-3"})}),c.jsx(re,{size:"sm",variant:"secondary",onClick:x=>x.stopPropagation(),className:"h-7 w-7 p-0",title:"Go to location",children:c.jsx(il,{className:"h-3 w-3"})})]}),c.jsx("div",{className:"absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("div",{className:"flex items-center gap-1 bg-background/80 backdrop-blur-sm rounded px-1.5 py-0.5 text-xs",children:["uploadedAt"in v&&v.type.startsWith("image/")?c.jsx(Oi,{className:"h-3 w-3"}):c.jsx(Ai,{fileType:ch(v.name),className:"h-3 w-3"}),c.jsx("span",{className:"uppercase",children:"uploadedAt"in v&&v.type.startsWith("image/")?"IMG":ch(v.name)})]})})]},v.id))})})]})}function Zm({onNavigate:n,user:e}){return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h1",{className:"text-4xl font-medium text-foreground",children:e?`Welcome back, ${e.screenName}!`:"Welcome to MuralDB"}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your comprehensive digital workspace for organizing visual references, artwork, and project documents. Streamline your creative workflow with intuitive galleries and smart document management."}),!e&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-6",children:[c.jsxs(re,{size:"lg",onClick:()=>n("login"),className:"gap-2",children:[c.jsx(sT,{className:"h-5 w-5"}),"Sign In to Get Started"]}),c.jsx("p",{className:"text-muted-foreground",children:"New to MuralDB? Create an account in seconds"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[c.jsxs(wt,{className:"hover:shadow-lg transition-shadow duration-200",children:[c.jsx(Xt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(uy,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx(Bt,{children:"References"}),c.jsx(Jt,{children:"Curated collections of design references and inspiration materials"})]})]})}),c.jsx(pt,{children:c.jsxs(re,{onClick:()=>n("references"),className:"w-full gap-2",children:["Explore References",c.jsx(Dm,{className:"h-4 w-4"})]})})]}),c.jsxs(wt,{className:"hover:shadow-lg transition-shadow duration-200",children:[c.jsx(Xt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(Oi,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx(Bt,{children:"Art"}),c.jsx(Jt,{children:"Beautiful artwork and photography collections from various artists"})]})]})}),c.jsx(pt,{children:c.jsxs(re,{onClick:()=>n("art"),className:"w-full gap-2",children:["Browse Art Gallery",c.jsx(Dm,{className:"h-4 w-4"})]})})]}),c.jsxs(wt,{className:"hover:shadow-lg transition-shadow duration-200",children:[c.jsx(Xt,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(ol,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx(Bt,{children:"Documents"}),c.jsx(Jt,{children:"Organize project files, specifications, and important documents"})]})]})}),c.jsx(pt,{children:c.jsxs(re,{onClick:()=>n("documents"),className:"w-full gap-2",children:["Manage Documents",c.jsx(Dm,{className:"h-4 w-4"})]})})]})]}),e&&c.jsx("div",{className:"max-w-6xl mx-auto",children:c.jsx(M6,{onNavigate:n,user:e})}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-muted-foreground",children:e?"Start by exploring our collections, create custom galleries, or organize your project documents.":"Sign in to access all features including personal galleries, document management, and more."})})]})}const O6=TE("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _r({className:n,variant:e,asChild:t=!1,...r}){const i=t?wE:"span";return c.jsx(i,{"data-slot":"badge",className:Ge(O6({variant:e}),n),...r})}function nI({title:n,images:e,imageCount:t,onClick:r}){const i=e.slice(0,4);for(;i.length<4;)i.push("");return c.jsx(wt,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200 overflow-hidden",onClick:r,children:c.jsxs(pt,{className:"p-0",children:[c.jsx("div",{className:"grid grid-cols-2 gap-px bg-muted min-h-[5rem] sm:min-h-[8rem]",children:i.map((a,u)=>c.jsx("div",{className:"aspect-square relative overflow-hidden bg-muted",children:a?c.jsx(uu,{src:a,alt:`${n} thumbnail ${u+1}`,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-muted-foreground/10 flex items-center justify-center",children:c.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-muted-foreground/20 rounded"})})},u))}),c.jsx("div",{className:"p-3 sm:p-4 gallery-info",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium text-card-foreground truncate text-sm sm:text-base",children:n}),c.jsx(_r,{variant:"secondary",className:"ml-2 text-xs sm:text-sm px-1.5 sm:px-2",children:t})]})})]})})}function ft({className:n,type:e,...t}){return c.jsx("input",{type:e,"data-slot":"input",className:Ge("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}function Fg({onFilesUploaded:n,accept:e="image/*",multiple:t=!0,type:r="image",className:i=""}){const a=S.useRef(null),u=()=>{switch(r){case"image":return"image/*";case"document":return".pdf,.doc,.docx,.txt,.rtf,.odt";case"both":return"image/*,.pdf,.doc,.docx,.txt,.rtf,.odt";default:return e}},h=()=>{switch(r){case"image":return"Upload Images";case"document":return"Upload Documents";case"both":return"Upload Files";default:return"Upload Images"}},p=()=>{switch(r){case"image":return c.jsx(Oi,{className:"h-4 w-4"});case"document":return c.jsx(ol,{className:"h-4 w-4"});case"both":return c.jsx(Hc,{className:"h-4 w-4"});default:return c.jsx(Hc,{className:"h-4 w-4"})}},m=T=>{const C=Array.from(T.target.files||[]);C.length>0&&n(C),T.target.value=""},y=()=>{a.current?.click()},v=T=>{T.preventDefault();const C=Array.from(T.dataTransfer.files);C.length>0&&n(C)},x=T=>{T.preventDefault()};return c.jsxs("div",{className:i,children:[c.jsx("input",{ref:a,type:"file",accept:u(),multiple:t,onChange:m,className:"hidden"}),c.jsx("div",{onDrop:v,onDragOver:x,className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:p()}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium mb-1",children:"Drop files here or click to browse"}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[r==="image"&&"Supports JPG, PNG, GIF, WebP",r==="document"&&"Supports PDF, DOC, DOCX, TXT",r==="both"&&"Supports images and documents"]}),c.jsxs(re,{onClick:y,variant:"outline",className:"gap-2",children:[p(),h()]})]})]})})]})}var $f="Dialog",[rI,sI]=os($f),[L6,Er]=rI($f),iI=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:u=!0}=n,h=S.useRef(null),p=S.useRef(null),[m,y]=nu({prop:r,defaultProp:i??!1,onChange:a,caller:$f});return c.jsx(L6,{scope:e,triggerRef:h,contentRef:p,contentId:No(),titleId:No(),descriptionId:No(),open:m,onOpenChange:y,onOpenToggle:S.useCallback(()=>y(v=>!v),[y]),modal:u,children:t})};iI.displayName=$f;var oI="DialogTrigger",aI=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Er(oI,t),a=Nt(e,i.triggerRef);return c.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vv(i.open),...r,ref:a,onClick:Le(n.onClick,i.onOpenToggle)})});aI.displayName=oI;var gv="DialogPortal",[V6,lI]=rI(gv,{forceMount:void 0}),cI=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=Er(gv,e);return c.jsx(V6,{scope:e,forceMount:t,children:S.Children.map(r,u=>c.jsx(zs,{present:t||a.open,children:c.jsx(ty,{asChild:!0,container:i,children:u})}))})};cI.displayName=gv;var Kh="DialogOverlay",uI=S.forwardRef((n,e)=>{const t=lI(Kh,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Er(Kh,n.__scopeDialog);return a.modal?c.jsx(zs,{present:r||a.open,children:c.jsx(U6,{...i,ref:e})}):null});uI.displayName=Kh;var F6=rl("DialogOverlay.RemoveScroll"),U6=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Er(Kh,t);return c.jsx(ny,{as:F6,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(et.div,{"data-state":vv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Fo="DialogContent",dI=S.forwardRef((n,e)=>{const t=lI(Fo,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=Er(Fo,n.__scopeDialog);return c.jsx(zs,{present:r||a.open,children:a.modal?c.jsx(z6,{...i,ref:e}):c.jsx($6,{...i,ref:e})})});dI.displayName=Fo;var z6=S.forwardRef((n,e)=>{const t=Er(Fo,n.__scopeDialog),r=S.useRef(null),i=Nt(e,t.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return y1(a)},[]),c.jsx(hI,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,a=>{const u=a.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&a.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault())})}),$6=S.forwardRef((n,e)=>{const t=Er(Fo,n.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return c.jsx(hI,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=a.target;t.triggerRef.current?.contains(u)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),hI=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...u}=n,h=Er(Fo,t),p=S.useRef(null),m=Nt(e,p);return VE(),c.jsxs(c.Fragment,{children:[c.jsx(Hg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:c.jsx(Wg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":vv(h.open),...u,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(G6,{titleId:h.titleId}),c.jsx(H6,{contentRef:p,descriptionId:h.descriptionId})]})]})}),yv="DialogTitle",fI=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Er(yv,t);return c.jsx(et.h2,{id:i.titleId,...r,ref:e})});fI.displayName=yv;var pI="DialogDescription",mI=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Er(pI,t);return c.jsx(et.p,{id:i.descriptionId,...r,ref:e})});mI.displayName=pI;var gI="DialogClose",yI=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=Er(gI,t);return c.jsx(et.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>i.onOpenChange(!1))})});yI.displayName=gI;function vv(n){return n?"open":"closed"}var vI="DialogTitleWarning",[B6,wI]=aA(vI,{contentName:Fo,titleName:yv,docsSlug:"dialog"}),G6=({titleId:n})=>{const e=wI(vI),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},W6="DialogDescriptionWarning",H6=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wI(W6).contentName}}.`;return S.useEffect(()=>{const i=n.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},_I=iI,wv=aI,xI=cI,_v=uI,xv=dI,Ev=fI,Tv=mI,bv=yI;function nr({...n}){return c.jsx(_I,{"data-slot":"dialog",...n})}const xr=S.forwardRef((n,e)=>c.jsx(wv,{ref:e,"data-slot":"dialog-trigger",...n}));xr.displayName=wv.displayName;function q6({...n}){return c.jsx(xI,{"data-slot":"dialog-portal",...n})}const EI=S.forwardRef(({className:n,...e},t)=>c.jsx(_v,{ref:t,"data-slot":"dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));EI.displayName=_v.displayName;const Tr=S.forwardRef(({className:n,children:e,...t},r)=>c.jsxs(q6,{"data-slot":"dialog-portal",children:[c.jsx(EI,{}),c.jsxs(xv,{ref:r,"data-slot":"dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,c.jsxs(bv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(bn,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Tr.displayName=xv.displayName;function Qi({className:n,...e}){return c.jsx("div",{"data-slot":"dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",n),...e})}function Bf({className:n,...e}){return c.jsx("div",{"data-slot":"dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}const br=S.forwardRef(({className:n,...e},t)=>c.jsx(Ev,{ref:t,"data-slot":"dialog-title",className:Ge("text-lg leading-none font-semibold",n),...e}));br.displayName=Ev.displayName;const Sr=S.forwardRef(({className:n,...e},t)=>c.jsx(Tv,{ref:t,"data-slot":"dialog-description",className:Ge("text-muted-foreground text-sm",n),...e}));Sr.displayName=Tv.displayName;function K6({images:n,currentIndex:e,isOpen:t,onClose:r,onImageRename:i,onImageDelete:a,showControls:u=!0}){const[h,p]=S.useState(e),[m,y]=S.useState(1),[v,x]=S.useState(0),[T,C]=S.useState(!1),[A,k]=S.useState("");S.useEffect(()=>{p(e),y(1),x(0),C(!1)},[e,t]),S.useEffect(()=>{n[h]&&k(n[h].name)},[h,n]);const M=n[h],W=()=>{h>0&&(p(h-1),y(1),x(0),C(!1))},$=()=>{h<n.length-1&&(p(h+1),y(1),x(0),C(!1))},B=()=>{y(Math.min(m+.25,3))},K=()=>{y(Math.max(m-.25,.25))},ee=()=>{x((v+90)%360)},D=()=>{A.trim()&&i&&i(h,A.trim()),C(!1)},b=()=>{k(M?.name||""),C(!1)},j=()=>{a&&(a(h),n.length===1?r():h===n.length-1&&p(h-1))},L=()=>{if(M){const R=document.createElement("a");R.href=M.url,R.download=M.name,document.body.appendChild(R),R.click(),document.body.removeChild(R)}},V=R=>{if(!T)switch(R.key){case"ArrowLeft":W();break;case"ArrowRight":$();break;case"Escape":r();break;case"+":case"=":B();break;case"-":K();break;case"r":case"R":ee();break}};return M?c.jsx(nr,{open:t,onOpenChange:r,children:c.jsxs(Tr,{className:"max-w-6xl w-full h-[90vh] p-0 bg-black/95 border-none",onKeyDown:V,children:[c.jsx(br,{className:"sr-only",children:M?`Viewing ${M.name}`:"Image Viewer"}),c.jsx(Sr,{className:"sr-only",children:M?`Image ${h+1} of ${n.length}`:"Image viewer with zoom and navigation controls"}),c.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[c.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 flex justify-between items-center p-4 bg-gradient-to-b from-black/80 to-transparent",children:[c.jsxs("div",{className:"flex items-center gap-2 text-white",children:[T?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ft,{value:A,onChange:R=>k(R.target.value),className:"bg-white/10 border-white/20 text-white placeholder:text-white/60",onKeyDown:R=>{R.key==="Enter"?D():R.key==="Escape"&&b()},autoFocus:!0}),c.jsx(re,{size:"sm",variant:"ghost",onClick:D,className:"text-white hover:bg-white/10",children:c.jsx(lu,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:b,className:"text-white hover:bg-white/10",children:c.jsx(bn,{className:"h-4 w-4"})})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:M.name}),i&&c.jsx(re,{size:"sm",variant:"ghost",onClick:()=>C(!0),className:"text-white hover:bg-white/10",children:c.jsx($o,{className:"h-4 w-4"})})]}),c.jsxs("span",{className:"text-sm text-white/60",children:[h+1," of ",n.length]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[u&&c.jsxs(c.Fragment,{children:[c.jsx(re,{size:"sm",variant:"ghost",onClick:L,className:"text-white hover:bg-white/10",title:"Download",children:c.jsx(Wc,{className:"h-4 w-4"})}),a&&c.jsx(re,{size:"sm",variant:"ghost",onClick:j,className:"text-white hover:bg-red-500/20",title:"Delete",children:c.jsx(Os,{className:"h-4 w-4"})})]}),c.jsx(re,{size:"sm",variant:"ghost",onClick:r,className:"text-white hover:bg-white/10",children:c.jsx(bn,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-4 pt-16",children:c.jsx("div",{className:"relative max-w-full max-h-full",style:{transform:`scale(${m}) rotate(${v}deg)`,transition:"transform 0.2s ease-in-out"},children:c.jsx(uu,{src:M.url,alt:M.name,className:"max-w-full max-h-full object-contain"})})}),n.length>1&&c.jsxs(c.Fragment,{children:[c.jsx(re,{size:"lg",variant:"ghost",onClick:W,disabled:h===0,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/10 disabled:opacity-30",children:c.jsx(PP,{className:"h-8 w-8"})}),c.jsx(re,{size:"lg",variant:"ghost",onClick:$,disabled:h===n.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/10 disabled:opacity-30",children:c.jsx(DP,{className:"h-8 w-8"})})]}),u&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10 flex justify-center items-center p-4 bg-gradient-to-t from-black/80 to-transparent",children:c.jsxs("div",{className:"flex items-center gap-2 bg-black/50 rounded-lg p-2",children:[c.jsx(re,{size:"sm",variant:"ghost",onClick:K,disabled:m<=.25,className:"text-white hover:bg-white/10",title:"Zoom Out",children:c.jsx(Gj,{className:"h-4 w-4"})}),c.jsxs("span",{className:"text-white text-sm min-w-[3rem] text-center",children:[Math.round(m*100),"%"]}),c.jsx(re,{size:"sm",variant:"ghost",onClick:B,disabled:m>=3,className:"text-white hover:bg-white/10",title:"Zoom In",children:c.jsx($j,{className:"h-4 w-4"})}),c.jsx("div",{className:"w-px h-6 bg-white/20 mx-2"}),c.jsx(re,{size:"sm",variant:"ghost",onClick:ee,className:"text-white hover:bg-white/10",title:"Rotate",children:c.jsx(mj,{className:"h-4 w-4"})})]})})]})]})}):null}const TI=S.createContext(void 0),Ko=()=>{const n=S.useContext(TI);if(!n)throw new Error("useTagContext must be used within a TagProvider");return n},dE=({children:n})=>{const[e,t]=S.useState([{id:"1",name:"Important",color:"#ef4444"},{id:"2",name:"Work",color:"#3b82f6"},{id:"3",name:"Personal",color:"#22c55e"}]),[r,i]=S.useState([]),a=(x,T)=>{const C={id:Date.now().toString(),name:x,color:T};return t(A=>[...A,C]),C},u=x=>{t(T=>T.filter(C=>C.id!==x)),i(T=>T.map(C=>({...C,tagIds:C.tagIds.filter(A=>A!==x)})))},h=(x,T)=>{t(C=>C.map(A=>A.id===x?{...A,...T}:A))},p=(x,T,C)=>{i(A=>{const k=A.find(M=>M.id===x);return k?k.tagIds.includes(C)?A:A.map(M=>M.id===x?{...M,tagIds:[...M.tagIds,C]}:M):[...A,{id:x,type:T,tagIds:[C]}]})},m=(x,T)=>{i(C=>C.map(A=>A.id===x?{...A,tagIds:A.tagIds.filter(k=>k!==T)}:A))},y=x=>{const T=r.find(C=>C.id===x);return T?e.filter(C=>T.tagIds.includes(C.id)):[]},v=(x,T)=>x.length===0?T?r.filter(C=>C.type===T):r:r.filter(C=>{const A=!T||C.type===T,k=x.every(M=>C.tagIds.includes(M));return A&&k});return c.jsx(TI.Provider,{value:{tags:e,taggedItems:r,createTag:a,deleteTag:u,updateTag:h,addTagToItem:p,removeTagFromItem:m,getItemTags:y,getItemsByTags:v},children:n})},Qh=({itemId:n,itemType:e,showAddButton:t=!1,size:r="sm",className:i=""})=>{const{tags:a,getItemTags:u,addTagToItem:h,removeTagFromItem:p}=Ko(),[m,y]=S.useState(!1),v=u(n),x=a.filter(k=>!v.find(M=>M.id===k.id)),T=k=>{h(n,e,k)},C=k=>{p(n,k)},A=r==="sm"?"text-xs px-1.5 py-0.5":"text-sm px-2 py-1";return c.jsxs("div",{className:`flex items-center gap-1 flex-wrap ${i}`,children:[v.map(k=>c.jsxs(_r,{className:`text-white border-0 ${A} ${t?"pr-1":""}`,style:{backgroundColor:k.color},children:[k.name,t&&c.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),C(k.id)},className:"ml-1 hover:bg-black/20 rounded-full p-0.5 transition-colors",children:c.jsx(bn,{className:"h-2.5 w-2.5"})})]},k.id)),t&&c.jsxs(nr,{open:m,onOpenChange:y,children:[c.jsx(xr,{asChild:!0,children:c.jsx(re,{variant:"outline",size:"sm",className:`${r==="sm"?"h-6 px-2":"h-8 px-3"} border-dashed`,children:c.jsx(ss,{className:`${r==="sm"?"h-3 w-3":"h-4 w-4"}`})})}),c.jsxs(Tr,{className:"max-w-md",children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Manage Tags"}),c.jsxs(Sr,{children:["Add or remove tags for this ",e,"."]})]}),c.jsxs("div",{className:"space-y-4",children:[v.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Current Tags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(k=>c.jsxs(_r,{className:"text-white border-0 pr-1",style:{backgroundColor:k.color},children:[k.name,c.jsx("button",{onClick:()=>C(k.id),className:"ml-1 hover:bg-black/20 rounded-full p-0.5 transition-colors",children:c.jsx(bn,{className:"h-3 w-3"})})]},k.id))})]}),x.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"text-sm font-medium",children:"Add Tags"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(k=>c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>T(k.id),className:"h-auto px-3 py-1",children:[c.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:k.color}}),k.name]},k.id))})]}),x.length===0&&v.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No tags available. Create tags first to organize your content."})]})]})]})]})},bI=S.createContext(void 0);function hE({children:n}){const[e,t]=S.useState([{id:"1",name:"sunset-landscape.jpg",type:"image",fileType:"jpg",url:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=200&fit=crop",size:"2.3 MB",uploadDate:"2024-12-08T10:30:00Z",thumbnailUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=150&h=150&fit=crop",location:"References > Nature"},{id:"2",name:"Brand Guidelines.pdf",type:"document",fileType:"pdf",url:"/mock-doc.pdf",size:"4.1 MB",uploadDate:"2024-12-08T09:15:00Z",location:"Documents > Design Specs"},{id:"3",name:"architecture-modern.jpg",type:"image",fileType:"jpg",url:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=300&h=200&fit=crop",size:"1.8 MB",uploadDate:"2024-12-08T08:45:00Z",thumbnailUrl:"https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=150&h=150&fit=crop",location:"Art > Architecture"},{id:"4",name:"Project Proposal.docx",type:"document",fileType:"docx",url:"/mock-doc.docx",size:"890 KB",uploadDate:"2024-12-08T08:00:00Z",location:"Documents > Project Proposals"},{id:"5",name:"watercolor-art.jpg",type:"image",fileType:"jpg",url:"https://images.unsplash.com/photo-1547036967-23d11aacaee0?w=300&h=200&fit=crop",size:"3.2 MB",uploadDate:"2024-12-07T16:20:00Z",thumbnailUrl:"https://images.unsplash.com/photo-1547036967-23d11aacaee0?w=150&h=150&fit=crop",location:"Art > Digital Art"},{id:"6",name:"User Research.pdf",type:"document",fileType:"pdf",url:"/mock-doc.pdf",size:"6.5 MB",uploadDate:"2024-12-07T15:30:00Z",location:"Documents > Research"},{id:"7",name:"mountain-landscape.jpg",type:"image",fileType:"jpg",url:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=300&h=200&fit=crop",size:"2.7 MB",uploadDate:"2024-12-07T14:45:00Z",thumbnailUrl:"https://images.unsplash.com/photo-1506197603052-3cc9c3a201bd?w=150&h=150&fit=crop",location:"References > Landscapes"},{id:"8",name:"Style Guide.pdf",type:"document",fileType:"pdf",url:"/mock-doc.pdf",size:"3.4 MB",uploadDate:"2024-12-07T13:15:00Z",location:"Documents > Design Specs"},{id:"9",name:"abstract-art.jpg",type:"image",fileType:"jpg",url:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=300&h=200&fit=crop",size:"1.9 MB",uploadDate:"2024-12-07T12:00:00Z",thumbnailUrl:"https://images.unsplash.com/photo-1558591710-4b4a1ae0f04d?w=150&h=150&fit=crop",location:"Art > Abstract"}]),r=u=>{t(h=>[u,...h])},i=u=>{t(h=>h.filter(p=>p.id!==u))},a=u=>e.sort((h,p)=>new Date(p.uploadDate).getTime()-new Date(h.uploadDate).getTime()).slice(0,u);return c.jsx(bI.Provider,{value:{uploads:e,addUpload:r,removeUpload:i,getRecentUploads:a},children:n})}function SI(){const n=S.useContext(bI);if(n===void 0)throw new Error("useUploads must be used within an UploadProvider");return n}function II({title:n,images:e,imageNames:t,galleryId:r="default",onBack:i,onFilesUploaded:a,onDeleteImage:u,onTitleChange:h,onImageRename:p}){const{addUpload:m}=SI(),[y,v]=S.useState(!1),[x,T]=S.useState(n),[C,A]=S.useState(!1),[k,M]=S.useState(0),[W,$]=S.useState(t||e.map((N,Y)=>`Image ${Y+1}`)),[B,K]=S.useState(null),ee=N=>`${r}-image-${N}`;S.useEffect(()=>{t&&$(t)},[t]);const D=()=>{x.trim()&&h&&h(x.trim()),v(!1)},b=()=>{T(n),v(!1)},j=N=>{M(N),A(!0)},L=(N,Y)=>{const he=[...W];he[N]=Y,$(he),p&&p(N,Y)},V=N=>{u(N);const Y=[...W];Y.splice(N,1),$(Y),A(!1)},R=e.map((N,Y)=>({url:N,name:W[Y]||`Image ${Y+1}`}));return c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[c.jsxs(re,{variant:"ghost",onClick:i,className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(au,{className:"mobile-icon sm:h-4 sm:w-4"}),"Back"]}),y?c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[c.jsx(ft,{value:x,onChange:N=>T(N.target.value),className:"mobile-page-title sm:text-2xl font-medium border-none px-0 h-auto",onKeyDown:N=>{N.key==="Enter"?D():N.key==="Escape"&&b()},autoFocus:!0}),c.jsx(re,{size:"sm",variant:"ghost",onClick:D,className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",children:c.jsx(lu,{className:"mobile-icon sm:h-4 sm:w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:b,className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",children:c.jsx(bn,{className:"mobile-icon sm:h-4 sm:w-4"})})]}):c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[c.jsx("h1",{className:"mobile-page-title sm:text-2xl font-medium",children:n}),h&&c.jsx(re,{size:"sm",variant:"ghost",onClick:()=>v(!0),className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",children:c.jsx($o,{className:"mobile-icon sm:h-4 sm:w-4"})})]})]}),c.jsx(Fg,{onFilesUploaded:N=>{N.forEach(Y=>{const he=Y.name.split(".").pop()?.toLowerCase()||"",de=`${(Y.size/(1024*1024)).toFixed(1)} MB`,ge={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:Y.name,type:"image",fileType:he,url:URL.createObjectURL(Y),size:de,uploadDate:new Date().toISOString(),thumbnailUrl:URL.createObjectURL(Y),location:`${window.location.pathname.includes("references")?"References":"Art"} > ${n}`};m(ge)}),a(N)},type:"image"})]}),e.length===0?c.jsx(wt,{className:"p-12",children:c.jsxs(pt,{className:"text-center",children:[c.jsx("p",{className:"text-muted-foreground mb-4",children:"No images in this gallery yet."}),c.jsx(Fg,{onFilesUploaded:N=>{N.forEach(Y=>{const he=Y.name.split(".").pop()?.toLowerCase()||"",de=`${(Y.size/(1024*1024)).toFixed(1)} MB`,ge={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:Y.name,type:"image",fileType:he,url:URL.createObjectURL(Y),size:de,uploadDate:new Date().toISOString(),thumbnailUrl:URL.createObjectURL(Y),location:`${window.location.pathname.includes("references")?"References":"Art"} > ${n}`};m(ge)}),a(N)},type:"image"})]})}):c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 sm:gap-4 gallery-detail-grid",children:e.map((N,Y)=>c.jsx(wt,{className:"overflow-hidden group gallery-image-card",children:c.jsxs(pt,{className:"p-0 relative card-content",children:[c.jsxs("div",{className:"aspect-square cursor-pointer",onClick:()=>j(Y),children:[c.jsx(uu,{src:N,alt:W[Y]||`${n} image ${Y+1}`,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),c.jsx("div",{className:"absolute bottom-1 sm:bottom-2 left-1 sm:left-2",children:c.jsx(Qh,{itemId:ee(Y),itemType:"image",size:"sm",className:"opacity-90 mobile-tags"})})]}),c.jsxs("div",{className:"absolute top-1 sm:top-2 right-1 sm:right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-0.5 sm:gap-1",children:[c.jsx(re,{size:"sm",variant:"secondary",onClick:he=>{he.stopPropagation(),K(B===Y?null:Y)},className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",title:"Manage tags",children:c.jsx(cu,{className:"mobile-icon sm:h-4 sm:w-4"})}),c.jsx(re,{size:"sm",variant:"secondary",onClick:he=>{he.stopPropagation(),j(Y)},className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",title:"View image",children:c.jsx(qa,{className:"mobile-icon sm:h-4 sm:w-4"})}),c.jsx(re,{size:"sm",variant:"destructive",onClick:he=>{he.stopPropagation(),u(Y)},className:"mobile-hover-button sm:h-8 sm:w-8 sm:p-0",title:"Delete image",children:c.jsx(Os,{className:"mobile-icon sm:h-4 sm:w-4"})})]}),c.jsx("div",{className:"image-info sm:p-3",children:c.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[c.jsx("p",{className:"text-xs sm:text-sm font-medium truncate",title:W[Y],children:W[Y]||`Image ${Y+1}`}),B===Y&&c.jsx("div",{className:"flex-shrink-0",children:c.jsx(Qh,{itemId:ee(Y),itemType:"image",showAddButton:!0,size:"sm"})})]})})]})},Y))}),c.jsx(K6,{images:R,currentIndex:k,isOpen:C,onClose:()=>A(!1),onImageRename:L,onImageDelete:V})]})}var CI="AlertDialog",[Q6]=os(CI,[sI]),Bs=sI(),NI=n=>{const{__scopeAlertDialog:e,...t}=n,r=Bs(e);return c.jsx(_I,{...r,...t,modal:!0})};NI.displayName=CI;var Y6="AlertDialogTrigger",AI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Bs(t);return c.jsx(wv,{...i,...r,ref:e})});AI.displayName=Y6;var X6="AlertDialogPortal",kI=n=>{const{__scopeAlertDialog:e,...t}=n,r=Bs(e);return c.jsx(xI,{...r,...t})};kI.displayName=X6;var J6="AlertDialogOverlay",RI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Bs(t);return c.jsx(_v,{...i,...r,ref:e})});RI.displayName=J6;var tl="AlertDialogContent",[Z6,e5]=Q6(tl),t5=TN("AlertDialogContent"),PI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,a=Bs(t),u=S.useRef(null),h=Nt(e,u),p=S.useRef(null);return c.jsx(B6,{contentName:tl,titleName:jI,docsSlug:"alert-dialog",children:c.jsx(Z6,{scope:t,cancelRef:p,children:c.jsxs(xv,{role:"alertdialog",...a,...i,ref:h,onOpenAutoFocus:Le(i.onOpenAutoFocus,m=>{m.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[c.jsx(t5,{children:r}),c.jsx(r5,{contentRef:u})]})})})});PI.displayName=tl;var jI="AlertDialogTitle",DI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Bs(t);return c.jsx(Ev,{...i,...r,ref:e})});DI.displayName=jI;var MI="AlertDialogDescription",OI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Bs(t);return c.jsx(Tv,{...i,...r,ref:e})});OI.displayName=MI;var n5="AlertDialogAction",LI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Bs(t);return c.jsx(bv,{...i,...r,ref:e})});LI.displayName=n5;var VI="AlertDialogCancel",FI=S.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=e5(VI,t),a=Bs(t),u=Nt(e,i);return c.jsx(bv,{...a,...r,ref:u})});FI.displayName=VI;var r5=({contentRef:n})=>{const e=`\`${tl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${tl}\` by passing a \`${MI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${tl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(n.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},s5=NI,i5=AI,o5=kI,a5=RI,l5=PI,c5=LI,u5=FI,d5=DI,h5=OI;function Yh({...n}){return c.jsx(s5,{"data-slot":"alert-dialog",...n})}function Xh({...n}){return c.jsx(i5,{"data-slot":"alert-dialog-trigger",...n})}function f5({...n}){return c.jsx(o5,{"data-slot":"alert-dialog-portal",...n})}function p5({className:n,...e}){return c.jsx(a5,{"data-slot":"alert-dialog-overlay",className:Ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function Jh({className:n,...e}){return c.jsxs(f5,{children:[c.jsx(p5,{}),c.jsx(l5,{"data-slot":"alert-dialog-content",className:Ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...e})]})}function Zh({className:n,...e}){return c.jsx("div",{"data-slot":"alert-dialog-header",className:Ge("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ef({className:n,...e}){return c.jsx("div",{"data-slot":"alert-dialog-footer",className:Ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function tf({className:n,...e}){return c.jsx(d5,{"data-slot":"alert-dialog-title",className:Ge("text-lg font-semibold",n),...e})}function nf({className:n,...e}){return c.jsx(h5,{"data-slot":"alert-dialog-description",className:Ge("text-muted-foreground text-sm",n),...e})}function rf({className:n,...e}){return c.jsx(c5,{className:Ge($g(),n),...e})}function sf({className:n,...e}){return c.jsx(u5,{className:Ge($g({variant:"outline"}),n),...e})}function UI({galleries:n,onUpdateGalleries:e,onSelectGallery:t,pageTitle:r="Gallery",onBack:i}){const[a,u]=S.useState(!1),[h,p]=S.useState(null),[m,y]=S.useState(""),[v,x]=S.useState(""),[T,C]=S.useState(!1),A=K=>{p(K.id),y(K.title)},k=()=>{if(h&&m.trim()){const K=n.map(ee=>ee.id===h?{...ee,title:m.trim()}:ee);e(K)}p(null),y("")},M=()=>{p(null),y("")},W=K=>{const ee=n.filter(D=>D.id!==K);e(ee)},$=()=>{if(v.trim()){const K={id:Date.now().toString(),title:v.trim(),images:[]};e([...n,K]),x(""),C(!1)}},B=K=>{const ee=K.images.slice(0,4);for(;ee.length<4;)ee.push("");return c.jsx("div",{className:"grid grid-cols-2 gap-px bg-muted",children:ee.map((D,b)=>c.jsx("div",{className:"aspect-square relative overflow-hidden bg-muted",children:D?c.jsx(uu,{src:D,alt:`${K.title} thumbnail ${b+1}`,className:"w-full h-full object-cover"}):c.jsx("div",{className:"w-full h-full bg-muted-foreground/10 flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 bg-muted-foreground/20 rounded"})})},b))})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[i&&c.jsxs(re,{variant:"ghost",onClick:i,className:"gap-2",children:[c.jsx(au,{className:"h-4 w-4"}),"Back"]}),c.jsxs("h1",{className:"text-3xl font-medium",children:[r," Management"]}),c.jsxs(re,{variant:a?"default":"outline",size:"sm",onClick:()=>u(!a),className:"gap-2",children:[c.jsx(xl,{className:"h-4 w-4"}),a?"Done":"Manage"]})]}),c.jsxs(nr,{open:T,onOpenChange:C,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{className:"gap-2",children:[c.jsx(ss,{className:"h-4 w-4"}),"New Gallery"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Create New Gallery"}),c.jsx(Sr,{children:"Enter a name for your new gallery."})]}),c.jsx("div",{className:"py-4",children:c.jsx(ft,{value:v,onChange:K=>x(K.target.value),placeholder:"Gallery name...",onKeyDown:K=>{K.key==="Enter"&&$()}})}),c.jsxs(Bf,{children:[c.jsx(re,{variant:"outline",onClick:()=>{C(!1),x("")},children:"Cancel"}),c.jsx(re,{onClick:$,disabled:!v.trim(),children:"Create Gallery"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(K=>c.jsx(wt,{className:`overflow-hidden transition-all duration-200 ${a?"ring-2 ring-primary/20":"cursor-pointer hover:shadow-lg"}`,onClick:a?void 0:()=>t(K),children:c.jsxs(pt,{className:"p-0",children:[B(K),c.jsx("div",{className:"p-4",children:c.jsx("div",{className:"flex items-center justify-between",children:h===K.id?c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(ft,{value:m,onChange:ee=>y(ee.target.value),className:"h-8",onKeyDown:ee=>{ee.key==="Enter"?k():ee.key==="Escape"&&M()},autoFocus:!0}),c.jsx(re,{size:"sm",variant:"ghost",onClick:k,className:"h-8 w-8 p-0",children:c.jsx(lu,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:M,className:"h-8 w-8 p-0",children:c.jsx(bn,{className:"h-4 w-4"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx("h3",{className:"font-medium text-card-foreground truncate",children:K.title}),a&&c.jsx(re,{size:"sm",variant:"ghost",onClick:()=>A(K),className:"h-8 w-8 p-0 ml-auto",children:c.jsx($o,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_r,{variant:"secondary",children:K.images.length}),a&&c.jsxs(Yh,{children:[c.jsx(Xh,{asChild:!0,children:c.jsx(re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:c.jsx(Os,{className:"h-4 w-4"})})}),c.jsxs(Jh,{children:[c.jsxs(Zh,{children:[c.jsx(tf,{children:"Delete Gallery"}),c.jsxs(nf,{children:['Are you sure you want to delete "',K.title,'"? This action cannot be undone and will permanently delete all images in this gallery.']})]}),c.jsxs(ef,{children:[c.jsx(sf,{children:"Cancel"}),c.jsx(rf,{onClick:()=>W(K.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})})})]})},K.id))}),n.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"mx-auto max-w-md",children:[c.jsx("div",{className:"mx-auto h-12 w-12 text-muted-foreground mb-4",children:c.jsx(ss,{className:"h-full w-full"})}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No galleries yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first gallery to start organizing your images."}),c.jsx(nr,{open:T,onOpenChange:C,children:c.jsx(xr,{asChild:!0,children:c.jsx(re,{children:"Create Gallery"})})})]})})]})}var m5="Label",zI=S.forwardRef((n,e)=>c.jsx(et.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));zI.displayName=m5;var g5=zI;function It({className:n,...e}){return c.jsx(g5,{"data-slot":"label",className:Ge("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const ih=["#ef4444","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7","#d946ef","#ec4899","#f43f5e","#6b7280","#374151","#1f2937"],Gf=({children:n})=>{const{tags:e,createTag:t,deleteTag:r,updateTag:i}=Ko(),[a,u]=S.useState(!1),[h,p]=S.useState(null),[m,y]=S.useState(""),[v,x]=S.useState(ih[0]),T=()=>{m.trim()&&(h?(i(h.id,{name:m.trim(),color:v}),p(null)):t(m.trim(),v),y(""),x(ih[0]))},C=M=>{p(M),y(M.name),x(M.color)},A=M=>{r(M)},k=()=>{p(null),y(""),x(ih[0])};return c.jsxs(nr,{open:a,onOpenChange:u,children:[c.jsx(xr,{asChild:!0,children:n||c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(ss,{className:"h-4 w-4 mr-2"}),"Manage Tags"]})}),c.jsxs(Tr,{className:"max-w-2xl",children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Manage Tags"}),c.jsx(Sr,{children:"Create and manage tags for organizing your content."})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-medium",children:h?"Edit Tag":"Create New Tag"}),h&&c.jsx(re,{variant:"ghost",size:"sm",onClick:k,children:c.jsx(bn,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"tagName",children:"Tag Name"}),c.jsx(ft,{id:"tagName",value:m,onChange:M=>y(M.target.value),placeholder:"Enter tag name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{children:"Color"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:ih.map(M=>c.jsx("button",{className:`w-8 h-8 rounded-full border-2 transition-all ${v===M?"border-foreground scale-110":"border-border hover:scale-105"}`,style:{backgroundColor:M},onClick:()=>x(M)},M))})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(re,{onClick:T,disabled:!m.trim(),children:h?"Update Tag":"Create Tag"}),m&&c.jsx(_r,{className:"text-white border-0",style:{backgroundColor:v},children:m})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"font-medium",children:["Existing Tags (",e.length,")"]}),e.length===0?c.jsx("p",{className:"text-muted-foreground text-sm",children:"No tags created yet. Create your first tag above."}):c.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(M=>c.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-card",children:[c.jsx(_r,{className:"text-white border-0",style:{backgroundColor:M.color},children:M.name}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>C(M),className:"h-6 w-6 p-0",children:c.jsx($o,{className:"h-3 w-3"})}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>A(M.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:c.jsx(Os,{className:"h-3 w-3"})})]})]},M.id))})]})]})]})]})},Wf=({selectedTags:n,onTagToggle:e,onClearFilter:t,itemType:r})=>{const{tags:i}=Ko(),a=i.filter(u=>!0);return a.length===0?null:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(YP,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Filter by Tags"})]}),n.length>0&&c.jsx(re,{variant:"ghost",size:"sm",onClick:t,className:"h-auto px-2 py-1 text-xs",children:"Clear All"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(u=>{const h=n.includes(u.id);return c.jsxs(re,{variant:h?"default":"outline",size:"sm",onClick:()=>e(u.id),className:`h-auto px-3 py-1 text-xs transition-all ${h?"text-white border-0":"hover:border-opacity-50"}`,style:h?{backgroundColor:u.color}:{},children:[u.name,h&&c.jsx(bn,{className:"h-3 w-3 ml-1"})]},u.id)})}),n.length>0&&c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Showing ",r==="image"?"galleries with images":r==="document"?"folders with documents":"items"," matching ",n.length," selected tag",n.length!==1?"s":""]})]})};function y5(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let Ug=1;class v5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...i}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ug++,u=this.toasts.find(p=>p.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),u?this.toasts=this.toasts.map(p=>p.id===a?(this.publish({...p,...e,id:a,title:r}),{...p,...e,id:a,dismissible:h,title:r}):p):this.addToast({title:r,...i,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,u;const h=i.then(async m=>{if(u=["resolve",m],En.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if(_5(m)&&!m.ok){a=!1;const v=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,x=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,C=typeof v=="object"&&!En.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...C})}else if(m instanceof Error){a=!1;const v=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,C=typeof v=="object"&&!En.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:x,...C})}else if(t.success!==void 0){a=!1;const v=typeof t.success=="function"?await t.success(m):t.success,x=typeof t.description=="function"?await t.description(m):t.description,C=typeof v=="object"&&!En.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:x,...C})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){a=!1;const y=typeof t.error=="function"?await t.error(m):t.error,v=typeof t.description=="function"?await t.description(m):t.description,T=typeof y=="object"&&!En.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...T})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((m,y)=>h.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(e,t)=>{const r=t?.id||Ug++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Yn=new v5,w5=(n,e)=>{const t=e?.id||Ug++;return Yn.addToast({title:n,...e,id:t}),t},_5=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",x5=w5,E5=()=>Yn.toasts,T5=()=>Yn.getActiveToasts(),Ue=Object.assign(x5,{success:Yn.success,info:Yn.info,warning:Yn.warning,error:Yn.error,custom:Yn.custom,message:Yn.message,promise:Yn.promise,dismiss:Yn.dismiss,loading:Yn.loading},{getHistory:E5,getToasts:T5});y5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function b5({user:n,onBack:e}){const{getItemsByTags:t}=Ko(),[r,i]=S.useState([]),[a,u]=S.useState([]),[h,p]=S.useState(null),[m,y]=S.useState(!1),[v,x]=S.useState(""),[T,C]=S.useState(!1),[A,k]=S.useState(!0),[M,W]=S.useState(!1);S.useEffect(()=>{n&&$()},[n]);const $=async()=>{if(n)try{const R=await Jn.getUserGalleries(n.uid);u(R)}catch(R){console.error("Error loading galleries:",R),Ue.error("Failed to load galleries")}finally{k(!1)}},B=async()=>{if(!(!v.trim()||!n)){W(!0);try{const R=await Jn.createGallery(n.uid,v.trim(),"Reference gallery");await $(),x(""),C(!1),Ue.success("Gallery created successfully!")}catch(R){console.error("Error creating gallery:",R),Ue.error("Failed to create gallery")}finally{W(!1)}}},K=async(R,N)=>{if(n)try{for(const Y of N)await Jn.uploadImage(R,Y,[]);if(await $(),h&&h.id===R){const Y=a.find(he=>he.id===R);Y&&p(Y)}Ue.success("Images uploaded successfully!")}catch(Y){console.error("Error uploading images:",Y),Ue.error("Failed to upload images")}},ee=async(R,N)=>{const Y=a.find(de=>de.id===R);if(!Y||!Y.images[N])return;const he=Y.images[N];try{if(await Jn.removeImage(R,he.id),await $(),h&&h.id===R){const de=a.find(ge=>ge.id===R);de&&p(de)}Ue.success("Image deleted successfully!")}catch(de){console.error("Error deleting image:",de),Ue.error("Failed to delete image")}},D=R=>{p(R),y(!1)},b=async(R,N)=>{try{await Jn.updateGallery(R,{name:N}),u(a.map(Y=>Y.id===R?{...Y,name:N}:Y)),h&&h.id===R&&p({...h,name:N}),Ue.success("Gallery title updated!")}catch(Y){console.error("Error updating gallery title:",Y),Ue.error("Failed to update gallery title")}},j=R=>{i(N=>N.includes(R)?N.filter(Y=>Y!==R):[...N,R])},L=()=>{i([])},V=r.length>0?a.filter(R=>R.images.some(N=>N.tags&&N.tags.some(Y=>r.includes(Y)))):a;return n?A?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(er,{className:"h-8 w-8 mx-auto animate-spin mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading your galleries..."})]}):h?c.jsx(II,{title:h.name,images:h.images.map(R=>R.url),imageNames:h.images.map(R=>R.name),galleryId:h.id,onBack:()=>p(null),onFilesUploaded:R=>K(h.id,R),onDeleteImage:R=>ee(h.id,R),onTitleChange:R=>b(h.id,R),user:n}):m?c.jsx(UI,{galleries:a,onSelectGallery:D,pageTitle:"References",onBack:()=>y(!1),user:n,onGalleriesChange:$}):c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between mobile-page-header",children:[c.jsx("h1",{className:"mobile-page-title sm:text-3xl font-medium",children:"References"}),c.jsxs("div",{className:"flex items-center mobile-button-group sm:gap-2",children:[c.jsx(Gf,{children:c.jsxs(re,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(cu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"Manage "}),"Tags"]})}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(xl,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),"Manage"]}),c.jsxs(nr,{open:T,onOpenChange:C,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{size:"sm",className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"New "}),"Gallery"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Create New Gallery"}),c.jsx(Sr,{children:"Enter a name for your new gallery."})]}),c.jsx("div",{className:"py-4",children:c.jsx(ft,{value:v,onChange:R=>x(R.target.value),placeholder:"Gallery name...",onKeyDown:R=>{R.key==="Enter"&&B()}})}),c.jsxs(Bf,{children:[c.jsx(re,{variant:"outline",onClick:()=>{C(!1),x("")},children:"Cancel"}),c.jsx(re,{onClick:B,disabled:!v.trim()||M,children:M?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Gallery"})]})]})]})]})]}),c.jsx(Wf,{selectedTags:r,onTagToggle:j,onClearFilter:L,itemType:"image"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 gallery-grid",children:V.map(R=>c.jsx(nI,{title:R.name,images:R.images.map(N=>N.url),imageCount:R.images.length,onClick:()=>p(R)},R.id))}),V.length===0&&r.length>0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Oi,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No galleries match your tag filter"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your tag selection to see more galleries"}),c.jsx(re,{onClick:L,variant:"outline",children:"Clear Filter"})]})]}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Please sign in to view your reference galleries."})})}function S5({user:n,onBack:e}){const{getItemsByTags:t}=Ko(),[r,i]=S.useState([]),[a,u]=S.useState([]),[h,p]=S.useState(null),[m,y]=S.useState(!1),[v,x]=S.useState(""),[T,C]=S.useState(!1),[A,k]=S.useState(!0),[M,W]=S.useState(!1);S.useEffect(()=>{n&&$()},[n]);const $=async()=>{if(n)try{const R=await Jn.getUserGalleries(n.uid);u(R)}catch(R){console.error("Error loading galleries:",R),Ue.error("Failed to load galleries")}finally{k(!1)}},B=async()=>{if(!(!v.trim()||!n)){W(!0);try{const R=await Jn.createGallery(n.uid,v.trim(),"Art & Photos gallery");await $(),x(""),C(!1),Ue.success("Gallery created successfully!")}catch(R){console.error("Error creating gallery:",R),Ue.error("Failed to create gallery")}finally{W(!1)}}},K=async(R,N)=>{if(n)try{for(const Y of N)await Jn.uploadImage(R,Y,[]);if(await $(),h&&h.id===R){const Y=a.find(he=>he.id===R);Y&&p(Y)}Ue.success("Images uploaded successfully!")}catch(Y){console.error("Error uploading images:",Y),Ue.error("Failed to upload images")}},ee=async(R,N)=>{const Y=a.find(de=>de.id===R);if(!Y||!Y.images[N])return;const he=Y.images[N];try{if(await Jn.removeImage(R,he.id),await $(),h&&h.id===R){const de=a.find(ge=>ge.id===R);de&&p(de)}Ue.success("Image deleted successfully!")}catch(de){console.error("Error deleting image:",de),Ue.error("Failed to delete image")}},D=R=>{p(R),y(!1)},b=async(R,N)=>{try{await Jn.updateGallery(R,{name:N}),u(a.map(Y=>Y.id===R?{...Y,name:N}:Y)),h&&h.id===R&&p({...h,name:N}),Ue.success("Gallery title updated!")}catch(Y){console.error("Error updating gallery title:",Y),Ue.error("Failed to update gallery title")}},j=R=>{i(N=>N.includes(R)?N.filter(Y=>Y!==R):[...N,R])},L=()=>{i([])},V=r.length>0?a.filter(R=>R.images.some(N=>N.tags&&N.tags.some(Y=>r.includes(Y)))):a;return n?A?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(er,{className:"h-8 w-8 mx-auto animate-spin mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading your galleries..."})]}):h?c.jsx(II,{title:h.name,images:h.images.map(R=>R.url),imageNames:h.images.map(R=>R.name),galleryId:h.id,onBack:()=>p(null),onFilesUploaded:R=>K(h.id,R),onDeleteImage:R=>ee(h.id,R),onTitleChange:R=>b(h.id,R),user:n}):m?c.jsx(UI,{galleries:a,onSelectGallery:D,pageTitle:"Art & Photos",onBack:()=>y(!1),user:n,onGalleriesChange:$}):c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between mobile-page-header",children:[c.jsx("h1",{className:"mobile-page-title sm:text-3xl font-medium",children:"Art & Photos"}),c.jsxs("div",{className:"flex items-center mobile-button-group sm:gap-2",children:[c.jsx(Gf,{children:c.jsxs(re,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(cu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"Manage "}),"Tags"]})}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(xl,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),"Manage"]}),c.jsxs(nr,{open:T,onOpenChange:C,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{size:"sm",className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"New "}),"Gallery"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Create New Gallery"}),c.jsx(Sr,{children:"Enter a name for your new gallery."})]}),c.jsx("div",{className:"py-4",children:c.jsx(ft,{value:v,onChange:R=>x(R.target.value),placeholder:"Gallery name...",onKeyDown:R=>{R.key==="Enter"&&B()}})}),c.jsxs(Bf,{children:[c.jsx(re,{variant:"outline",onClick:()=>{C(!1),x("")},children:"Cancel"}),c.jsx(re,{onClick:B,disabled:!v.trim()||M,children:M?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Gallery"})]})]})]})]})]}),c.jsx(Wf,{selectedTags:r,onTagToggle:j,onClearFilter:L,itemType:"image"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 gallery-grid",children:V.map(R=>c.jsx(nI,{title:R.name,images:R.images.map(N=>N.url),imageCount:R.images.length,onClick:()=>p(R)},R.id))}),V.length===0&&r.length>0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Oi,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No galleries match your tag filter"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your tag selection to see more galleries"}),c.jsx(re,{onClick:L,variant:"outline",children:"Clear Filter"})]}),V.length===0&&r.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Oi,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No art galleries yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first gallery to start organizing your artwork and photos"}),c.jsxs(re,{onClick:()=>C(!0),children:[c.jsx(ss,{className:"h-4 w-4 mr-2"}),"Create Your First Gallery"]})]})]}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Please sign in to view your art galleries."})})}function fE({className:n,...e}){return c.jsx("textarea",{"data-slot":"textarea",className:Ge("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function I5({folders:n,onUpdateFolders:e,onSelectFolder:t,onBack:r}){const[i,a]=S.useState(!1),[u,h]=S.useState(null),[p,m]=S.useState(""),[y,v]=S.useState(""),[x,T]=S.useState(""),[C,A]=S.useState(""),[k,M]=S.useState(!1),W=b=>{h(b.id),m(b.name),v(b.description)},$=()=>{if(u&&p.trim()){const b=n.map(j=>j.id===u?{...j,name:p.trim(),description:y.trim()}:j);e(b)}h(null),m(""),v("")},B=()=>{h(null),m(""),v("")},K=b=>{const j=n.filter(L=>L.id!==b);e(j)},ee=()=>{if(x.trim()){const b={id:Date.now().toString(),name:x.trim(),description:C.trim(),documents:[]};e([...n,b]),T(""),A(""),M(!1)}},D=({folder:b})=>{const j=b.documents.slice(0,3);return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full h-48 bg-muted rounded-lg border-2 border-dashed border-border flex items-center justify-center",children:j.length>0?c.jsx("div",{className:"flex gap-2",children:j.map((L,V)=>c.jsx("div",{className:"w-12 h-16 bg-card border border-border rounded shadow-sm flex items-center justify-center",style:{transform:`translateX(${V*-4}px) rotate(${(V-1)*3}deg)`},children:c.jsx(ol,{className:"h-6 w-6 text-muted-foreground"})},L.id))}):c.jsx(Io,{className:"h-16 w-16 text-muted-foreground"})}),c.jsxs("div",{className:"absolute bottom-2 right-2 bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:[b.documents.length," files"]})]})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[r&&c.jsxs(re,{variant:"ghost",onClick:r,className:"gap-2",children:[c.jsx(au,{className:"h-4 w-4"}),"Back"]}),c.jsx("h1",{className:"text-3xl font-medium",children:"Document Management"}),c.jsxs(re,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!i),className:"gap-2",children:[c.jsx(xl,{className:"h-4 w-4"}),i?"Done":"Manage"]})]}),c.jsxs(nr,{open:k,onOpenChange:M,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{className:"gap-2",children:[c.jsx(ss,{className:"h-4 w-4"}),"New Folder"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Create New Folder"}),c.jsx(Sr,{children:"Create a new folder to organize your documents."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(It,{htmlFor:"folderName",children:"Folder Name"}),c.jsx(ft,{id:"folderName",value:x,onChange:b=>T(b.target.value),placeholder:"Enter folder name...",onKeyDown:b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x.trim()&&ee())}})]}),c.jsxs("div",{children:[c.jsx(It,{htmlFor:"folderDescription",children:"Description (Optional)"}),c.jsx(fE,{id:"folderDescription",value:C,onChange:b=>A(b.target.value),placeholder:"Enter folder description...",rows:3})]})]}),c.jsxs(Bf,{children:[c.jsx(re,{variant:"outline",onClick:()=>{M(!1),T(""),A("")},children:"Cancel"}),c.jsx(re,{onClick:ee,disabled:!x.trim(),children:"Create Folder"})]})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>c.jsxs(wt,{className:`overflow-hidden transition-all duration-200 ${i?"ring-2 ring-primary/20":"cursor-pointer hover:shadow-lg hover:scale-105"}`,onClick:i?void 0:()=>t(b.id),children:[c.jsx(pt,{className:"p-4",children:c.jsx(D,{folder:b})}),c.jsx(Xt,{className:"pt-0",children:u===b.id?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ft,{value:p,onChange:j=>m(j.target.value),className:"h-8",onKeyDown:j=>{j.key==="Enter"?$():j.key==="Escape"&&B()},autoFocus:!0}),c.jsx(re,{size:"sm",variant:"ghost",onClick:$,className:"h-8 w-8 p-0",children:c.jsx(lu,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:B,className:"h-8 w-8 p-0",children:c.jsx(bn,{className:"h-4 w-4"})})]}),c.jsx(fE,{value:y,onChange:j=>v(j.target.value),placeholder:"Description...",rows:2,className:"text-sm"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Bt,{className:"flex items-center gap-2",children:[c.jsx(Io,{className:"h-5 w-5 text-primary"}),c.jsx("span",{className:"truncate",children:b.name}),i&&c.jsx(re,{size:"sm",variant:"ghost",onClick:()=>W(b),className:"h-8 w-8 p-0 ml-auto",children:c.jsx($o,{className:"h-4 w-4"})})]}),c.jsxs(Jt,{className:"flex items-center justify-between",children:[c.jsx("span",{className:"truncate",children:b.description||"No description"}),c.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[c.jsx(_r,{variant:"secondary",children:b.documents.length}),i&&c.jsxs(Yh,{children:[c.jsx(Xh,{asChild:!0,children:c.jsx(re,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:c.jsx(Os,{className:"h-4 w-4"})})}),c.jsxs(Jh,{children:[c.jsxs(Zh,{children:[c.jsx(tf,{children:"Delete Folder"}),c.jsxs(nf,{children:['Are you sure you want to delete "',b.name,'"? This action cannot be undone and will permanently delete all documents in this folder.']})]}),c.jsxs(ef,{children:[c.jsx(sf,{children:"Cancel"}),c.jsx(rf,{onClick:()=>K(b.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})]})})]},b.id))}),n.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"mx-auto max-w-md",children:[c.jsx("div",{className:"mx-auto h-12 w-12 text-muted-foreground mb-4",children:c.jsx(Io,{className:"h-full w-full"})}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No folders yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first folder to start organizing your documents."}),c.jsx(nr,{open:k,onOpenChange:M,children:c.jsx(xr,{asChild:!0,children:c.jsx(re,{children:"Create Folder"})})})]})})]})}function pE({onNavigate:n,user:e}){const{getItemsByTags:t}=Ko(),[r,i]=S.useState([]),[a,u]=S.useState([]),[h,p]=S.useState([]),[m,y]=S.useState(""),[v,x]=S.useState(""),[T,C]=S.useState(!1),[A,k]=S.useState(!1),[M,W]=S.useState(!0),[$,B]=S.useState(!1);S.useEffect(()=>{e&&K()},[e]);const K=async()=>{if(e)try{const[N,Y]=await Promise.all([Jm.getUserFolders(e.uid),Jm.getUserDocuments(e.uid)]);u(N),p(Y)}catch(N){console.error("Error loading folders and documents:",N),Ue.error("Failed to load documents")}finally{W(!1)}},ee=async()=>{if(!(!m.trim()||!e)){B(!0);try{const N=await Jm.createFolder(e.uid,m.trim(),v.trim());await K(),y(""),x(""),C(!1),Ue.success("Folder created successfully!")}catch(N){console.error("Error creating folder:",N),Ue.error("Failed to create folder")}finally{B(!1)}}},D=N=>{n("folder-detail",N),k(!1)},b=N=>{i(Y=>Y.includes(N)?Y.filter(he=>he!==N):[...Y,N])},j=()=>{i([])},L=N=>h.filter(Y=>Y.folderId===N),V=r.length>0?a.filter(N=>L(N.id).some(he=>he.tags&&he.tags.some(de=>r.includes(de)))):a,R=({folder:N})=>{const Y=L(N.id),he=Y.slice(0,3);return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-full h-32 sm:h-48 bg-muted rounded-lg border-2 border-dashed border-border flex items-center justify-center folder-thumbnail",children:he.length>0?c.jsx("div",{className:"flex gap-1 sm:gap-2",children:he.map((de,ge)=>c.jsx("div",{className:"w-8 h-10 sm:w-12 sm:h-16 bg-card border border-border rounded shadow-sm flex items-center justify-center",style:{transform:`translateX(${ge*-2}px) rotate(${(ge-1)*3}deg)`},children:c.jsx(Ai,{fileType:ch(de.name),className:"h-4 w-4 sm:h-6 sm:w-6"})},de.id))}):c.jsx(Io,{className:"h-8 w-8 sm:h-16 sm:w-16 text-muted-foreground"})}),c.jsxs("div",{className:"absolute bottom-1 sm:bottom-2 right-1 sm:right-2 bg-primary text-primary-foreground text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",children:[Y.length," files"]})]})};return e?M?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(er,{className:"h-8 w-8 mx-auto animate-spin mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading your documents..."})]}):A?c.jsx(I5,{folders:a,onSelectFolder:D,onBack:()=>k(!1),user:e,onFoldersChange:K}):c.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-0 mobile-page-header",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"mobile-page-title sm:text-3xl font-medium text-foreground",children:"Documents"}),c.jsx("p",{className:"text-muted-foreground mobile-page-description sm:mt-2 sm:text-base",children:"Organize and access your project documents and files"})]}),c.jsxs("div",{className:"flex items-center mobile-button-group sm:gap-2",children:[c.jsx(Gf,{children:c.jsxs(re,{variant:"outline",size:"sm",className:"text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(cu,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"Manage "}),"Tags"]})}),c.jsxs(re,{variant:"outline",size:"sm",onClick:()=>k(!0),className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(xl,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),"Manage"]}),c.jsxs(nr,{open:T,onOpenChange:C,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{size:"sm",className:"gap-1 sm:gap-2 text-xs sm:text-sm px-2 sm:px-3",children:[c.jsx(ss,{className:"h-3 w-3 sm:h-4 sm:w-4 mobile-icon"}),c.jsx("span",{className:"hidden sm:inline",children:"New "}),"Folder"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Create New Folder"}),c.jsx(Sr,{children:"Create a new folder to organize your documents"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(It,{htmlFor:"folderName",children:"Folder Name"}),c.jsx(ft,{id:"folderName",value:m,onChange:N=>y(N.target.value),placeholder:"Enter folder name"})]}),c.jsxs("div",{children:[c.jsx(It,{htmlFor:"folderDescription",children:"Description (Optional)"}),c.jsx(ft,{id:"folderDescription",value:v,onChange:N=>x(N.target.value),placeholder:"Enter folder description"})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(re,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),c.jsx(re,{onClick:ee,disabled:$,children:$?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Folder"})]})]})]})]})]})]}),c.jsx(Wf,{selectedTags:r,onTagToggle:b,onClearFilter:j,itemType:"document"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-6 document-grid",children:V.map(N=>c.jsxs(wt,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>n("folder-detail",N.id),children:[c.jsx(pt,{className:"document-card sm:p-4",children:c.jsx(R,{folder:N})}),c.jsxs(Xt,{className:"document-folder-info sm:pt-0",children:[c.jsxs(Bt,{className:"flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[c.jsx(Io,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary mobile-icon"}),N.name]}),c.jsx(Jt,{className:"text-xs sm:text-sm",children:N.description||"Document folder"})]})]},N.id))}),V.length===0&&r.length>0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Io,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No folders match your tag filter"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your tag selection to see more folders"}),c.jsx(re,{onClick:j,variant:"outline",children:"Clear Filter"})]}),a.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Io,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No folders yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first folder to start organizing documents"}),c.jsxs(re,{onClick:()=>C(!0),className:"gap-2",children:[c.jsx(ss,{className:"h-4 w-4"}),"Create Folder"]})]})]}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Please sign in to view your documents."})})}function C5(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Hf="Switch",[N5]=os(Hf),[A5,k5]=N5(Hf),$I=S.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:a,required:u,disabled:h,value:p="on",onCheckedChange:m,form:y,...v}=n,[x,T]=S.useState(null),C=Nt(e,$=>T($)),A=S.useRef(!1),k=x?y||!!x.closest("form"):!0,[M,W]=nu({prop:i,defaultProp:a??!1,onChange:m,caller:Hf});return c.jsxs(A5,{scope:t,checked:M,disabled:h,children:[c.jsx(et.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":HI(M),"data-disabled":h?"":void 0,disabled:h,value:p,...v,ref:C,onClick:Le(n.onClick,$=>{W(B=>!B),k&&(A.current=$.isPropagationStopped(),A.current||$.stopPropagation())})}),k&&c.jsx(WI,{control:x,bubbles:!A.current,name:r,value:p,checked:M,required:u,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});$I.displayName=Hf;var BI="SwitchThumb",GI=S.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=k5(BI,t);return c.jsx(et.span,{"data-state":HI(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});GI.displayName=BI;var R5="SwitchBubbleInput",WI=S.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},a)=>{const u=S.useRef(null),h=Nt(u,a),p=C5(t),m=JE(e);return S.useEffect(()=>{const y=u.current;if(!y)return;const v=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(v,"checked").set;if(p!==t&&T){const C=new Event("click",{bubbles:r});T.call(y,t),y.dispatchEvent(C)}},[p,t,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:h,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});WI.displayName=R5;function HI(n){return n?"checked":"unchecked"}var P5=$I,j5=GI;function D5({className:n,...e}){return c.jsx(P5,{"data-slot":"switch",className:Ge("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:c.jsx(j5,{"data-slot":"switch-thumb",className:Ge("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var M5="Separator",mE="horizontal",O5=["horizontal","vertical"],qI=S.forwardRef((n,e)=>{const{decorative:t,orientation:r=mE,...i}=n,a=L5(r)?r:mE,h=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return c.jsx(et.div,{"data-orientation":a,...h,...i,ref:e})});qI.displayName=M5;function L5(n){return O5.includes(n)}var V5=qI;function nl({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return c.jsx(V5,{"data-slot":"separator-root",decorative:t,orientation:e,className:Ge("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function F5(){const[n,e]=S.useState({genre:!0,hairColor:!0,eyeColor:!0,personality:!0,outfit:!0,hairstyle:!0,weapons:!0,gear:!0,magic:!0}),[t,r]=S.useState(null),[i,a]=S.useState(!1),u={genre:["Fantasy","Sci-Fi","Steampunk","Cyberpunk","Post-Apocalyptic","Medieval","Victorian","Modern Urban Fantasy","Space Opera","Dieselpunk","Biopunk","Solarpunk","Wild West","Ancient Mythology","Norse","Celtic","Japanese Feudal","Arabian Nights","Pirate","Noir Detective","Superhero","Horror Gothic","Fairy Tale"],hairColor:["Raven black","Platinum blonde","Auburn red","Chestnut brown","Silver-white","Deep burgundy","Golden blonde","Copper red","Ash brown","Snow white","Midnight blue","Forest green","Purple amethyst","Rose gold","Steel gray","Crimson red","Honey blonde","Chocolate brown","Electric blue","Lavender purple","Emerald green","Sunset orange","Strawberry blonde"],eyeColor:["Emerald green","Sapphire blue","Amber gold","Deep brown","Silver gray","Violet purple","Sea foam green","Steel blue","Honey brown","Ice blue","Forest green","Crimson red","Golden yellow","Stormy gray","Jade green","Royal blue","Copper brown","Amethyst purple","Turquoise blue","Hazel brown","Arctic blue","Rose quartz pink"],personality:["Brave and impulsive","Mysterious and calculating","Cheerful and optimistic","Stoic and reserved","Witty and sarcastic","Kind-hearted but naive","Ambitious and cunning","Gentle and wise","Fierce and protective","Curious and adventurous","Melancholic and artistic","Confident and charismatic","Shy but determined","Hot-tempered and passionate","Cool-headed and analytical","Eccentric and brilliant","Loyal and steadfast","Rebellious and free-spirited","Cautious and methodical","Playful and mischievous","Noble and honorable","Brooding and intense","Energetic and spontaneous"],outfit:["Flowing robes with intricate embroidery","Leather armor with metal studs","Elegant Victorian dress with lace","Futuristic jumpsuit with glowing accents","Tattered cloak over simple clothing","Ornate military uniform","Casual modern wear with magical accessories","Traditional kimono with weapon holsters","Steampunk ensemble with gears","Pirate coat with weathered boots","Sleek bodysuit with armor plates","Peasant clothing with hidden pockets","Royal garments with jeweled details","Post-apocalyptic scavenged gear","Monk robes with prayer beads","Scholar robes with scrolls and books","Assassin leathers with hidden blades","Tribal wear with natural materials","Space suit with environmental controls","Merchant attire with money pouches"],hairstyle:["Long and flowing","Short and spiky","Braided with charms","Ponytail with ribbons","Messy and unkempt","Elegant updo with pins","Shaved sides with long top","Curly and voluminous","Straight and sleek","Multiple small braids","Mohawk style","Bob cut with bangs","Dreadlocks with beads","Wavy shoulder-length","Buzz cut","Twin tails","French braid","Man bun","Afro with headband","Cornrows with patterns","Partially shaved with designs","Long with face-framing layers","Vintage victory rolls"],weapons:["Enchanted sword with glowing runes","Dual wielding daggers","Ornate bow with magic arrows","Ancient staff with crystal","Futuristic energy rifle","Traditional katana","Throwing knives and stars","War hammer with spikes","Crossbow with special bolts","Whip with metal barbs","Magical grimoire as weapon","Pair of chakrams","Scythe with curved blade","Pistols with elemental bullets","Spear with decorative head","Gauntlets with claws","Shield and short sword combo","Sniper rifle with scope","Chain weapon with weighted end","No weapons - martial arts","Magical orb that floats","Crossbow pistols","Bladed fans"],gear:["Utility belt with potions","Backpack full of scrolls","Enchanted jewelry","Climbing gear and ropes","Mechanical gadgets","Healing supplies","Lock picking tools","Survival equipment","Communication device","Portable laboratory kit","Cartographer supplies","Musical instrument","Cooking utensils","Art supplies","Religious artifacts","Merchant scales and coins","Spy equipment","Arcane focus items","Camping gear","Engineering tools","Alchemical components","Writing materials","Timepiece and compass"],magic:["Fire elemental magic","Ice and frost spells","Lightning and storm powers","Earth and stone manipulation","Plant and nature magic","Shadow and darkness control","Light and healing magic","Mind reading abilities","Teleportation powers","Shape-shifting capability","Time manipulation","Necromancy and death magic","Illusion and glamour spells","Force and kinetic magic","Water and ocean powers","Air and wind control","Blood magic rituals","Crystal and gem magic","Sound and sonic abilities","Dimensional magic","Alchemy and transmutation","Divination and foresight","No magical abilities","Anti-magic field generation"]},h=T=>{e(C=>({...C,[T]:!C[T]}))},p=async()=>{a(!0),await new Promise(C=>setTimeout(C,500));const T={};Object.entries(n).forEach(([C,A])=>{if(A){const k=u[C],M=Math.floor(Math.random()*k.length);T[C]=k[M]}}),r(T),a(!1)},m=()=>{if(!t)return;const T=Object.entries(t).map(([C,A])=>`${C.charAt(0).toUpperCase()+C.slice(1)}: ${A}`).join(`
`);navigator.clipboard.writeText(T).then(()=>{Ue.success("Prompt copied to clipboard!")}).catch(()=>{Ue.error("Failed to copy prompt")})},y=()=>{e({genre:!0,hairColor:!0,eyeColor:!0,personality:!0,outfit:!0,hairstyle:!0,weapons:!0,gear:!0,magic:!0})},v=()=>{e({genre:!1,hairColor:!1,eyeColor:!1,personality:!1,outfit:!1,hairstyle:!1,weapons:!1,gear:!1,magic:!1})},x=T=>T.replace(/([A-Z])/g," $1").replace(/^./,C=>C.toUpperCase());return c.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("h1",{className:"text-3xl font-medium text-foreground flex items-center justify-center gap-2",children:[c.jsx(bx,{className:"h-8 w-8 text-primary"}),"Creative Tools"]}),c.jsx("p",{className:"text-muted-foreground",children:"Generate random character design prompts to spark your creativity"})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs(Bt,{className:"flex items-center gap-2",children:[c.jsx(bj,{className:"h-5 w-5 text-primary"}),"Character Prompt Generator"]}),c.jsx(Jt,{children:"Toggle the elements you want to include in your character prompt"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"outline",size:"sm",onClick:y,children:"Enable All"}),c.jsx(re,{variant:"outline",size:"sm",onClick:v,children:"Disable All"})]}),c.jsx(nl,{}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(n).map(([T,C])=>c.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[c.jsx(It,{htmlFor:T,className:"text-sm font-medium cursor-pointer",children:x(T)}),c.jsx(D5,{id:T,checked:C,onCheckedChange:()=>h(T)})]},T))}),c.jsx(nl,{}),c.jsxs(re,{onClick:p,className:"w-full",size:"lg",disabled:i||Object.values(n).every(T=>!T),children:[i?c.jsx(Ex,{className:"h-5 w-5 mr-2 animate-spin"}):c.jsx(Tx,{className:"h-5 w-5 mr-2"}),i?"Generating...":"Generate Character Prompt"]}),Object.values(n).every(T=>!T)&&c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Enable at least one option to generate a prompt"})]})]}),c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsx(Bt,{children:"Generated Character Prompt"}),c.jsx(Jt,{children:"Your randomized character design elements"})]}),c.jsx(pt,{className:"space-y-4",children:t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-3",children:Object.entries(t).map(([T,C])=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(_r,{variant:"secondary",className:"text-xs",children:x(T)})}),c.jsx("p",{className:"text-sm text-foreground pl-1",children:C})]},T))}),c.jsx(nl,{}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(re,{variant:"outline",onClick:m,className:"flex-1",children:[c.jsx(FP,{className:"h-4 w-4 mr-2"}),"Copy Prompt"]}),c.jsx(re,{variant:"outline",onClick:p,disabled:i,children:i?c.jsx(Ex,{className:"h-4 w-4 animate-spin"}):c.jsx(Tx,{className:"h-4 w-4"})})]})]}):c.jsx("div",{className:"text-center py-8 space-y-3",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(bx,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),c.jsx("p",{children:"No prompt generated yet"}),c.jsx("p",{className:"text-sm",children:'Click "Generate Character Prompt" to create one'})]})})})]})]}),c.jsxs(wt,{children:[c.jsx(Xt,{children:c.jsx(Bt,{children:"How to Use"})}),c.jsx(pt,{children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Getting Started"}),c.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[c.jsx("li",{children:"• Toggle on/off any character elements you want"}),c.jsx("li",{children:'• Click "Generate Character Prompt" to create a random character'}),c.jsx("li",{children:'• Use the "Copy Prompt" button to save your results'}),c.jsx("li",{children:"• Generate new prompts until you find inspiration"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Tips for Artists"}),c.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[c.jsx("li",{children:"• Try different combinations of enabled elements"}),c.jsx("li",{children:"• Use prompts as starting points for your own ideas"}),c.jsx("li",{children:"• Mix and match elements from multiple generations"}),c.jsx("li",{children:"• Don't be afraid to modify the generated suggestions"})]})]})]})})]})]})}function U5(){const n=[{name:"Wacom Intuos",description:"Entry-level drawing tablet perfect for beginners",category:"Entry Level",price:"$60-80"},{name:"Wacom Cintiq",description:"Professional display tablet with direct drawing on screen",category:"Professional",price:"$600-2000+"},{name:"XP-Pen Deco Series",description:"Affordable and reliable drawing tablets with great pressure sensitivity",category:"Mid-Range",price:"$40-120"},{name:"XP-Pen Artist Series",description:"Display tablets offering screen drawing at competitive prices",category:"Display Tablet",price:"$200-800"},{name:"Huion H610 Pro",description:"Budget-friendly tablet with large drawing area",category:"Budget",price:"$60-90"},{name:"Huion Kamvas",description:"Pen display tablets with excellent color accuracy",category:"Display Tablet",price:"$250-600"},{name:"iPad Pro + Apple Pencil",description:"Versatile tablet perfect for digital art and portability",category:"Mobile",price:"$800-1200+"},{name:"Microsoft Surface Pro",description:"Full computer with drawing capabilities using Surface Pen",category:"Mobile",price:"$600-1500+"}],e=[{name:"Amazon",description:"Wide selection with customer reviews and fast shipping",icon:c.jsx(Qd,{className:"h-4 w-4"})},{name:"XP-Pen Official Store",description:"Direct from manufacturer with warranties and support",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Wacom Store",description:"Official Wacom products with full warranty coverage",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Best Buy",description:"Physical and online store with tech support options",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"B&H Photo",description:"Professional equipment retailer with expert advice",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"Newegg",description:"Tech-focused retailer with competitive pricing",icon:c.jsx(_i,{className:"h-4 w-4"})}],t=[{name:"Moleskine Art Collection",description:"Premium hardcover sketchbooks with quality paper",category:"Premium",price:"$15-25"},{name:"Strathmore Drawing Paper",description:"Professional-grade paper perfect for various mediums",category:"Professional",price:"$8-20"},{name:"Canson XL Series",description:"Affordable sketchbooks with good paper quality",category:"Budget Friendly",price:"$5-15"},{name:"Rhodia Sketch Pads",description:"French-made pads with smooth, high-quality paper",category:"Premium",price:"$10-18"},{name:"Arteza Sketch Books",description:"Value packs with thick, bleed-resistant paper",category:"Value Pack",price:"$12-25"},{name:"Pentalic Nature Sketch",description:"Spiral-bound books perfect for outdoor sketching",category:"Outdoor",price:"$6-12"},{name:"Stillman & Birn Alpha",description:"Mixed media paper suitable for multiple techniques",category:"Mixed Media",price:"$15-30"},{name:"Pocket-sized Sketch Pads",description:"Small format books for quick sketches on-the-go",category:"Portable",price:"$3-8"}],r=[{name:"Amazon",description:"Huge selection with customer reviews and bulk options",icon:c.jsx(Qd,{className:"h-4 w-4"})},{name:"Michaels",description:"Craft store with frequent sales and coupons",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Hobby Lobby",description:"Art supplies store with weekly 40% off coupons",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Walmart",description:"Basic art supplies at everyday low prices",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"Blick Art Materials",description:"Professional art supply store with expert knowledge",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Jerry's Artarama",description:"Discount art supplies with frequent sales",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Local Art Stores",description:"Support local businesses and get personalized advice",icon:c.jsx(_i,{className:"h-4 w-4"})}],i=[{name:"Canon EOS R5",description:"High-resolution mirrorless camera for professional photography",category:"Professional Mirrorless",price:"$3500-4000"},{name:"Sony A7 IV",description:"Versatile full-frame camera with excellent image quality",category:"Professional Mirrorless",price:"$2500-3000"},{name:"Nikon D850",description:"High-resolution DSLR with exceptional detail capture",category:"Professional DSLR",price:"$2500-3000"},{name:"Canon EOS R10",description:"Entry-level mirrorless with great features for beginners",category:"Entry Mirrorless",price:"$700-900"},{name:"Sony A6400",description:"Compact APS-C camera with fast autofocus",category:"Mid-Range Mirrorless",price:"$800-1000"},{name:"Fujifilm X-T4",description:"Retro-styled camera with excellent color science",category:"Mid-Range Mirrorless",price:"$1400-1800"},{name:"Canon EOS Rebel T7i",description:"Beginner-friendly DSLR with guided modes",category:"Entry DSLR",price:"$500-700"},{name:"iPhone 15 Pro",description:"Smartphone with professional-grade camera system",category:"Mobile Photography",price:"$1000-1200"},{name:"Google Pixel 8 Pro",description:"Android phone with computational photography features",category:"Mobile Photography",price:"$900-1000"}],a=[{name:"B&H Photo",description:"Professional camera retailer with expert staff and reviews",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Amazon",description:"Wide selection with competitive prices and fast shipping",icon:c.jsx(Qd,{className:"h-4 w-4"})},{name:"Adorama",description:"Photography specialist with educational resources",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Best Buy",description:"Electronics retailer with hands-on testing opportunities",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"KEH Camera",description:"Used camera specialist with quality guarantees",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Local Camera Shops",description:"Professional advice and hands-on experience",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"Manufacturer Stores",description:"Canon, Sony, Nikon official stores with warranties",icon:c.jsx(on,{className:"h-4 w-4"})}],u=[{name:"Krita",description:"Completely free and open-source painting program with professional features",category:"Free",price:"Free",platform:"Windows, Mac, Linux",paymentModel:"Free Forever"},{name:"Clip Studio Paint",description:"Industry-standard software for manga, comics, and illustration",category:"Professional",price:"$50 (Pro) / $4.49/month",platform:"Windows, Mac, iPad, iPhone, Android",paymentModel:"One-time Purchase or Subscription"},{name:"Adobe Photoshop",description:"Industry-leading image editing and digital painting software",category:"Professional",price:"$22.99/month",platform:"Windows, Mac, iPad",paymentModel:"Subscription Only"},{name:"Procreate",description:"Intuitive digital painting app designed specifically for iPad",category:"Mobile",price:"$12.99",platform:"iPad Only",paymentModel:"One-time Purchase"},{name:"Paint Tool SAI",description:"Lightweight and user-friendly painting software popular among anime artists",category:"Mid-Range",price:"$50",platform:"Windows Only",paymentModel:"One-time Purchase"},{name:"Medibang Paint",description:"Free drawing and painting software with cloud storage features",category:"Free",price:"Free",platform:"Windows, Mac, iPad, iPhone, Android",paymentModel:"Free with Optional Premium ($2.99/month)"},{name:"Adobe Illustrator",description:"Vector graphics software perfect for logos, illustrations, and graphic design",category:"Professional",price:"$22.99/month",platform:"Windows, Mac, iPad",paymentModel:"Subscription Only"},{name:"Affinity Designer",description:"Professional vector design software with no subscription fees",category:"Professional",price:"$69.99",platform:"Windows, Mac, iPad",paymentModel:"One-time Purchase"},{name:"Corel Painter",description:"Digital art software that mimics traditional painting techniques",category:"Professional",price:"$429 / $199/year",platform:"Windows, Mac",paymentModel:"One-time Purchase or Subscription"},{name:"GIMP",description:"Free and open-source image editor with extensive customization options",category:"Free",price:"Free",platform:"Windows, Mac, Linux",paymentModel:"Free Forever"},{name:"FireAlpaca",description:"Simple and lightweight free painting software",category:"Free",price:"Free",platform:"Windows, Mac",paymentModel:"Free Forever"},{name:"Autodesk Sketchbook",description:"User-friendly sketching and drawing application",category:"Free",price:"Free",platform:"Windows, Mac, iPad, iPhone, Android",paymentModel:"Free Forever"}],h=[{name:"Official Websites",description:"Download directly from software developers for best support",icon:c.jsx(_i,{className:"h-4 w-4"})},{name:"Steam",description:"Gaming platform that also sells creative software",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"App Store (iOS)",description:"Official Apple store for iPad and iPhone apps",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Google Play Store",description:"Official Android app store for mobile drawing apps",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Adobe Creative Cloud",description:"Adobe's subscription platform for their creative suite",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Microsoft Store",description:"Windows app store with various creative applications",icon:c.jsx(on,{className:"h-4 w-4"})},{name:"Mac App Store",description:"Official Apple store for macOS applications",icon:c.jsx(on,{className:"h-4 w-4"})}],p=({title:m,description:y,items:v,stores:x,icon:T})=>c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs(Bt,{className:"flex items-center gap-2",children:[T,m]}),c.jsx(Jt,{children:y})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[c.jsx(il,{className:"h-4 w-4"}),"Popular Options"]}),c.jsx("div",{className:"grid gap-3",children:v.map((C,A)=>c.jsxs("div",{className:"border border-border rounded-lg p-3 space-y-2",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h5",{className:"font-medium",children:C.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:C.description}),C.platform&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:"Platform:"})," ",C.platform]}),C.paymentModel&&c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:"Payment:"})," ",C.paymentModel]})]}),C.price&&c.jsx(_r,{variant:"outline",className:"text-xs",children:C.price})]}),c.jsx("div",{className:"flex gap-2",children:C.category&&c.jsx(_r,{variant:"secondary",className:"text-xs",children:C.category})})]},A))})]}),c.jsx(nl,{}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[c.jsx(Qd,{className:"h-4 w-4"}),"Where to Buy"]}),c.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:x.map((C,A)=>c.jsxs("div",{className:"border border-border rounded-lg p-3 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[C.icon,c.jsx("h5",{className:"font-medium",children:C.name})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:C.description})]},A))})]})]})]});return c.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("h1",{className:"text-3xl font-medium text-foreground flex items-center justify-center gap-2",children:[c.jsx(il,{className:"h-8 w-8 text-primary"}),"Art Resources"]}),c.jsx("p",{className:"text-muted-foreground",children:"Essential tools and supplies for digital and traditional artists"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx(p,{title:"Drawing Tablets",description:"Digital drawing tablets and pen displays for digital art creation",items:n,stores:e,icon:c.jsx(Aj,{className:"h-5 w-5 text-primary"})}),c.jsx(p,{title:"Sketchbooks",description:"Traditional sketchbooks and drawing pads for analog art",items:t,stores:r,icon:c.jsx(uy,{className:"h-5 w-5 text-primary"})}),c.jsx(p,{title:"Cameras",description:"Cameras for photography, reference shooting, and documentation",items:i,stores:a,icon:c.jsx(AP,{className:"h-5 w-5 text-primary"})}),c.jsx(p,{title:"Software",description:"Digital art and design software for creating illustrations and graphics",items:u,stores:h,icon:c.jsx(oj,{className:"h-5 w-5 text-primary"})})]}),c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsx(Bt,{children:"Shopping Tips"}),c.jsx(Jt,{children:"Make informed decisions when purchasing art supplies"})]}),c.jsx(pt,{children:c.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-sm",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Research First"}),c.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[c.jsx("li",{children:"• Read reviews from other artists"}),c.jsx("li",{children:"• Watch comparison videos on YouTube"}),c.jsx("li",{children:"• Check compatibility with your software"}),c.jsx("li",{children:"• Consider your skill level and needs"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Budget Wisely"}),c.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[c.jsx("li",{children:"• Start with free software like Krita or GIMP"}),c.jsx("li",{children:"• Look for student discounts on paid software"}),c.jsx("li",{children:"• Consider one-time purchases over subscriptions"}),c.jsx("li",{children:"• Try free trials before committing to paid software"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h4",{className:"font-medium",children:"Support Options"}),c.jsxs("ul",{className:"space-y-1 text-muted-foreground",children:[c.jsx("li",{children:"• Check warranty coverage"}),c.jsx("li",{children:"• Verify customer support availability"}),c.jsx("li",{children:"• Look for local service centers"}),c.jsx("li",{children:"• Read return policies carefully"})]})]})]})})]})]})}function z5({document:n,isOpen:e,onClose:t,onDocumentRename:r,onDocumentDelete:i,showControls:a=!0}){const[u,h]=S.useState(!1),[p,m]=S.useState("");En.useEffect(()=>{n&&m(n.name),h(!1)},[n]);const y=()=>{p.trim()&&r&&r(p.trim()),h(!1)},v=()=>{m(n?.name||""),h(!1)},x=()=>{i&&(i(),t())},T=()=>{if(n){const M=window.document.createElement("a");M.href=n.url,M.download=n.name,window.document.body.appendChild(M),M.click(),window.document.body.removeChild(M)}},C=()=>{n&&window.open(n.url,"_blank")},k=n?.type==="pdf"||n?.type==="txt"||n?.type==="md";return n?c.jsx(nr,{open:e,onOpenChange:t,children:c.jsxs(Tr,{className:"max-w-6xl w-full h-[90vh] p-0",children:[c.jsx(br,{className:"sr-only",children:n?`Viewing ${n.name}`:"Document Viewer"}),c.jsx(Sr,{className:"sr-only",children:n?`Document viewer for ${n.type.toUpperCase()} files`:"Document viewer with preview capabilities"}),c.jsxs("div",{className:"relative w-full h-full flex flex-col",children:[c.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-background",children:[c.jsx("div",{className:"flex items-center gap-2 flex-1",children:u?c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(ft,{value:p,onChange:M=>m(M.target.value),className:"flex-1",onKeyDown:M=>{M.key==="Enter"?y():M.key==="Escape"&&v()},autoFocus:!0}),c.jsx(re,{size:"sm",variant:"ghost",onClick:y,children:c.jsx(lu,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:v,children:c.jsx(bn,{className:"h-4 w-4"})})]}):c.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[c.jsx(Ai,{fileType:n.type,className:"h-5 w-5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:n.name}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.size," • ",new Date(n.uploadDate).toLocaleDateString()]})]}),r&&c.jsx(re,{size:"sm",variant:"ghost",onClick:()=>h(!0),className:"ml-auto",children:c.jsx($o,{className:"h-4 w-4"})})]})}),c.jsxs("div",{className:"flex items-center gap-2",children:[a&&c.jsxs(c.Fragment,{children:[c.jsx(re,{size:"sm",variant:"ghost",onClick:T,title:"Download",children:c.jsx(Wc,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"ghost",onClick:C,title:"Open in new tab",children:c.jsx(il,{className:"h-4 w-4"})}),i&&c.jsx(re,{size:"sm",variant:"ghost",onClick:x,className:"text-destructive hover:text-destructive",title:"Delete",children:c.jsx(Os,{className:"h-4 w-4"})})]}),c.jsx(re,{size:"sm",variant:"ghost",onClick:t,children:c.jsx(bn,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:k?c.jsx("iframe",{src:n.url,className:"w-full h-full border-0",title:n.name}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-muted/20",children:[c.jsx(Ai,{fileType:n.type,className:"h-16 w-16 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Preview not available"}),c.jsxs("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:["This file type (",n.type.toUpperCase(),") cannot be previewed in the browser. You can download the file or open it in an external application."]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(re,{onClick:T,className:"gap-2",children:[c.jsx(Wc,{className:"h-4 w-4"}),"Download"]}),c.jsxs(re,{variant:"outline",onClick:C,className:"gap-2",children:[c.jsx(il,{className:"h-4 w-4"}),"Open External"]})]})]})})]})]})}):null}function $5({folderId:n,onNavigate:e,onFolderUpdate:t}){const{addUpload:r}=SI(),{getItemsByTags:i}=Ko(),[a,u]=S.useState([]),[h,p]=S.useState({id:n,name:n==="1"?"Design Specs":n==="2"?"Project Proposals":"Research",description:n==="1"?"Technical specifications and design documents":n==="2"?"Client proposals and project documentation":"Market research and user studies",documents:n==="1"?[{id:"1",name:"UI Guidelines.pdf",type:"pdf",url:"/mock-doc.pdf",size:"2.1 MB",uploadDate:"2024-01-15"},{id:"2",name:"Brand Manual.pdf",type:"pdf",url:"/mock-doc.pdf",size:"5.3 MB",uploadDate:"2024-01-10"},{id:"3",name:"Color Palette.pdf",type:"pdf",url:"/mock-doc.pdf",size:"1.2 MB",uploadDate:"2024-01-08"},{id:"4",name:"Typography Guide.pdf",type:"pdf",url:"/mock-doc.pdf",size:"3.8 MB",uploadDate:"2024-01-05"}]:n==="2"?[{id:"5",name:"Q4 Campaign.docx",type:"docx",url:"/mock-doc.docx",size:"4.2 MB",uploadDate:"2024-02-01"},{id:"6",name:"Brand Refresh.pptx",type:"pptx",url:"/mock-doc.pptx",size:"12.7 MB",uploadDate:"2024-01-28"},{id:"7",name:"Budget Analysis.xlsx",type:"xlsx",url:"/mock-doc.xlsx",size:"890 KB",uploadDate:"2024-01-25"}]:[{id:"8",name:"User Survey Results.pdf",type:"pdf",url:"/mock-doc.pdf",size:"6.1 MB",uploadDate:"2024-02-10"},{id:"9",name:"Competitor Analysis.pdf",type:"pdf",url:"/mock-doc.pdf",size:"8.3 MB",uploadDate:"2024-02-05"}]}),[m,y]=S.useState(h.documents),[v,x]=S.useState(!1),[T,C]=S.useState(!1),[A,k]=S.useState(!1),[M,W]=S.useState(h.name),[$,B]=S.useState(h.description),[K,ee]=S.useState(!1),[D,b]=S.useState(null),j=X=>c.jsx(Ai,{fileType:X,className:"h-8 w-8"}),L=X=>new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),V=X=>{X.forEach(se=>{const U=se.name.split(".").pop()?.toLowerCase()||"",te=`${(se.size/(1024*1024)).toFixed(1)} MB`,ye={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:se.name,type:U,url:URL.createObjectURL(se),size:te,uploadDate:new Date().toISOString().split("T")[0]};y(Pe=>[...Pe,ye]);const _e={id:ye.id,name:se.name,type:"document",fileType:U,url:ye.url,size:te,uploadDate:new Date().toISOString(),location:`Documents > ${h.name}`};r(_e)}),x(!1)},R=X=>{b(X),ee(!0)},N=X=>{if(D){const se=m.map(U=>U.id===D.id?{...U,name:X}:U);y(se),b({...D,name:X})}},Y=()=>{if(D){const X=m.filter(se=>se.id!==D.id);y(X),b(null),ee(!1)}},he=X=>{const se=m.filter(U=>U.id!==X);y(se)},de=X=>{u(se=>se.includes(X)?se.filter(U=>U!==X):[...se,X])},ge=()=>{u([])},G=a.length>0?m.filter(X=>i(a,"document").some(U=>U.id===X.id)):m;return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsxs(re,{variant:"ghost",onClick:()=>e("documents"),className:"gap-2",children:[c.jsx(au,{className:"h-4 w-4"}),"Back to Documents"]})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-medium text-foreground",children:h.name}),c.jsx("p",{className:"text-muted-foreground mt-2",children:h.description}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[m.length," document",m.length!==1?"s":"",G.length!==m.length&&c.jsxs("span",{children:[" • ",G.length," shown"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gf,{children:c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(cu,{className:"h-4 w-4 mr-2"}),"Manage Tags"]})}),c.jsxs(nr,{open:v,onOpenChange:x,children:[c.jsx(xr,{asChild:!0,children:c.jsxs(re,{className:"gap-2",children:[c.jsx(Hc,{className:"h-4 w-4"}),"Upload Document"]})}),c.jsxs(Tr,{children:[c.jsxs(Qi,{children:[c.jsx(br,{children:"Upload Document"}),c.jsxs(Sr,{children:["Add a new document to the ",h.name," folder"]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Fg,{onFilesUploaded:V,type:"document",multiple:!0}),c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsx(re,{variant:"outline",onClick:()=>x(!1),children:"Cancel"})})]})]})]})]})]}),c.jsx(Wf,{selectedTags:a,onTagToggle:de,onClearFilter:ge,itemType:"document"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:G.map(X=>c.jsxs(wt,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 group relative",onClick:()=>R(X),children:[c.jsxs(pt,{className:"p-4",children:[c.jsxs("div",{className:"w-full h-32 bg-muted rounded-lg border flex items-center justify-center mb-4 relative",children:[j(X.type),c.jsx("div",{className:"absolute top-2 left-2",children:c.jsx(Qh,{itemId:X.id,itemType:"document",size:"sm"})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"font-medium text-sm truncate",title:X.name,children:X.name}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:X.size}),c.jsx("span",{children:L(X.uploadDate)})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Qh,{itemId:X.id,itemType:"document",showAddButton:!0,size:"sm"})})]})]}),c.jsxs("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[c.jsx(re,{size:"sm",variant:"secondary",onClick:se=>{se.stopPropagation(),R(X)},className:"h-8 w-8 p-0",title:"View document",children:c.jsx(qa,{className:"h-4 w-4"})}),c.jsx(re,{size:"sm",variant:"destructive",onClick:se=>{se.stopPropagation(),he(X.id)},className:"h-8 w-8 p-0",title:"Delete document",children:c.jsx(Os,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"px-4 pb-4",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(re,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:se=>{se.stopPropagation(),R(X)},children:[c.jsx(qa,{className:"h-3 w-3"}),"View"]}),c.jsxs(re,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:se=>{se.stopPropagation();const U=document.createElement("a");U.href=X.url,U.download=X.name,document.body.appendChild(U),U.click(),document.body.removeChild(U)},children:[c.jsx(Wc,{className:"h-3 w-3"}),"Download"]})]})})]},X.id))}),G.length===0&&a.length>0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ai,{fileType:"document",className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No documents match your tag filter"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your tag selection to see more documents"}),c.jsx(re,{onClick:ge,variant:"outline",children:"Clear Filter"})]}),m.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Ai,{fileType:"document",className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No documents yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Upload your first document to this folder"}),c.jsxs(re,{onClick:()=>x(!0),className:"gap-2",children:[c.jsx(Hc,{className:"h-4 w-4"}),"Upload Documents"]})]}),c.jsx(z5,{document:D,isOpen:K,onClose:()=>ee(!1),onDocumentRename:N,onDocumentDelete:Y})]})}var qf="Tabs",[B5]=os(qf,[hf]),KI=hf(),[G5,Sv]=B5(qf),QI=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:u="horizontal",dir:h,activationMode:p="automatic",...m}=n,y=Gg(h),[v,x]=nu({prop:r,onChange:i,defaultProp:a??"",caller:qf});return c.jsx(G5,{scope:t,baseId:No(),value:v,onValueChange:x,orientation:u,dir:y,activationMode:p,children:c.jsx(et.div,{dir:y,"data-orientation":u,...m,ref:e})})});QI.displayName=qf;var YI="TabsList",XI=S.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=Sv(YI,t),u=KI(t);return c.jsx(p1,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:r,children:c.jsx(et.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});XI.displayName=YI;var JI="TabsTrigger",ZI=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,u=Sv(JI,t),h=KI(t),p=nC(u.baseId,r),m=rC(u.baseId,r),y=r===u.value;return c.jsx(m1,{asChild:!0,...h,focusable:!i,active:y,children:c.jsx(et.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:p,...a,ref:e,onMouseDown:Le(n.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?u.onValueChange(r):v.preventDefault()}),onKeyDown:Le(n.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&u.onValueChange(r)}),onFocus:Le(n.onFocus,()=>{const v=u.activationMode!=="manual";!y&&!i&&v&&u.onValueChange(r)})})})});ZI.displayName=JI;var eC="TabsContent",tC=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...u}=n,h=Sv(eC,t),p=nC(h.baseId,r),m=rC(h.baseId,r),y=r===h.value,v=S.useRef(y);return S.useEffect(()=>{const x=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(x)},[]),c.jsx(zs,{present:i||y,children:({present:x})=>c.jsx(et.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!x,id:m,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:v.current?"0s":void 0},children:x&&a})})});tC.displayName=eC;function nC(n,e){return`${n}-trigger-${e}`}function rC(n,e){return`${n}-content-${e}`}var W5=QI,H5=XI,q5=ZI,K5=tC;function sC({className:n,...e}){return c.jsx(W5,{"data-slot":"tabs",className:Ge("flex flex-col gap-2",n),...e})}function iC({className:n,...e}){return c.jsx(H5,{"data-slot":"tabs-list",className:Ge("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function Fc({className:n,...e}){return c.jsx(q5,{"data-slot":"tabs-trigger",className:Ge("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Uc({className:n,...e}){return c.jsx(K5,{"data-slot":"tabs-content",className:Ge("flex-1 outline-none",n),...e})}const oC=S.createContext({});function Iv(){return S.useContext(oC)}function Q5({children:n}){const[e,t]=S.useState(null),[r,i]=S.useState(!0),a=async x=>{try{const T=Ns(Qt,"users"),C=fl(T,pl("screenName","==",x));return!(await ml(C)).empty}catch(T){return console.error("Error checking screen name:",T),!1}},u=async(x,T,C,A,k)=>{try{if(await a(k))throw new Error("Screen name already exists. Please choose a different one.");const{user:W}=await fF(sh,x,T);await gF(W,{displayName:`${C} ${A}`});const $={uid:W.uid,email:W.email,firstName:C,lastName:A,screenName:k,createdAt:Be.now(),updatedAt:Be.now()};await ZL(As(Qt,"users",W.uid),$)}catch(M){throw console.error("Signup error:",M),M}},h=async(x,T)=>{try{await pF(sh,x,T)}catch(C){throw console.error("Signin error:",C),C.code==="auth/user-not-found"?new Error("No account found with this email address. Please sign up first."):C.code==="auth/wrong-password"?new Error("Invalid password. Please try again."):C.code==="auth/invalid-email"?new Error("Invalid email address."):new Error("Sign in failed. Please try again.")}},p=async()=>{try{await _F(sh),t(null)}catch(x){throw console.error("Logout error:",x),x}},m=async x=>{if(!e)throw new Error("No user logged in");try{const T=As(Qt,"users",e.uid);await Oc(T,{...x,updatedAt:Be.now()}),t(C=>C?{...C,...x}:null)}catch(T){throw console.error("Update profile error:",T),T}},y=async x=>{try{const T=await zh(As(Qt,"users",x));if(T.exists()){const C=T.data();return{uid:C.uid,email:C.email,firstName:C.firstName,lastName:C.lastName,screenName:C.screenName,profilePicture:C.profilePicture}}return null}catch(T){return console.error("Error getting user data:",T),null}};S.useEffect(()=>wF(sh,async T=>{if(T){const C=await y(T.uid);t(C)}else t(null);i(!1)}),[]);const v={currentUser:e,loading:r,signup:u,signin:h,logout:p,updateUserProfile:m,checkScreenNameExists:a};return c.jsx(oC.Provider,{value:v,children:!r&&n})}function Y5({onNavigate:n}){const{signin:e,signup:t,checkScreenNameExists:r}=Iv(),[i,a]=S.useState({email:"",password:""}),[u,h]=S.useState({firstName:"",lastName:"",screenName:"",email:"",password:"",confirmPassword:""}),[p,m]=S.useState(!1),[y,v]=S.useState(!1),[x,T]=S.useState(""),[C,A]=S.useState(""),[k,M]=S.useState(!1),W=async B=>{if(B.preventDefault(),T(""),M(!0),!i.email||!i.password){T("Please fill in all fields"),M(!1);return}if(!i.email.includes("@")){T("Please enter a valid email address"),M(!1);return}try{await e(i.email,i.password),Ue.success("Successfully signed in!"),n("home")}catch(K){T(K.message||"Failed to sign in"),Ue.error(K.message||"Failed to sign in")}finally{M(!1)}},$=async B=>{if(B.preventDefault(),A(""),M(!0),!u.firstName||!u.lastName||!u.screenName||!u.email||!u.password||!u.confirmPassword){A("Please fill in all fields"),M(!1);return}if(!u.email.includes("@")){A("Please enter a valid email address"),M(!1);return}if(u.password.length<6){A("Password must be at least 6 characters long"),M(!1);return}if(u.password!==u.confirmPassword){A("Passwords do not match"),M(!1);return}if(!/^[a-zA-Z0-9_]+$/.test(u.screenName)){A("Screen name can only contain letters, numbers, and underscores"),M(!1);return}try{await t(u.email,u.password,u.firstName,u.lastName,u.screenName),Ue.success("Account created successfully!"),n("home")}catch(K){A(K.message||"Failed to create account"),Ue.error(K.message||"Failed to create account")}finally{M(!1)}};return c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs(re,{variant:"ghost",onClick:()=>n("home"),className:"mb-4 text-muted-foreground hover:text-foreground",children:[c.jsx(au,{className:"mr-2 h-4 w-4"}),"Back to Home"]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"MuralDB"}),c.jsx("p",{className:"text-muted-foreground",children:"Welcome to your gallery management system"})]})]}),c.jsx(wt,{children:c.jsxs(sC,{defaultValue:"login",className:"w-full",children:[c.jsx(Xt,{children:c.jsxs(iC,{className:"grid w-full grid-cols-2",children:[c.jsx(Fc,{value:"login",children:"Login"}),c.jsx(Fc,{value:"signup",children:"Sign Up"})]})}),c.jsx(Uc,{value:"login",children:c.jsxs("form",{onSubmit:W,children:[c.jsxs(pt,{className:"space-y-4",children:[c.jsx(Bt,{children:"Sign in to your account"}),c.jsx(Jt,{children:"Enter your email and password to access MuralDB"}),x&&c.jsx("div",{className:"text-destructive text-sm bg-destructive/10 p-3 rounded-md",children:x}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"login-email",children:"Email"}),c.jsx(ft,{id:"login-email",type:"email",placeholder:"Enter your email",value:i.email,onChange:B=>a({...i,email:B.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"login-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"login-password",type:p?"text":"password",placeholder:"Enter your password",value:i.password,onChange:B=>a({...i,password:B.target.value})}),c.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>m(!p),children:p?c.jsx(Mm,{className:"h-4 w-4"}):c.jsx(qa,{className:"h-4 w-4"})})]})]})]}),c.jsxs(kx,{className:"flex flex-col space-y-3",children:[c.jsx(re,{type:"submit",className:"w-full",disabled:k,children:k?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),c.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"Enter your credentials to access your account"})]})]})}),c.jsx(Uc,{value:"signup",children:c.jsxs("form",{onSubmit:$,children:[c.jsxs(pt,{className:"space-y-4",children:[c.jsx(Bt,{children:"Create your account"}),c.jsx(Jt,{children:"Sign up to start managing your galleries and documents"}),C&&c.jsx("div",{className:"text-destructive text-sm bg-destructive/10 p-3 rounded-md",children:C}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-first-name",children:"First Name"}),c.jsx(ft,{id:"signup-first-name",type:"text",placeholder:"Enter your first name",value:u.firstName,onChange:B=>h({...u,firstName:B.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-last-name",children:"Last Name"}),c.jsx(ft,{id:"signup-last-name",type:"text",placeholder:"Enter your last name",value:u.lastName,onChange:B=>h({...u,lastName:B.target.value})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-screen-name",children:"Screen Name"}),c.jsx(ft,{id:"signup-screen-name",type:"text",placeholder:"Choose a display name",value:u.screenName,onChange:B=>h({...u,screenName:B.target.value})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"This is the name that will be displayed when you're logged in"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-email",children:"Email"}),c.jsx(ft,{id:"signup-email",type:"email",placeholder:"Enter your email",value:u.email,onChange:B=>h({...u,email:B.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"signup-password",type:p?"text":"password",placeholder:"Create a password (min 6 characters)",value:u.password,onChange:B=>h({...u,password:B.target.value})}),c.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>m(!p),children:p?c.jsx(Mm,{className:"h-4 w-4"}):c.jsx(qa,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(ft,{id:"signup-confirm-password",type:y?"text":"password",placeholder:"Confirm your password",value:u.confirmPassword,onChange:B=>h({...u,confirmPassword:B.target.value})}),c.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-8 w-8 p-0",onClick:()=>v(!y),children:y?c.jsx(Mm,{className:"h-4 w-4"}):c.jsx(qa,{className:"h-4 w-4"})})]})]})]}),c.jsxs(kx,{className:"flex flex-col space-y-3",children:[c.jsx(re,{type:"submit",className:"w-full",disabled:k,children:k?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),c.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"By signing up, you agree to our terms and conditions"})]})]})})]})})]})})}function X5({user:n}){const{updateUserProfile:e,logout:t}=Iv(),[r,i]=S.useState([]),[a,u]=S.useState(!0),[h,p]=S.useState(!1),[m,y]=S.useState(!1),[v,x]=S.useState({firstName:n.firstName,lastName:n.lastName,screenName:n.screenName}),[T,C]=S.useState(n.profilePicture||""),[A,k]=S.useState(!1),M=S.useRef(null);S.useEffect(()=>{(async()=>{try{const j=await Jn.getUserGalleries(n.uid);i(j)}catch(j){console.error("Error loading galleries:",j),Ue.error("Failed to load galleries")}finally{u(!1)}})()},[n.uid]);const W=async()=>{y(!0);try{await e({firstName:v.firstName,lastName:v.lastName,screenName:v.screenName,profilePicture:T}),p(!1),Ue.success("Profile updated successfully!")}catch(b){console.error("Error updating profile:",b),Ue.error(b.message||"Failed to update profile")}finally{y(!1)}},$=()=>{x({firstName:n.firstName,lastName:n.lastName,screenName:n.screenName}),C(n.profilePicture||""),p(!1)},B=async b=>{const j=b.target.files?.[0];if(j){if(j.size>5*1024*1024){Ue.error("File size must be less than 5MB");return}if(!j.type.startsWith("image/")){Ue.error("Please select an image file");return}k(!0);try{if(T&&T.includes("firebase"))try{const N=Ya(el,`profile-pictures/${n.uid}`);await Dg(N)}catch{console.log("Old profile picture not found, continuing...")}const L=Ya(el,`profile-pictures/${n.uid}`),V=await iv(L,j),R=await ov(V.ref);C(R),Ue.success("Profile picture uploaded successfully!")}catch(L){console.error("Error uploading profile picture:",L),Ue.error("Failed to upload profile picture")}finally{k(!1)}}},K=async()=>{if(T)try{if(T.includes("firebase")){const b=Ya(el,`profile-pictures/${n.uid}`);await Dg(b)}C(""),M.current&&(M.current.value=""),Ue.success("Profile picture removed")}catch(b){console.error("Error removing profile picture:",b),Ue.error("Failed to remove profile picture")}},ee=async()=>{try{Ue.success("Account deletion would be implemented here"),await t()}catch(b){console.error("Error deleting account:",b),Ue.error("Failed to delete account")}},D=async b=>{try{await Jn.deleteGallery(b),i(j=>j.filter(L=>L.id!==b)),Ue.success("Gallery deleted successfully")}catch(j){console.error("Error deleting gallery:",j),Ue.error("Failed to delete gallery")}};return c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"mb-2",children:"User Profile"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your account information and preferences"})]}),c.jsx("div",{className:"flex items-center gap-2",children:h?c.jsxs(c.Fragment,{children:[c.jsx(re,{onClick:W,size:"sm",disabled:m,children:m?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(yj,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),c.jsxs(re,{onClick:$,variant:"outline",size:"sm",disabled:m,children:[c.jsx(bn,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):c.jsxs(re,{onClick:()=>p(!0),size:"sm",children:[c.jsx($o,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]}),c.jsxs(sC,{defaultValue:"personal",className:"w-full",children:[c.jsxs(iC,{className:"grid w-full grid-cols-3",children:[c.jsx(Fc,{value:"personal",children:"Personal Info"}),c.jsx(Fc,{value:"galleries",children:"Galleries"}),c.jsx(Fc,{value:"security",children:"Security"})]}),c.jsx(Uc,{value:"personal",className:"space-y-6",children:c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs(Bt,{className:"flex items-center gap-2",children:[c.jsx(Dj,{className:"h-5 w-5"}),"Personal Information"]}),c.jsx(Jt,{children:"Your basic account information"})]}),c.jsxs(pt,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(It,{children:"Profile Picture"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(dT,{className:"h-20 w-20",children:[c.jsx(hT,{src:T,alt:"Profile"}),c.jsxs(fT,{className:"text-lg",children:[n.firstName.charAt(0),n.lastName.charAt(0)]})]}),c.jsxs("div",{className:"space-y-2",children:[h?c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:()=>M.current?.click(),disabled:A,children:A?c.jsxs(c.Fragment,{children:[c.jsx(er,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Upload Photo"]})}),T&&c.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:K,children:[c.jsx(bn,{className:"h-4 w-4 mr-2"}),"Remove"]}),c.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:B,className:"hidden"})]}):c.jsx("p",{className:"text-sm text-muted-foreground",children:T?"Profile picture uploaded":"No profile picture set"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG or GIF. Max size 5MB."})]})]})]}),c.jsx(nl,{}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"firstName",children:"First Name"}),h?c.jsx(ft,{id:"firstName",value:v.firstName,onChange:b=>x({...v,firstName:b.target.value}),placeholder:"Enter your first name"}):c.jsx("div",{className:"p-3 bg-muted rounded-md",children:n.firstName||"Not set"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"lastName",children:"Last Name"}),h?c.jsx(ft,{id:"lastName",value:v.lastName,onChange:b=>x({...v,lastName:b.target.value}),placeholder:"Enter your last name"}):c.jsx("div",{className:"p-3 bg-muted rounded-md",children:n.lastName||"Not set"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"screenName",children:"Screen Name"}),h?c.jsx(ft,{id:"screenName",value:v.screenName,onChange:b=>x({...v,screenName:b.target.value}),placeholder:"Enter your screen name"}):c.jsx("div",{className:"p-3 bg-muted rounded-md",children:n.screenName}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"This is the name displayed when you're logged in"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{htmlFor:"email",children:"Email Address"}),c.jsx("div",{className:"p-3 bg-muted rounded-md",children:n.email}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Email address cannot be changed. Contact support if needed."})]})]})]})}),c.jsx(Uc,{value:"galleries",className:"space-y-6",children:c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsx(Bt,{children:"Your Galleries"}),c.jsx(Jt,{children:"A list of all galleries you have created"})]}),c.jsx(pt,{children:a?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(er,{className:"h-8 w-8 mx-auto animate-spin mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading galleries..."})]}):r.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"You haven't created any galleries yet."})}):c.jsx("div",{className:"space-y-4",children:r.map(b=>c.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-medium",children:b.name}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(CP,{className:"h-3 w-3"}),"Created ",b.createdAt.toDate().toLocaleDateString()]}),c.jsxs(_r,{variant:"secondary",children:[b.images.length," images"]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(re,{variant:"outline",size:"sm",children:"View Gallery"}),c.jsxs(Yh,{children:[c.jsx(Xh,{asChild:!0,children:c.jsx(re,{variant:"outline",size:"sm",className:"text-destructive hover:text-destructive",children:c.jsx(Os,{className:"h-4 w-4"})})}),c.jsxs(Jh,{children:[c.jsxs(Zh,{children:[c.jsx(tf,{children:"Delete Gallery"}),c.jsxs(nf,{children:['Are you sure you want to delete "',b.name,'"? This will permanently delete the gallery and all ',b.images.length," images in it. This action cannot be undone."]})]}),c.jsxs(ef,{children:[c.jsx(sf,{children:"Cancel"}),c.jsx(rf,{onClick:()=>D(b.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Gallery"})]})]})]})]})]},b.id))})})]})}),c.jsx(Uc,{value:"security",className:"space-y-6",children:c.jsxs(wt,{children:[c.jsxs(Xt,{children:[c.jsxs(Bt,{className:"flex items-center gap-2",children:[c.jsx(_j,{className:"h-5 w-5"}),"Security Settings"]}),c.jsx(Jt,{children:"Manage your account security"})]}),c.jsxs(pt,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(It,{children:"Password"}),c.jsx("div",{className:"p-4 bg-muted rounded-md",children:c.jsx("p",{className:"text-sm text-muted-foreground",children:"Password management is handled by Firebase Authentication. To change your password, you would need to implement password reset functionality."})})]}),c.jsx(nl,{}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-destructive",children:"Danger Zone"}),c.jsx("div",{className:"p-4 border border-destructive/20 rounded-md bg-destructive/5",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h5",{className:"font-medium",children:"Delete Account"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),c.jsxs(Yh,{children:[c.jsx(Xh,{asChild:!0,children:c.jsxs(re,{variant:"destructive",size:"sm",children:[c.jsx(Os,{className:"h-4 w-4 mr-2"}),"Delete Account"]})}),c.jsxs(Jh,{children:[c.jsxs(Zh,{children:[c.jsx(tf,{children:"Delete Account"}),c.jsxs(nf,{children:["Are you absolutely sure you want to delete your account? This will permanently delete:",c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[c.jsx("li",{children:"Your profile information"}),c.jsx("li",{children:"All your galleries and images"}),c.jsx("li",{children:"All your documents and folders"}),c.jsx("li",{children:"All your tags and metadata"})]}),"This action cannot be undone."]})]}),c.jsxs(ef,{children:[c.jsx(sf,{children:"Cancel"}),c.jsx(rf,{onClick:ee,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Account"})]})]})]})]})})]})]})]})})]})]})}function J5(){const{currentUser:n,logout:e}=Iv(),[t,r]=S.useState("home"),[i,a]=S.useState(null),u=(m,y)=>{m==="folder-detail"&&y?(a(y),r("folder-detail")):(r(m),a(null))},h=async()=>{try{await e(),r("home")}catch(m){console.error("Logout error:",m)}},p=()=>{switch(t){case"home":return c.jsx(Zm,{onNavigate:u,user:n});case"references":return c.jsx(b5,{user:n});case"art":return c.jsx(S5,{user:n});case"documents":return c.jsx(pE,{onNavigate:u,user:n});case"tools":return c.jsx(F5,{});case"resources":return c.jsx(U5,{});case"folder-detail":return i?c.jsx($5,{folderId:i,onNavigate:u,user:n}):c.jsx(pE,{onNavigate:u,user:n});case"login":return c.jsx(Y5,{onNavigate:u});case"profile":return n?c.jsx(X5,{user:n}):c.jsx(Zm,{onNavigate:u,user:n});default:return c.jsx(Zm,{onNavigate:u,user:n})}};return t==="login"?c.jsx(dE,{children:c.jsx(hE,{children:p()})}):c.jsx(dE,{children:c.jsx(hE,{children:c.jsx(iD,{currentPage:t,onNavigate:u,user:n,onLogout:h,children:p()})})})}function Z5(){return c.jsx(Q5,{children:c.jsx(J5,{})})}xN.createRoot(document.getElementById("root")).render(c.jsx(Z5,{}));
